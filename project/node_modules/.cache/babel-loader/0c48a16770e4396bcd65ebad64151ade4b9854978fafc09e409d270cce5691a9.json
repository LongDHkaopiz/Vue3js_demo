{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withModifiers as _withModifiers, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-508c15a3\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"vfc-day\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"vfc-base-start\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"vfc-base-end\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$options.startActive ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2)) : _createCommentVNode(\"v-if\", true), $options.endActive ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3)) : _createCommentVNode(\"v-if\", true), !$props.day.hideLeftAndRightDays ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 2,\n    class: _normalizeClass($options.getClassNames($props.day)),\n    onClick: _cache[3] || (_cache[3] = _withModifiers($event => _ctx.$parent.$parent.clickDay($props.day, $options.isDisabledDate), [\"self\"])),\n    onMouseover: _cache[4] || (_cache[4] = (...args) => $options.dayMouseOver && $options.dayMouseOver(...args))\n  }, [_renderSlot(_ctx.$slots, \"default\", {\n    week: $props.week,\n    day: $props.day\n  }, () => [_createTextVNode(_toDisplayString($props.day.day), 1 /* TEXT */)], true), $options.timesShow ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.clearRange && $options.clearRange(...args)),\n    class: \"times\"\n  }, \"×\")) : _createCommentVNode(\"v-if\", true), $options.numberShow ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 1,\n    onMouseover: _cache[1] || (_cache[1] = $event => $data.toolTip && ($data.onNumber = true)),\n    onMouseleave: _cache[2] || (_cache[2] = $event => $data.onNumber = false),\n    class: \"number\"\n  }, [_createTextVNode(_toDisplayString($options.getDaysNumber) + \" \", 1 /* TEXT */), _withDirectives(_createElementVNode(\"div\", {\n    class: \"toolTip\"\n  }, _toDisplayString($options.toolTipTxt().join(' ')), 513 /* TEXT, NEED_PATCH */), [[_vShow, $data.toolTip && $data.onNumber]])], 32 /* HYDRATE_EVENTS */)) : _createCommentVNode(\"v-if\", true)], 34 /* CLASS, HYDRATE_EVENTS */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","$options","startActive","_hoisted_2","endActive","_hoisted_3","$props","day","hideLeftAndRightDays","_normalizeClass","getClassNames","onClick","_cache","_withModifiers","$event","_ctx","$parent","clickDay","isDisabledDate","onMouseover","args","dayMouseOver","_renderSlot","$slots","week","timesShow","clearRange","numberShow","$data","toolTip","onNumber","onMouseleave","getDaysNumber","_createElementVNode","_toDisplayString","toolTipTxt","join"],"sources":["/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-functional-calendar/src/components/Day.vue"],"sourcesContent":["<template>\n  <div class=\"vfc-day\">\n    <div v-if=\"startActive\" class=\"vfc-base-start\"></div>\n    <div v-if=\"endActive\" class=\"vfc-base-end\"></div>\n    <span\n      v-if=\"!day.hideLeftAndRightDays\"\n      :class=\"getClassNames(day)\"\n      @click.self=\"$parent.$parent.clickDay(day, isDisabledDate)\"\n      @mouseover=\"dayMouseOver\"\n    >\n      <slot :week=\"week\" :day=\"day\">{{ day.day }}</slot>\n      <span v-if=\"timesShow\" @click=\"clearRange\" class=\"times\">&times;</span>\n      <span\n        v-if=\"numberShow\"\n        @mouseover=\"toolTip && (onNumber = true)\"\n        @mouseleave=\"onNumber = false\"\n        class=\"number\"\n        >{{ getDaysNumber }}\n        <div v-show=\"toolTip && onNumber\" class=\"toolTip\">\n          {{ toolTipTxt().join('&nbsp;') }}\n        </div>\n      </span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Day',\n  props: {\n    day_key: {\n      type: Number,\n      required: true\n    },\n    week: {\n      type: Object,\n      required: true\n    },\n    day: {\n      type: Object,\n      required: true\n    },\n    helpCalendar: {\n      type: Object,\n      required: true\n    },\n    fConfigs: {\n      type: Object,\n      required: true\n    },\n    calendar: {\n      type: Object,\n      required: true\n    },\n    alwaysUseDefaultClasses: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      toolTip: false,\n      onNumber: false\n      // toolTipTxt\n    }\n  },\n  computed: {\n    startActive() {\n      if (!this.fConfigs.isMultipleDateRange)\n        return (\n          (this.day.isDateRangeStart || this.day.isMouseToLeft) &&\n          !this.day.hideLeftAndRightDays\n        )\n\n      if (!''.inRange) this.inRangeInit()\n\n      const inAnyRange = this.day.date.inRange(this.calendar.multipleDateRange)\n\n      const lastElement = this.calendar.multipleDateRange[\n        this.calendar.multipleDateRange.length - 1\n      ]\n      if (!lastElement) return inAnyRange\n      const lastHasDayStart = ~this.calendar.multipleDateRange\n        .map(range => range.start)\n        .indexOf(this.day.date)\n      const lastHasDayEnd = ~this.calendar.multipleDateRange\n        .map(range => range.end)\n        .indexOf(this.day.date)\n\n      if (lastHasDayStart === lastHasDayEnd && lastHasDayEnd) return inAnyRange\n\n      if (\n        lastHasDayStart &&\n        ~lastHasDayStart > -1 &&\n        this.calendar.multipleDateRange[~lastHasDayStart].end\n      )\n        return lastHasDayStart || inAnyRange\n\n      if (!lastElement.start && !lastElement.end) {\n        return lastHasDayStart || inAnyRange\n      }\n      // console.log('lastElement')\n\n      return (\n        ((this.day.isDateRangeStart || this.day.isMouseToLeft) &&\n          !this.day.hideLeftAndRightDays) ||\n        inAnyRange\n      )\n    },\n    endActive() {\n      if (!this.fConfigs.isMultipleDateRange)\n        return (\n          (this.day.isDateRangeEnd || this.day.isMouseToRight) &&\n          !this.day.hideLeftAndRightDays\n        )\n\n      if (!''.inRange) this.inRangeInit()\n\n      const inAnyRange = this.day.date.inRange(this.calendar.multipleDateRange)\n\n      const lastElement = this.calendar.multipleDateRange[\n        this.calendar.multipleDateRange.length - 1\n      ]\n      if (!lastElement) return inAnyRange\n\n      const lastHasDayStart = ~this.calendar.multipleDateRange\n        .map(range => range.start)\n        .indexOf(this.day.date)\n      const lastHasDayEnd = ~this.calendar.multipleDateRange\n        .map(range => range.end)\n        .indexOf(this.day.date)\n\n      if (lastHasDayStart === lastHasDayEnd && lastHasDayEnd) return inAnyRange\n\n      if (lastHasDayEnd) return true\n\n      if (!lastElement.start && !lastElement.end) {\n        if (lastElement.start === lastElement.end) return false\n        return lastHasDayEnd\n      }\n      return (\n        ((this.day.isDateRangeEnd || this.day.isMouseToRight) &&\n          !this.day.hideLeftAndRightDays) ||\n        inAnyRange\n      )\n    },\n    numberShow() {\n      if (!this.fConfigs.isMultipleDateRange) return false\n\n      let endPos = this.calendar.multipleDateRange\n        .map(range => range.end)\n        .indexOf(this.day.date)\n\n      return !!(\n        ~endPos ||\n        ~this.calendar.multipleDateRange\n          .map(range => range.start)\n          .indexOf(this.day.date)\n      )\n    },\n    timesShow() {\n      let res = this.calendar.multipleDateRange\n        ? ~this.calendar.multipleDateRange\n            .map(range => range.end)\n            .indexOf(this.day.date)\n        : -1\n      return this.fConfigs.isMultipleDateRange && res\n    },\n    getDaysNumber() {\n      const endPosFirst = this.calendar.multipleDateRange\n        .map(range => range.end)\n        .indexOf(this.day.date)\n      const startPosFirst = this.calendar.multipleDateRange\n        .map(range => range.start)\n        .indexOf(this.day.date)\n      const endPosLast = this.calendar.multipleDateRange\n        .map(range => range.end)\n        .lastIndexOf(this.day.date)\n      const startPosLast = this.calendar.multipleDateRange\n        .map(range => range.start)\n        .lastIndexOf(this.day.date)\n\n      // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n      this.toolTip =\n        endPosFirst !== endPosLast ||\n        startPosFirst !== startPosLast ||\n        (endPosFirst > -1 && startPosFirst > -1) ||\n        (startPosFirst > -1 && endPosFirst > -1)\n\n      if (this.toolTip) {\n        return '·'\n      }\n\n      return (endPosFirst > -1 ? Number(endPosFirst) : 0) || startPosFirst\n    }\n  },\n  methods: {\n    toolTipTxt() {\n      const numbers = []\n      const endArr = this.calendar.multipleDateRange.map(range => range.end)\n      const startArr = this.calendar.multipleDateRange.map(range => range.start)\n      let endIndex = 0\n      let startIndex = 0\n      let ind = endArr.indexOf(this.day.date, endIndex)\n      while (~endArr.indexOf(this.day.date, endIndex)) {\n        ind = endArr.indexOf(this.day.date, endIndex)\n\n        numbers.push(ind)\n        endIndex = ind + 1\n      }\n      ind = startArr.indexOf(this.day.date, startIndex)\n      while (~startArr.indexOf(this.day.date, startIndex)) {\n        ind = startArr.indexOf(this.day.date, startIndex)\n\n        numbers.push(ind)\n        startIndex = ind + 1\n      }\n      return numbers.sort((a, b) => a - b)\n    },\n    inRangeInit() {\n      //!!!!\\\\\n      const helpCalendar = this.helpCalendar\n      String.prototype.inRange = function(arr) {\n        let res = false\n        arr.forEach(el => {\n          const start = +helpCalendar.getDateFromFormat(el.start.split(' ')[0])\n          const end = +helpCalendar.getDateFromFormat(el.end.split(' ')[0])\n          const current = +helpCalendar.getDateFromFormat(this.split(' ')[0])\n          if (start === end) return\n          if (start && end) res = res || (start < current && current < end)\n        })\n        return res\n      }\n      //!!!!\\\\\n    },\n\n    clearRange() {\n      //$emit\n      const removeIndex = this.calendar.multipleDateRange.findIndex(\n        range => range.end === this.day.date\n      )\n      this.calendar.multipleDateRange.splice(removeIndex, 1)\n    },\n    dayMouseOver() {\n      this.$emit('dayMouseOver', this.day.date)\n    },\n    hasSlot(name = 'default') {\n      return (\n        !!this.$parent.$parent.$slots[name] ||\n        !!this.$parent.$parent.$scopedSlots[name]\n      )\n    },\n    isDisabledDate(date) {\n      const datesCollection = this.fConfigs.disabledDates\n\n      return (\n        this.isDateIncludedInDatesCollection(date, datesCollection) ||\n        !this.isEnabledDate(date)\n      )\n    },\n    isEnabledDate(date) {\n      const datesCollection = this.fConfigs.enabledDates\n\n      return (\n        !datesCollection.length ||\n        this.isDateIncludedInDatesCollection(date, datesCollection)\n      )\n    },\n    isDateIncludedInDatesCollection(date, datesCollection) {\n      let today = new Date()\n      today.setHours(0, 0, 0, 0)\n      let dateObj = this.helpCalendar.getDateFromFormat(date)\n\n      return (\n        datesCollection.includes(date) ||\n        (datesCollection.includes('beforeToday') &&\n          dateObj.getTime() < today.getTime()) ||\n        (datesCollection.includes('afterToday') &&\n          dateObj.getTime() > today.getTime())\n      )\n    },\n    getClassNames(day) {\n      let classes = []\n\n      if (!this.hasSlot('default') || this.alwaysUseDefaultClasses) {\n        classes.push('vfc-span-day')\n      }\n\n      // Disable days of week if set in configuration\n      let dateDay = this.helpCalendar.getDateFromFormat(day.date).getDay() - 1\n      if (dateDay === -1) {\n        dateDay = 6\n      }\n      let dayOfWeekString = this.fConfigs.dayNames[dateDay]\n      if (this.fConfigs.disabledDayNames.includes(dayOfWeekString)) {\n        day.hide = true\n        classes.push('vfc-cursor-not-allowed')\n      }\n\n      let date = this.helpCalendar.getDateFromFormat(day.date)\n      let today = new Date()\n      today.setHours(0, 0, 0, 0)\n      // Disabled dates\n      if (this.isDisabledDate(day.date)) {\n        classes.push('vfc-disabled')\n        classes.push('vfc-cursor-not-allowed')\n      }\n\n      if (this.fConfigs.limits) {\n        let min = this.helpCalendar\n          .getDateFromFormat(this.fConfigs.limits.min)\n          .getTime()\n        let max = this.helpCalendar\n          .getDateFromFormat(this.fConfigs.limits.max)\n          .getTime()\n\n        if (date.getTime() < min || date.getTime() > max) {\n          classes.push('vfc-disabled')\n          classes.push('vfc-cursor-not-allowed')\n        }\n      }\n\n      if (day.hide) {\n        classes.push('vfc-hide')\n      }\n\n      // Today date\n      if (day.isToday) {\n        classes.push('vfc-today')\n      }\n      if (\n        !day.hideLeftAndRightDays &&\n        !this.fConfigs.disabledDayNames.includes(dayOfWeekString)\n      ) {\n        // Mark Date\n        if (day.isMarked) {\n          classes.push('vfc-marked')\n        } else if (day.isHovered) {\n          classes.push('vfc-hovered')\n        }\n        if (this.fConfigs.markedDates.includes(day.date)) {\n          classes.push('vfc-borderd')\n        }\n\n        if (Array.isArray(this.fConfigs.markedDateRange)) {\n          this.fConfigs.markedDateRange.forEach(range => {\n            if (\n              this.helpCalendar.getDateFromFormat(range.start) <=\n                this.helpCalendar.getDateFromFormat(day.date) &&\n              this.helpCalendar.getDateFromFormat(range.end) >=\n                this.helpCalendar.getDateFromFormat(day.date)\n            ) {\n              classes.push('vfc-marked')\n            }\n            if (day.date === range.start) {\n              classes.push('vfc-start-marked')\n            } else if (day.date === range.end) {\n              classes.push('vfc-end-marked')\n            }\n          })\n        } else if (\n          this.fConfigs.markedDateRange.start &&\n          this.fConfigs.markedDateRange.end\n        ) {\n          // Date Range Marked\n\n          if (\n            this.helpCalendar.getDateFromFormat(\n              this.fConfigs.markedDateRange.start\n            ) <= this.helpCalendar.getDateFromFormat(day.date) &&\n            this.helpCalendar.getDateFromFormat(\n              this.fConfigs.markedDateRange.end\n            ) >= this.helpCalendar.getDateFromFormat(day.date)\n          ) {\n            classes.push('vfc-marked')\n          }\n          if (day.date === this.fConfigs.markedDateRange.start) {\n            classes.push('vfc-start-marked')\n          } else if (day.date === this.fConfigs.markedDateRange.end) {\n            classes.push('vfc-end-marked')\n          }\n        } else {\n          // Only After Start Marked\n          if (this.fConfigs.markedDateRange.start) {\n            if (\n              this.helpCalendar.getDateFromFormat(\n                this.fConfigs.markedDateRange.start\n              ) <= this.helpCalendar.getDateFromFormat(day.date)\n            )\n              classes.push('vfc-marked')\n          }\n\n          // Only Before End Marked\n          if (this.fConfigs.markedDateRange.end) {\n            if (\n              this.helpCalendar.getDateFromFormat(\n                this.fConfigs.markedDateRange.end\n              ) >= this.helpCalendar.getDateFromFormat(day.date)\n            )\n              classes.push('vfc-marked')\n          }\n        }\n\n        classes.push('vfc-hover')\n      }\n      //Date Multiple Range\n      if (this.fConfigs.isMultipleDateRange) {\n        if (!''.inRange) this.inRangeInit()\n        // console.log(day.date.inRange(this.calendar.multipleDateRange))\n        if (\n          day.isMarked ||\n          ~this.calendar.multipleDateRange\n            .map(range => range.start.split(' ')[0])\n            .indexOf(day.date) ||\n          ~this.calendar.multipleDateRange\n            .map(range => range.end.split(' ')[0])\n            .indexOf(day.date) ||\n          day.date.inRange(this.calendar.multipleDateRange)\n        ) {\n          classes.push('vfc-marked')\n        }\n        // } else if (day.isHovered) {\n        // classes.push('vfc-hovered')\n        // }\n        if (this.fConfigs.markedDates.includes(day.date)) {\n          classes.push('vfc-borderd')\n        }\n        // console.log(\n        //   ~this.calendar.multipleDateRange\n        //     .map(range => range.start)\n        //     .indexOf(day.date)\n        // )\n        if (\n          ~this.calendar.multipleDateRange\n            .map(range => range.start.split(' ')[0])\n            .indexOf(day.date)\n        ) {\n          classes.push('vfc-start-marked')\n        }\n\n        if (\n          ~this.calendar.multipleDateRange\n            .map(range => range.end.split(' ')[0])\n            .indexOf(day.date)\n        ) {\n          classes.push('vfc-end-marked')\n        }\n      }\n      // Date Mark With Custom Classes\n      if (typeof this.fConfigs.markedDates === 'object') {\n        let checkMarked = this.fConfigs.markedDates.find(markDate => {\n          return markDate.date === day.date\n        })\n\n        if (typeof checkMarked !== 'undefined') {\n          classes.push(checkMarked.class)\n        }\n      }\n\n      if (day.date === this.calendar.dateRange.start.split(' ')[0]) {\n        classes.push('vfc-start-marked')\n      }\n\n      if (day.date === this.calendar.dateRange.end.split(' ')[0]) {\n        classes.push('vfc-end-marked')\n      }\n\n      if (\n        day.date === this.calendar.selectedDate ||\n        (this.calendar.hasOwnProperty('selectedDates') &&\n          this.calendar.selectedDates.find(sDate => sDate.date === day.date))\n      ) {\n        classes.push('vfc-borderd')\n      }\n\n      return classes\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.vfc-day {\n  position: relative;\n  .times {\n    position: absolute;\n    top: -5px;\n    background-color: red;\n    color: white;\n    border-radius: 50%;\n    width: 15px;\n    z-index: 20;\n    height: 15px;\n    line-height: 15px;\n    &:hover {\n      cursor: pointer;\n      background-color: rgb(199, 0, 0);\n    }\n  }\n  .number {\n    position: absolute;\n    top: -5px;\n    right: calc(50% + 7px);\n    background-color: green;\n    color: white;\n    font-size: 10px;\n    border-radius: 50%;\n    width: 15px;\n    z-index: 30;\n    height: 15px;\n    line-height: 15px;\n    &:hover {\n      background-color: rgb(0, 94, 0);\n    }\n  }\n  .toolTip {\n    position: absolute;\n    top: -20px;\n    left: 0;\n    padding: 5px;\n    max-width: 108px;\n    word-wrap: break-word;\n    border-radius: 5px;\n    z-index: 200;\n    background-color: rgb(0, 94, 0);\n  }\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAS;;;EACMA,KAAK,EAAC;;;;EACRA,KAAK,EAAC;;;uBAF9BC,mBAAA,CAsBM,OAtBNC,UAsBM,GArBOC,QAAA,CAAAC,WAAW,I,cAAtBH,mBAAA,CAAqD,OAArDI,UAAqD,K,mCAC1CF,QAAA,CAAAG,SAAS,I,cAApBL,mBAAA,CAAiD,OAAjDM,UAAiD,K,oCAExCC,MAAA,CAAAC,GAAG,CAACC,oBAAoB,I,cADjCT,mBAAA,CAkBO;;IAhBJD,KAAK,EAAAW,eAAA,CAAER,QAAA,CAAAS,aAAa,CAACJ,MAAA,CAAAC,GAAG;IACxBI,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAAC,MAAA,IAAOC,IAAA,CAAAC,OAAO,CAACA,OAAO,CAACC,QAAQ,CAACX,MAAA,CAAAC,GAAG,EAAEN,QAAA,CAAAiB,cAAc;IACxDC,WAAS,EAAAP,MAAA,QAAAA,MAAA,UAAAQ,IAAA,KAAEnB,QAAA,CAAAoB,YAAA,IAAApB,QAAA,CAAAoB,YAAA,IAAAD,IAAA,CAAY;MAExBE,WAAA,CAAkDP,IAAA,CAAAQ,MAAA;IAA3CC,IAAI,EAAElB,MAAA,CAAAkB,IAAI;IAAGjB,GAAG,EAAED,MAAA,CAAAC;KAAzB,MAAkD,C,kCAAjBD,MAAA,CAAAC,GAAG,CAACA,GAAG,iB,SAC5BN,QAAA,CAAAwB,SAAS,I,cAArB1B,mBAAA,CAAuE;;IAA/CY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAQ,IAAA,KAAEnB,QAAA,CAAAyB,UAAA,IAAAzB,QAAA,CAAAyB,UAAA,IAAAN,IAAA,CAAU;IAAEtB,KAAK,EAAC;KAAQ,GAAO,K,mCAExDG,QAAA,CAAA0B,UAAU,I,cADlB5B,mBAAA,CASO;;IAPJoB,WAAS,EAAAP,MAAA,QAAAA,MAAA,MAAAE,MAAA,IAAEc,KAAA,CAAAC,OAAO,KAAKD,KAAA,CAAAE,QAAQ;IAC/BC,YAAU,EAAAnB,MAAA,QAAAA,MAAA,MAAAE,MAAA,IAAEc,KAAA,CAAAE,QAAQ;IACrBhC,KAAK,EAAC;wCACFG,QAAA,CAAA+B,aAAa,IAAG,GACpB,iB,gBAAAC,mBAAA,CAEM;IAF4BnC,KAAK,EAAC;EAAS,GAAAoC,gBAAA,CAC5CjC,QAAA,CAAAkC,UAAU,GAAGC,IAAI,sC,SADTR,KAAA,CAAAC,OAAO,IAAID,KAAA,CAAAE,QAAQ,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}