{"version":3,"file":"js/about.fc5862fe.js","mappings":"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","sources":["webpack://miniproject/./node_modules/core-js/internals/regexp-flags.js","webpack://miniproject/./node_modules/core-js/modules/es.regexp.flags.js","webpack://miniproject/./node_modules/recaptcha-v3/dist/ReCaptcha.js","webpack://miniproject/./node_modules/recaptcha-v3/dist/ReCaptchaInstance.js","webpack://miniproject/./node_modules/recaptcha-v3/dist/ReCaptchaLoader.js","webpack://miniproject/./src/views/admin/authors/Dashboard.vue","webpack://miniproject/./node_modules/vue-recaptcha-v3/dist/ReCaptchaVuePlugin.js","webpack://miniproject/./node_modules/vue/dist/vue.runtime.esm-bundler.js","webpack://miniproject/./src/views/admin/common/chartProduct.js","webpack://miniproject/./src/views/admin/common/chart_dash.js","webpack://miniproject/./src/views/admin/common/contants.js","webpack://miniproject/./src/views/admin/authors/Country.vue","webpack://miniproject/./src/views/admin/authors/Country.vue?65c6","webpack://miniproject/./src/views/admin/authors/Dashboard.vue?5495","webpack://miniproject/./src/views/admin/authors/ForgotPassword.vue","webpack://miniproject/./src/views/admin/authors/ForgotPassword.vue?cc3d","webpack://miniproject/./src/views/admin/authors/Login.vue","webpack://miniproject/./src/views/admin/authors/Login.vue?11a1","webpack://miniproject/./src/views/admin/authors/Profile.vue","webpack://miniproject/./src/views/admin/authors/Profile.vue?35e4","webpack://miniproject/./src/views/admin/authors/Sidebar.vue","webpack://miniproject/./src/views/admin/authors/Sidebar.vue?36de","webpack://miniproject/./src/views/admin/authors/SignUp.vue","webpack://miniproject/./src/views/admin/authors/SignUp.vue?0dcc","webpack://miniproject/./src/views/admin/authors/UpdatePassword.vue","webpack://miniproject/./src/views/admin/authors/UpdatePassword.vue?7388","webpack://miniproject/./src/views/admin/authors/Weather.vue","webpack://miniproject/./src/views/admin/authors/Weather.vue?8c51","webpack://miniproject/./src/views/admin/products/Form.vue","webpack://miniproject/./src/views/admin/products/Form.vue?214d","webpack://miniproject/./src/views/admin/products/List.vue","webpack://miniproject/./src/views/admin/products/List.vue?eb6f","webpack://miniproject/./src/views/admin/users/Formuser.vue","webpack://miniproject/./src/views/admin/users/Formuser.vue?bc73","webpack://miniproject/./src/views/admin/users/Listuser.vue","webpack://miniproject/./src/views/admin/users/Listuser.vue?930b","webpack://miniproject/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://miniproject/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://miniproject/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://miniproject/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://miniproject/./node_modules/@kurkle/color/dist/color.esm.js","webpack://miniproject/../../src/helpers/helpers.core.ts","webpack://miniproject/../../src/helpers/helpers.math.ts","webpack://miniproject/../../src/helpers/helpers.collection.ts","webpack://miniproject/../../src/helpers/helpers.extras.ts","webpack://miniproject/../../src/helpers/helpers.easing.ts","webpack://miniproject/../../src/helpers/helpers.color.ts","webpack://miniproject/../../src/core/core.animations.defaults.js","webpack://miniproject/../../src/core/core.layouts.defaults.js","webpack://miniproject/../../src/helpers/helpers.intl.ts","webpack://miniproject/../../src/core/core.ticks.js","webpack://miniproject/../../src/core/core.scale.defaults.js","webpack://miniproject/../../src/core/core.defaults.js","webpack://miniproject/../../src/helpers/helpers.canvas.ts","webpack://miniproject/../../src/helpers/helpers.options.ts","webpack://miniproject/../../src/helpers/helpers.config.ts","webpack://miniproject/../../src/helpers/helpers.curve.ts","webpack://miniproject/../../src/helpers/helpers.dom.ts","webpack://miniproject/../../src/helpers/helpers.interpolation.ts","webpack://miniproject/../../src/helpers/helpers.rtl.ts","webpack://miniproject/../../src/helpers/helpers.segment.js","webpack://miniproject/../src/core/core.animator.js","webpack://miniproject/../src/core/core.animation.js","webpack://miniproject/../src/core/core.animations.js","webpack://miniproject/../src/core/core.datasetController.js","webpack://miniproject/../src/controllers/controller.bar.js","webpack://miniproject/../src/controllers/controller.bubble.js","webpack://miniproject/../src/controllers/controller.doughnut.js","webpack://miniproject/../src/controllers/controller.line.js","webpack://miniproject/../src/controllers/controller.polarArea.js","webpack://miniproject/../src/controllers/controller.pie.js","webpack://miniproject/../src/controllers/controller.radar.js","webpack://miniproject/../src/controllers/controller.scatter.js","webpack://miniproject/../src/core/core.adapters.ts","webpack://miniproject/../src/core/core.interaction.js","webpack://miniproject/../src/core/core.layouts.js","webpack://miniproject/../src/platform/platform.base.js","webpack://miniproject/../src/platform/platform.basic.js","webpack://miniproject/../src/platform/platform.dom.js","webpack://miniproject/../src/platform/index.js","webpack://miniproject/../src/core/core.element.ts","webpack://miniproject/../src/core/core.scale.autoskip.js","webpack://miniproject/../src/core/core.scale.js","webpack://miniproject/../src/core/core.typedRegistry.js","webpack://miniproject/../src/core/core.registry.js","webpack://miniproject/../src/core/core.plugins.js","webpack://miniproject/../src/core/core.config.js","webpack://miniproject/../src/core/core.controller.js","webpack://miniproject/../src/elements/element.arc.ts","webpack://miniproject/../src/elements/element.line.js","webpack://miniproject/../src/elements/element.point.ts","webpack://miniproject/../src/elements/element.bar.js","webpack://miniproject/../src/plugins/plugin.legend.js","webpack://miniproject/../src/plugins/plugin.title.js","webpack://miniproject/../src/plugins/plugin.subtitle.js","webpack://miniproject/../src/plugins/plugin.tooltip.js","webpack://miniproject/../src/scales/scale.category.js","webpack://miniproject/../src/scales/scale.linearbase.js","webpack://miniproject/../src/scales/scale.linear.js","webpack://miniproject/../src/scales/scale.logarithmic.js","webpack://miniproject/../src/scales/scale.radialLinear.js","webpack://miniproject/../src/scales/scale.time.js","webpack://miniproject/../src/scales/scale.timeseries.js","webpack://miniproject/../src/props.ts","webpack://miniproject/../src/utils.ts","webpack://miniproject/../src/chart.ts","webpack://miniproject/../src/typedCharts.ts"],"sourcesContent":["'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar regExpFlags = require('../internals/regexp-flags');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = global.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {\n  configurable: true,\n  get: regExpFlags\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReCaptchaInstance = exports.getInstance = exports.load = void 0;\nvar ReCaptchaLoader_1 = require(\"./ReCaptchaLoader\");\nObject.defineProperty(exports, \"load\", { enumerable: true, get: function () { return ReCaptchaLoader_1.load; } });\nObject.defineProperty(exports, \"getInstance\", { enumerable: true, get: function () { return ReCaptchaLoader_1.getInstance; } });\nvar ReCaptchaInstance_1 = require(\"./ReCaptchaInstance\");\nObject.defineProperty(exports, \"ReCaptchaInstance\", { enumerable: true, get: function () { return ReCaptchaInstance_1.ReCaptchaInstance; } });\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReCaptchaInstance = void 0;\nvar ReCaptchaInstance = (function () {\n    function ReCaptchaInstance(siteKey, recaptchaID, recaptcha) {\n        this.siteKey = siteKey;\n        this.recaptchaID = recaptchaID;\n        this.recaptcha = recaptcha;\n        this.styleContainer = null;\n    }\n    ReCaptchaInstance.prototype.execute = function (action) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, this.recaptcha.enterprise ? this.recaptcha.enterprise.execute(this.recaptchaID, { action: action }) : this.recaptcha.execute(this.recaptchaID, { action: action })];\n            });\n        });\n    };\n    ReCaptchaInstance.prototype.getSiteKey = function () {\n        return this.siteKey;\n    };\n    ReCaptchaInstance.prototype.hideBadge = function () {\n        if (this.styleContainer !== null) {\n            return;\n        }\n        this.styleContainer = document.createElement('style');\n        this.styleContainer.innerHTML = '.grecaptcha-badge{visibility:hidden !important;}';\n        document.head.appendChild(this.styleContainer);\n    };\n    ReCaptchaInstance.prototype.showBadge = function () {\n        if (this.styleContainer === null) {\n            return;\n        }\n        document.head.removeChild(this.styleContainer);\n        this.styleContainer = null;\n    };\n    return ReCaptchaInstance;\n}());\nexports.ReCaptchaInstance = ReCaptchaInstance;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getInstance = exports.load = void 0;\nvar ReCaptchaInstance_1 = require(\"./ReCaptchaInstance\");\nvar ELoadingState;\n(function (ELoadingState) {\n    ELoadingState[ELoadingState[\"NOT_LOADED\"] = 0] = \"NOT_LOADED\";\n    ELoadingState[ELoadingState[\"LOADING\"] = 1] = \"LOADING\";\n    ELoadingState[ELoadingState[\"LOADED\"] = 2] = \"LOADED\";\n})(ELoadingState || (ELoadingState = {}));\nvar ReCaptchaLoader = (function () {\n    function ReCaptchaLoader() {\n    }\n    ReCaptchaLoader.load = function (siteKey, options) {\n        if (options === void 0) { options = {}; }\n        if (typeof document === 'undefined') {\n            return Promise.reject(new Error('This is a library for the browser!'));\n        }\n        if (ReCaptchaLoader.getLoadingState() === ELoadingState.LOADED) {\n            if (ReCaptchaLoader.instance.getSiteKey() === siteKey) {\n                return Promise.resolve(ReCaptchaLoader.instance);\n            }\n            else {\n                return Promise.reject(new Error('reCAPTCHA already loaded with different site key!'));\n            }\n        }\n        if (ReCaptchaLoader.getLoadingState() === ELoadingState.LOADING) {\n            if (siteKey !== ReCaptchaLoader.instanceSiteKey) {\n                return Promise.reject(new Error('reCAPTCHA already loaded with different site key!'));\n            }\n            return new Promise(function (resolve, reject) {\n                ReCaptchaLoader.successfulLoadingConsumers.push(function (instance) { return resolve(instance); });\n                ReCaptchaLoader.errorLoadingRunnable.push(function (reason) { return reject(reason); });\n            });\n        }\n        ReCaptchaLoader.instanceSiteKey = siteKey;\n        ReCaptchaLoader.setLoadingState(ELoadingState.LOADING);\n        var loader = new ReCaptchaLoader();\n        return new Promise(function (resolve, reject) {\n            loader.loadScript(siteKey, options.useRecaptchaNet || false, options.useEnterprise || false, options.renderParameters ? options.renderParameters : {}, options.customUrl).then(function () {\n                ReCaptchaLoader.setLoadingState(ELoadingState.LOADED);\n                var widgetID = loader.doExplicitRender(grecaptcha, siteKey, options.explicitRenderParameters ? options.explicitRenderParameters : {}, options.useEnterprise || false);\n                var instance = new ReCaptchaInstance_1.ReCaptchaInstance(siteKey, widgetID, grecaptcha);\n                ReCaptchaLoader.successfulLoadingConsumers.forEach(function (v) { return v(instance); });\n                ReCaptchaLoader.successfulLoadingConsumers = [];\n                if (options.autoHideBadge) {\n                    instance.hideBadge();\n                }\n                ReCaptchaLoader.instance = instance;\n                resolve(instance);\n            }).catch(function (error) {\n                ReCaptchaLoader.errorLoadingRunnable.forEach(function (v) { return v(error); });\n                ReCaptchaLoader.errorLoadingRunnable = [];\n                reject(error);\n            });\n        });\n    };\n    ReCaptchaLoader.getInstance = function () {\n        return ReCaptchaLoader.instance;\n    };\n    ReCaptchaLoader.setLoadingState = function (state) {\n        ReCaptchaLoader.loadingState = state;\n    };\n    ReCaptchaLoader.getLoadingState = function () {\n        if (ReCaptchaLoader.loadingState === null) {\n            return ELoadingState.NOT_LOADED;\n        }\n        else {\n            return ReCaptchaLoader.loadingState;\n        }\n    };\n    ReCaptchaLoader.prototype.loadScript = function (siteKey, useRecaptchaNet, useEnterprise, renderParameters, customUrl) {\n        var _this = this;\n        if (useRecaptchaNet === void 0) { useRecaptchaNet = false; }\n        if (useEnterprise === void 0) { useEnterprise = false; }\n        if (renderParameters === void 0) { renderParameters = {}; }\n        if (customUrl === void 0) { customUrl = ''; }\n        var scriptElement = document.createElement('script');\n        scriptElement.setAttribute('recaptcha-v3-script', '');\n        var scriptBase = 'https://www.google.com/recaptcha/api.js';\n        if (useRecaptchaNet) {\n            if (useEnterprise) {\n                scriptBase = 'https://recaptcha.net/recaptcha/enterprise.js';\n            }\n            else {\n                scriptBase = 'https://recaptcha.net/recaptcha/api.js';\n            }\n        }\n        if (useEnterprise) {\n            scriptBase = 'https://www.google.com/recaptcha/enterprise.js';\n        }\n        if (customUrl) {\n            scriptBase = customUrl;\n        }\n        if (renderParameters.render) {\n            renderParameters.render = undefined;\n        }\n        var parametersQuery = this.buildQueryString(renderParameters);\n        scriptElement.src = scriptBase + '?render=explicit' + parametersQuery;\n        return new Promise(function (resolve, reject) {\n            scriptElement.addEventListener('load', _this.waitForScriptToLoad(function () {\n                resolve(scriptElement);\n            }, useEnterprise), false);\n            scriptElement.onerror = function (error) {\n                ReCaptchaLoader.setLoadingState(ELoadingState.NOT_LOADED);\n                reject(error);\n            };\n            document.head.appendChild(scriptElement);\n        });\n    };\n    ReCaptchaLoader.prototype.buildQueryString = function (parameters) {\n        var parameterKeys = Object.keys(parameters);\n        if (parameterKeys.length < 1) {\n            return '';\n        }\n        return '&' + Object.keys(parameters)\n            .filter(function (parameterKey) {\n            return !!parameters[parameterKey];\n        })\n            .map(function (parameterKey) {\n            return parameterKey + '=' + parameters[parameterKey];\n        }).join('&');\n    };\n    ReCaptchaLoader.prototype.waitForScriptToLoad = function (callback, useEnterprise) {\n        var _this = this;\n        return function () {\n            if (window.grecaptcha === undefined) {\n                setTimeout(function () {\n                    _this.waitForScriptToLoad(callback, useEnterprise);\n                }, ReCaptchaLoader.SCRIPT_LOAD_DELAY);\n            }\n            else {\n                if (useEnterprise) {\n                    window.grecaptcha.enterprise.ready(function () {\n                        callback();\n                    });\n                }\n                else {\n                    window.grecaptcha.ready(function () {\n                        callback();\n                    });\n                }\n            }\n        };\n    };\n    ReCaptchaLoader.prototype.doExplicitRender = function (grecaptcha, siteKey, parameters, isEnterprise) {\n        var augmentedParameters = {\n            sitekey: siteKey,\n            badge: parameters.badge,\n            size: parameters.size,\n            tabindex: parameters.tabindex\n        };\n        if (parameters.container) {\n            if (isEnterprise) {\n                return grecaptcha.enterprise.render(parameters.container, augmentedParameters);\n            }\n            else {\n                return grecaptcha.render(parameters.container, augmentedParameters);\n            }\n        }\n        else {\n            if (isEnterprise) {\n                return grecaptcha.enterprise.render(augmentedParameters);\n            }\n            else {\n                return grecaptcha.render(augmentedParameters);\n            }\n        }\n    };\n    ReCaptchaLoader.loadingState = null;\n    ReCaptchaLoader.instance = null;\n    ReCaptchaLoader.instanceSiteKey = null;\n    ReCaptchaLoader.successfulLoadingConsumers = [];\n    ReCaptchaLoader.errorLoadingRunnable = [];\n    ReCaptchaLoader.SCRIPT_LOAD_DELAY = 25;\n    return ReCaptchaLoader;\n}());\nexports.load = ReCaptchaLoader.load;\nexports.getInstance = ReCaptchaLoader.getInstance;\n","<template>\n    <div class=\" d-flex\">\n        <dashboard></dashboard>\n        <div class=\"container chart-info \">\n            <div class=\"content-chart d-flex pb-5\">\n                <div class=\"new-chart user\">\n                    <Bar :data=\"chartUser.chartData\" :options=\"chartUser.options\" style=\"height: 300px; width: 400px;\" />\n                </div>\n                <div class=\"new-chart product\">\n                    <Bar :data=\"chartProduct.chartData\" :options=\"chartProduct.options\" style=\"height: 300px; width: 400px;\" />\n                </div>\n            </div>\n            <div class=\"new-chart total-actual\">\n                <Line :data=\"planetChartData.chartData\" :options=\"planetChartData.options\" style=\"width:600px;\" />\n            </div>\n            <el-calendar v-model=\"date\" style=\"width: 1000px; height: 700px;\"/>\n        </div>\n\n\n    </div>\n</template>\n<script>\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    BarElement,\n    ArcElement,\n    Title,\n    Tooltip,\n    Legend\n} from 'chart.js'\nimport dashboard from './Sidebar.vue'\nimport { Line, Bar, Doughnut } from 'vue-chartjs'\nimport { planetChartData, chartUser } from '../common/chart_dash.js'\nimport chartProduct from '../common/chartProduct.js'\nimport { mapGetters } from 'vuex'\nimport store from '../../../main'\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    BarElement,\n    ArcElement,\n    Title,\n    Tooltip,\n    Legend\n)\n\nexport default {\n    name: 'dashboard.chartjs',\n    components: {\n        dashboard,\n        Line,\n        Bar,\n        Doughnut\n\n    },\n    data() {\n        return {\n            planetChartData: planetChartData,\n            chartUser: chartUser,\n            chartProduct: chartProduct,\n            date: new Date()\n        }\n    },\n    computed: {\n        ...mapGetters(['isLogin'])\n    },\n    beforeRouteEnter(to, from, next) {\n        if (!store.isLogin) {\n            next()\n        } else {\n            next({\n                name:'admin.sign-in'\n            })\n        } \n    }\n\n}\n</script>","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useReCaptcha = exports.VueReCaptcha = void 0;\nvar recaptcha_v3_1 = require(\"recaptcha-v3\");\nvar vue_1 = require(\"vue\");\nvar VueReCaptchaInjectKey = Symbol('VueReCaptchaInjectKey');\nvar globalConfig = {\n    loadedWaiters: [],\n    error: null\n};\nexports.VueReCaptcha = {\n    install: function (app, options) {\n        var isLoaded = vue_1.ref(false);\n        var instance = vue_1.ref(undefined);\n        app.config.globalProperties.$recaptchaLoaded = recaptchaLoaded(isLoaded);\n        initializeReCaptcha(options).then(function (wrapper) {\n            isLoaded.value = true;\n            instance.value = wrapper;\n            app.config.globalProperties.$recaptcha = recaptcha(instance);\n            app.config.globalProperties.$recaptchaInstance = instance;\n            globalConfig.loadedWaiters.forEach(function (v) { return v.resolve(true); });\n        }).catch(function (error) {\n            globalConfig.error = error;\n            globalConfig.loadedWaiters.forEach(function (v) { return v.reject(error); });\n        });\n        app.provide(VueReCaptchaInjectKey, {\n            instance: instance,\n            isLoaded: isLoaded,\n            executeRecaptcha: recaptcha(instance),\n            recaptchaLoaded: recaptchaLoaded(isLoaded)\n        });\n    }\n};\nfunction useReCaptcha() {\n    return vue_1.inject(VueReCaptchaInjectKey);\n}\nexports.useReCaptcha = useReCaptcha;\nfunction initializeReCaptcha(options) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4, recaptcha_v3_1.load(options.siteKey, options.loaderOptions)];\n                case 1: return [2, _a.sent()];\n            }\n        });\n    });\n}\nfunction recaptchaLoaded(isLoaded) {\n    return function () { return new Promise(function (resolve, reject) {\n        if (globalConfig.error !== null) {\n            return reject(globalConfig.error);\n        }\n        if (isLoaded.value) {\n            return resolve(true);\n        }\n        globalConfig.loadedWaiters.push({ resolve: resolve, reject: reject });\n    }); };\n}\nfunction recaptcha(instance) {\n    var _this = this;\n    return function (action) { return __awaiter(_this, void 0, void 0, function () {\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4, ((_a = instance.value) === null || _a === void 0 ? void 0 : _a.execute(action))];\n                case 1: return [2, _b.sent()];\n            }\n        });\n    }); };\n}\n","import { initCustomFormatter, warn } from '@vue/runtime-dom';\nexport * from '@vue/runtime-dom';\n\nfunction initDev() {\n  {\n    initCustomFormatter();\n  }\n}\n\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  initDev();\n}\nconst compile = () => {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `Runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n      /* should not happen */\n    );\n  }\n};\n\nexport { compile };\n","import { API_PRODUCT, API_USER } from \"./contants\";\nvar i11 = [];\nvar i12 = [];\nvar i13 = [];\nvar i14 = [];\nvar ss = [];\n\nconst product_res = await fetch(API_PRODUCT);\n// Storing data in form of JSON\nvar data_product = await product_res.json();\ndata_product.forEach(element => {\n    if (element.description.includes(\"iphone 14\")) {\n        i14.push(element)\n    } else if(element.description.includes(\"iphone 13\")) {\n        i13.push(element)\n    } else if(element.description.includes(\"iphone 12\")) {\n        i12.push(element)\n    } else if(element.description.includes(\"iphone 11\")) {\n        i11.push(element)\n    } else {\n        ss.push(element)\n    }\n});\n\nexport const chartProduct = {\n    type: \"doughnut\",\n    chartData: {\n        labels: ['Statistics on the number of products'],\n        datasets: [\n            {\n                label: \"Iphone 14\",\n                data: [i14.length],\n                backgroundColor: \"rgba(125, 19, 203, 1)\",\n            },\n            {\n                label: \"Iphone 13\",\n                data: [i13.length],\n                backgroundColor: \"rgba(28, 19, 203, 1)\",\n            },\n            {\n                label: \"Iphone 12\",\n                data: [i12.length],\n                backgroundColor: \"rgba(36, 203, 19, 1)\",\n            },\n            {\n                label: \"Iphone 11\",\n                data: [i11.length],\n                backgroundColor: \"rgba(0, 0, 0, 1)\",\n            },\n            {\n                label: \"Samsung\",\n                data: [ss.length],\n                backgroundColor: \"rgba(211, 22, 11, 1)\",\n            }\n        ]\n    },\n    options: {\n        responsive: true,\n        lineTension: 1,\n        maintainAspectRatio: true,\n    \n        scales: {\n            x: {\n                \n                ticks: {\n                    beginAtZero: true,\n                    padding: 0,\n                },\n            },\n            y: {\n                min: 0,\n                max: 10,\n                ticks: {\n                    stepSize: 1,\n                    padding: 0,\n                },\n\n            }\n        }\n    }\n};\nexport default chartProduct; ","\nimport { API_PRODUCT, API_USER } from \"./contants\";\n\nexport const planetChartData = {\n    type: \"line\",\n    chartData: {\n        labels: [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n        datasets: [\n            {\n                label: \"Expected\",\n                data: [90, 120, 161, 134, 105, 160, 165],\n                backgroundColor: \"rgba(54,73,93,.5)\",\n                borderColor: \"#36495d\",\n                borderWidth: 2,\n\n            },\n            {\n                label: \"Actual\",\n                data: [118, 82, 91, 154, 162, 140, 145],\n                backgroundColor: \"rgba(71, 183,132,.5)\",\n                borderColor: \"#47b784\",\n                borderWidth: 2,\n\n            }\n        ]\n    },\n    options: {\n        responsive: true,\n        lineTension: 1,\n        maintainAspectRatio: true,\n        animations: {\n            tension: {\n                duration: 1000,\n                easing: 'linear',\n                from: 1,\n                to: 0,\n                loop: true\n            }\n        },\n        scales: {\n            x: {\n                title: {\n                    display: true,\n                    text: 'Day'\n                },\n                ticks: {\n                    beginAtZero: true,\n                    padding: 0,\n                },\n                Width: 600\n            },\n            y: {\n                title: {\n                    display: true,\n                    text: 'Values'\n                },\n                min: 0,\n                max: 200,\n                ticks: {\n                    stepSize: 10,\n                    padding: 0,\n                },\n\n            }\n        }\n    }\n};\n\nvar admin = [];\nvar user = []\nvar url = API_USER;\n// Storing response\nconst response = await fetch(url);\n// Storing data in form of JSON\nvar data = await response.json();\ndata.forEach(element => {\n    if (element.role === 'user') {\n        user.push(element)\n    } else {\n        admin.push(element)\n    }\n});\n\nexport const chartUser = {\n    type: \"bar\",\n    chartData: {\n        labels: ['Statistics on the number of users'],\n        datasets: [\n            {\n                label: \"Admin\",\n                data: [admin.length],\n                backgroundColor: \"rgba(30, 246, 7, 0.8)\",\n\n            },\n            {\n                label: \"User\",\n                data: [user.length],\n                backgroundColor: \"rgba(211, 22, 11, 1)\",\n            }\n        ]\n    },\n    options: {\n        responsive: true,\n        lineTension: 1,\n        maintainAspectRatio: true,\n    \n        scales: {\n            x: {\n                \n                ticks: {\n                    beginAtZero: true,\n                    padding: 0,\n                },\n            },\n            y: {\n                min: 0,\n                max: 10,\n                ticks: {\n                    stepSize: 1,\n                    padding: 0,\n                },\n\n            }\n        }\n    }\n};\n\n\nexport default { planetChartData, chartUser}; ","\nexport const BASE_URL = 'http://localhost:8004/';\n// product\nexport const API_PRODUCT = BASE_URL + 'api/v1/products';\nexport const API_USER = BASE_URL + 'api/v1/users';\nexport const API_LOGIN = BASE_URL + 'api/v1/login';\nexport const API_FORGOT_PASS = BASE_URL + 'api/v1/forgot-pass';\n ","<template>\n    <div class=\"d-flex\">\n        <dashboard></dashboard>\n        <div class=\"container list-country \">\n            <div class=\"country-item d-flex\" :key=\"index\" v-for=\"(country, index) in countries\" >\n                <a :href=\"country.maps.googleMaps\">\n                    <img :src=\"country.flags.png\" :alt=\"country.flags.alt\" style=\"width: 150px; height: 90px;\">\n                </a>\n                <span class=\"country-name\">{{ country.name.common }}</span>\n                <span class=\"country-capital\">{{ country.capital}}</span>\n                <span class=\"country-population\">{{ country.population }} people</span>\n                <span class=\"country-region\">{{ country.region }}</span>\n                <span class=\"country-timezones\"> {{ country.timezones[0] }}</span>\n            </div>\n            \n        </div>\n    </div>\n</template>\n<script>\nimport dashboard from './Sidebar.vue'\nexport default {\n    name: 'dashboard.country',\n    components: {\n        dashboard,\n    },\n    data() {\n        return {\n            countries : {}\n        }\n    },\n    methods: {\n        async getAllCountry() {\n            const res = await fetch('https://restcountries.com/v3.1/all')\n            if (res.status === 200) { \n                this.countries = await res.json()\n            }\n        }\n    },\n    created() {\n        this.getAllCountry()\n    },\n}\n</script>","import { render } from \"./Country.vue?vue&type=template&id=51be1cef\"\nimport script from \"./Country.vue?vue&type=script&lang=js\"\nexport * from \"./Country.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Dashboard.vue?vue&type=template&id=04ee08a2\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"container h-100\">\n            <div class=\"d-flex justify-content-center h-100\">\n                <div class=\"user_card\">\n                    <div class=\"d-flex justify-content-center\">\n                        <div class=\"brand_logo_container\">\n                            <img src=\"../../../assets/img/pxfuel.jpg\" class=\"brand_logo\" alt=\"Logo\">\n                        </div>\n                    </div>\n                    <div class=\"d-flex justify-content-center form_container\">\n                        <form @submit.prevent=\"handeEmail()\">\n                            <div class=\"input-group mb-3\">\n                                <div class=\"input-group-append\">\n                                    <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\n                                </div>\n                                <input type=\"email\" v-model=\"user.email\" class=\"form-control input_pass\" placeholder=\"email\">\n                            </div>\n                            <div class=\"form-item row py-3\">\n                                <div class=\"col-sm-9\">\n                                    <button type=\"submit\" class=\"btn btn-primary\" style=\"margin-left: 56px;\">Confirm</button>\n                                </div>\n                            </div> \n                            <!-- <div class=\"input-group mb-3\">\n                                <div class=\"input-group-append\">\n                                    <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\n                                </div>\n                                <input type=\"password\" minlength=\"8\" v-model=\"user.password\" class=\"form-control input_pass\"\n                                    placeholder=\"password\">\n                            </div>\n                            <div class=\"input-group mb-3\">\n                                <input type=\"hidden\" class=\"form-control input_pass\" v-model=\"user.role\">\n                            </div>\n                            <div class=\"form-item row py-3\">\n                                <div class=\"col-sm-9\">\n                                    <button type=\"submit\" class=\"btn btn-primary\" style=\"margin-left: 56px;\">Sign Up</button>\n                                </div>\n                            </div> -->\n                        </form>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n</template>\n<script>\nimport { API_USER, API_FORGOT_PASS } from '../common/contants'\nexport default {\n    name: \"UserForm\",\n    data() {\n        return {\n            user: {\n                email: \"\"\n            },\n            errors: {\n                email: \"\",\n                password: \"\",\n            }\n        }\n    },\n    created() {\n        // let userId = this.$route.params.id\n        // if (userId) {\n        //     this.getUser(userId)\n    \n    },\n    methods: {\n        validate() {\n            let isValid = true\n            this.errors = {\n                name: \"\",\n                price: \"\",\n                description: \"\",\n                image: \"\"\n            }\n            if (!this.user.name) {\n                this.errors.name = 'User name is required'\n                isValid = false\n            } else if (!this.user.email) {\n                this.errors.email = 'User email is required'\n                isValid = false\n            } else if (!this.user.password) {\n                this.errors.password = 'User password is required'\n                isValid = false\n            }\n            return isValid\n        },\n        handeEmail() {\n            this.$request.post(API_FORGOT_PASS,this.user).then((result) => {\n                this.user = result.data.user\n                if (this.user) {\n                    this.$router.push({\n                        name: 'admin.update-password',\n                        params: { id: this.user.id }\n                    })\n                }\n                console.log(this.user)\n            }).catch((err) => {\n                alert(err)\n            });\n        },\n        \n    }\n}\n</script>","import { render } from \"./ForgotPassword.vue?vue&type=template&id=f29bf57a\"\nimport script from \"./ForgotPassword.vue?vue&type=script&lang=js\"\nexport * from \"./ForgotPassword.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<div class=\"container h-100\" >\n\t\t<div class=\"d-flex justify-content-center h-100\">\n\t\t\t<div class=\"user_card\">\n\t\t\t\t<div class=\"d-flex justify-content-center\">\n\t\t\t\t\t<div class=\"brand_logo_container\">\n\t\t\t\t\t\t<img src=\"../../../assets/img/pxfuel.jpg\" class=\"brand_logo\" alt=\"Logo\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex justify-content-center form_container\">\n\t\t\t\t\t<form @submit.prevent=\"checkLogin()\">\n\t\t\t\t\t\t<div class=\"input-group mb-3\">\n\t\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input type=\"email\" name=\"email\" v-model=\"user.email\" class=\"form-control input_user\" placeholder=\"Enter your email\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"input-group mb-2\">\n\t\t\t\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input type=\"password\" name=\"password\" minlength=\"8\" v-model=\"user.password\" class=\"form-control input_pass\" placeholder=\"Enter your password\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<div class=\"custom-control custom-checkbox\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" class=\"custom-control-input\" id=\"customControlInline\">\n\t\t\t\t\t\t\t\t<label class=\"custom-control-label\" for=\"customControlInline\">Remember me</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"d-flex justify-content-center mt-3 login_container\">\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn login_btn\">Login</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mt-4\">\n\t\t\t\t\t<div class=\"d-flex justify-content-center links\">\n\t\t\t\t\t\tDon't have an account? <router-link to=\"/sign-up\" class=\"ml-2\">Sign Up</router-link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"d-flex justify-content-center links\">\n\t\t\t\t\t\t<router-link to=\"/forgot-password\">Forgot your password?</router-link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- <div class=\"g-recaptcha\" data-sitekey=\"recaptchaSiteKey\" data-callback=\"vueRecaptchaApiLoaded\"></div> -->\n\t\t\t\t<vue-recaptcha ref=\"recaptcha\" sitekey=\"recaptchaSiteKey\" @verify=\"handleRecaptchaVerify\"></vue-recaptcha>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport { API_USER, API_LOGIN } from '../common/contants'\nimport { mapActions } from 'vuex'\nimport { VueRecaptcha } from 'vue-recaptcha-v3'\nexport default {\n\tname: \"SignForm\",\n\tcomponents: { VueRecaptcha },\n    data() {\n        return {\n            user: {\n                email: \"\",\n                password: \"\",\n            },\n            errors: {\n                email: \"\",\n                password: \"\",\n\t\t\t},\n\t\t\trecaptchaSiteKey: '6LexlFgmAAAAAKv1sV8CZ7081YVUFc9iDDZAXflj',\n\t\t\trecaptchaResponse: '',\n\t\t\t\n        }\n    },\n\tmethods: {\n\t\t...mapActions(['login']),\n        checkLogin() {\n            this.$swal.fire({\n                title: 'Good job!',\n                text: \"You login successfully!\",\n                icon: 'success'\n            }).then((result) => {\n\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\t// Verify the reCAPTCHA token before submitting the form\n\t\t\t\t\tif (this.recaptchaResponse === null) {\n\t\t\t\t\t\tconsole.error('reCAPTCHA v3 token is missing!');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n                    this.$request.post(API_LOGIN, this.user).then(\n                        res => {\n\t\t\t\t\t\t\tif (res.data.success) {\n\t\t\t\t\t\t\t\tif (res.data.user.role === 'admin') {\n\t\t\t\t\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\t\t\t\t\tname: 'admin.dashboard',\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\t\t\t\t\tname: 'home',\n\t\t\t\t\t\t\t\t\t\tparams: { role: 'user' }\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.$store.commit('login', this.user.email)\n                                return\n                            } else {\n                                this.$swal.fire({\n                                    icon: 'error',\n                                    title: 'Oops...',\n                                    text: 'Something went wrong!',\n                                })\n                            }\n                        }\n                    )\n                }\n            })\n\t\t},\n\t\t// vueRecaptchaApiLoaded() {\n\t\t// \tgrecaptcha.ready(() => {\n\t\t// \t\tgrecaptcha.execute(recaptchaSiteKey, { action: \"submit\" }).then((token) => {\n\t\t// \t\t\tthis.recaptchaResponse = token;\n\t\t// \t\t});\n\t\t// \t});\n\t\t// },\n\t\thandleRecaptchaVerify(response) {\n\t\t\t// grecaptcha.ready(() => {\n\t\t\t// \tgrecaptcha.execute(this.recaptchaSiteKey).then((response) => {\n\t\t\t// \t\tthis.recaptchaResponse = response;\n\t\t\t// \t});\n\t\t\t// });\n\t\t\tthis.recaptchaResponse =response\n\t\t},\n\t},\n   \n}\n</script>","import { render } from \"./Login.vue?vue&type=template&id=700afd34\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"main-profile d-flex\">\n        <dashboard></dashboard>\n        <div class=\"container\">\n            <div class=\"admin-header\">\n                <h3>Administration</h3>\n            </div>\n            <div class=\"content d-flex\">\n                <div class=\"left-content\">\n                    <ul>\n                        <li class=\"admin-email\">\n                            Emai: <a :href=\"'mailto:' + user.email\">{{ user.email }}</a>\n                        </li>\n                        <li class=\"admin-name\">\n                            Name: <a href=\"#\">{{ user.name }}</a>\n                        </li>\n                        <li class=\"admin-phone\">\n                            Phone: <a :href=\"'tel:+' + '0957146527'\">0957146527</a>\n                        </li>\n                    </ul>\n                </div>\n                <div class=\"right-content\">\n                    <img src=\"../../../assets/img/admin.jpeg\" alt=\"\" class=\"admin-manage\" style=\"width: 200px;\">\n                </div>\n            </div>\n            <div class=\"content-bottom py-5\">\n                <span>This is administration page </span>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport dashboard from './Sidebar.vue'\nimport { API_USER } from '../common/contants'\nexport default {\n    data() {\n        return {\n            user: []\n        }\n    },\n    components: {\n        dashboard\n    },\n    methods: {\n        getUser(userId) {\n            this.$request.get(API_USER + `/${userId}`).then((result) => {\n                this.user = result.data\n            }).catch((err) => {\n                alert(err)\n            });\n        }\n    },\n    created() {\n        let userId = this.$route.params.id\n        if (userId) {\n            this.getUser(userId)\n        }\n    },\n}\n</script>","import { render } from \"./Profile.vue?vue&type=template&id=59e8f5e1\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <!-- <el-menu :default-active=\"activeIndex2\" class=\"el-menu-demo\" mode=\"horizontal\" background-color=\"#545c64\"\n        text-color=\"#fff\" active-text-color=\"#ffd04b\" @select=\"handleSelect\">\n        <el-menu-item index=\"4\" v-if=\"$store.state.email\" @click=\"logout()\">\n            <router-link to=\"/admin/sign-in\" style=\"padding-left: 200px\">Logout</router-link>\n        </el-menu-item>\n    </el-menu> -->\n    <div class=\"wrapper\">\n        <nav id=\"sidebar\">\n            <div class=\"sidebar-header\">\n                <img src=\"../../../assets/img/admin.jpeg\" alt=\"\" class=\"admin-manage\">\n            </div>\n\n            <ul class=\"list-unstyled components\">\n                <li>\n                    <router-link to=\"/admin/dashboard\">Dashboard</router-link>\n                </li>\n                <li>\n                    <a href=\"#pageSubmenu\" data-toggle=\"collapse\" aria-expanded=\"false\"\n                        class=\"dropdown-toggle\">Management</a>\n                    <ul class=\"collapse list-unstyled\" id=\"pageSubmenu\">\n                        <li>\n                            <router-link to=\"/admin/users\">User</router-link>\n                        </li>\n                        <li>\n                            <router-link to=\"/admin/products\">Product</router-link>\n                        </li>\n                    </ul>\n                </li>\n                <li>\n                    <router-link\n                        :to=\"{ name: 'admin.profile', params: { id: '883DC843E34AA1CC639C763B1916B' } }\">Profile</router-link>\n                </li>\n                <li>\n                    <router-link to=\"/admin/dashboard/weather\">Weather</router-link>\n                </li>\n                <li>\n                    <router-link to=\"/admin/dashboard/country\">Country</router-link>\n                </li>\n            </ul>\n            <div class=\"logout-admin\" >\n                <router-link  v-if=\"!$store.state.email\" to=\"/admin/sign-in\">\n                      Login\n                </router-link>\n                <router-link  v-if=\"$store.state.email\" to=\"/admin/sign-in\" @click=\"logout()\">\n                    <font-awesome-icon icon=\"fa-solid fa-right-from-bracket\" fade />Logout\n                </router-link>\n            </div>\n        </nav>\n        <div id=\"content\">\n            <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n                <div class=\"container-fluid\">\n\n                    <button type=\"button\" id=\"sidebarCollapse\" class=\"btn btn-info\">\n                        <font-awesome-icon icon=\"fa-solid fa-bars\" />\n                    </button>\n\n                </div>\n            </nav>\n        </div>\n    </div>\n</template>\n<script>\n\nexport default {\n    name: \"dashboard\",\n    data() {\n        return {\n            user: []\n        }\n    },\n    mounted() {\n        this.$store.commit(\"initialiseStore\");\n    },\n    methods: {\n        logout() {\n            this.$store.commit(\"logout\");\n        },\n    },\n    setup() {\n        $(document).ready(function () {\n\n            $(\"#sidebar\").mCustomScrollbar({\n                theme: \"minimal\"\n            });\n\n            $('#sidebarCollapse').on('click', function () {\n                // open or close navbar\n                $('#sidebar').toggleClass('active');\n                // close dropdowns\n                $('.collapse.in').toggleClass('in');\n                // and also adjust aria-expanded attributes we use for the open/closed arrows\n                // in our CSS\n                $('a[aria-expanded=true]').attr('aria-expanded', 'false');\n            });\n\n        });\n    },\n\n};\n</script>\n","import { render } from \"./Sidebar.vue?vue&type=template&id=235b4fb8\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"container h-100\" style=\"margin-top: 150px;\">\n        <div class=\"d-flex justify-content-center h-100\">\n            <div class=\"user_card\">\n                <div class=\"d-flex justify-content-center\">\n                    <div class=\"brand_logo_container\">\n                        <img src=\"../../../assets/img/pxfuel.jpg\" class=\"brand_logo\" alt=\"Logo\">\n                    </div>\n                </div>\n                <div class=\"d-flex justify-content-center form_container\">\n                    <form @submit.prevent=\"save()\">\n                        <div class=\"input-group mb-3\">\n                            <div class=\"input-group-append\">\n                                <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\n                            </div>\n                            <input type=\"text\" v-model=\"user.name\" class=\"form-control input_user\" placeholder=\"username\">\n                        </div>\n                        <div class=\"input-group mb-3\">\n                            <div class=\"input-group-append\">\n                                <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\n                            </div>\n                            <input type=\"email\" v-model=\"user.email\" class=\"form-control input_pass\" placeholder=\"email\">\n                        </div>\n                        <div class=\"input-group mb-3\">\n                            <div class=\"input-group-append\">\n                                <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\n                            </div>\n                            <input type=\"password\" minlength=\"8\" v-model=\"user.password\" class=\"form-control input_pass\"\n                                placeholder=\"password\">\n                        </div>\n                        <div class=\"input-group mb-3\">\n                            <input type=\"hidden\" class=\"form-control input_pass\" v-model=\"user.role\">\n                        </div>\n                        <div class=\"form-item row py-3\">\n                            <div class=\"col-sm-9\">\n                                <button type=\"submit\" class=\"btn btn-primary\" style=\"margin-left: 56px;\">Sign Up</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { API_USER } from '../common/contants'\nexport default {\n    name: \"SignForm\",\n    data() {\n        return {\n            user: {\n                name: \"\",\n                email: \"\",\n                password: \"\",\n                role: \"user\"\n            },\n            errors: {\n                name: \"\",\n                email: \"\",\n                password: \"\",\n                role: \"user\"\n            }\n        }\n    },\n    methods: {\n        save() {\n            this.$swal.fire({\n                title: 'Good job!',\n                text: \"You have successfully registered!\",\n                icon: 'success'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    this.$request.post(API_USER, this.user).then(\n                        res => {\n                            if (res.data.success) {\n                                this.$router.push({\n                                    name: 'admin.sign-in'\n                                })\n                                return\n                            } else {\n                                this.$swal.fire({\n                                    icon: 'error',\n                                    title: 'Oops...',\n                                    text: 'Something went wrong!',\n                                })\n                            }\n                        }\n                    )\n                }\n            })\n        },\n    },\n   \n}\n</script>","import { render } from \"./SignUp.vue?vue&type=template&id=30d222c1\"\nimport script from \"./SignUp.vue?vue&type=script&lang=js\"\nexport * from \"./SignUp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"d-flex justify-content-center form_container\">\n        <form @submit.prevent=\"handePassword()\">\n            <div class=\"input-group mb-3\">\n                <div class=\"input-group-append\">\n                    <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\n                </div>\n                <input type=\"password\" v-model=\"user.password\" class=\"form-control input_pass\" placeholder=\"new password\">\n            </div>\n            <div class=\"form-item row py-3\">\n                <div class=\"col-sm-9\">\n                    <button type=\"submit\" class=\"btn btn-primary\" style=\"margin-left: 56px;\">Submit</button>\n                </div>\n            </div>\n           \n        </form>\n    </div>\n</template>\n<script>\nimport { API_USER, API_FORGOT_PASS } from '../common/contants'\nexport default {\n    name: \"UserForm\",\n    data() {\n        return {\n            user: {\n                name: \"\",\n                email: \"\",\n                password: \"\",\n            },\n           errors: {\n                name: \"\",\n                email: \"\",\n                password: \"\",\n            }\n        }\n    },\n    created() {\n        let userId = this.$route.params.id\n        if (userId) {\n            this.getUser(userId)\n        }\n    },\n    methods: {\n        getUser(Userid) {\n            this.$request.get(API_USER + `/${Userid}`).then((result) => {\n                this.user = result.data\n            }).catch((err) => {\n                alert(err)\n            });\n        },\n        handePassword() {\n            this.$request.put(API_USER + `/${this.user.id}`, this.user).then(\n                res => {\n                    if (res.data.success) {\n                        this.$router.push({\n                            name: 'admin.sign-in'\n                        })\n                        return\n                    }\n                    alert('Something went wrong')\n                }\n            )\n        },\n\n    }\n}\n</script>","import { render } from \"./UpdatePassword.vue?vue&type=template&id=4eb967f1\"\nimport script from \"./UpdatePassword.vue?vue&type=script&lang=js\"\nexport * from \"./UpdatePassword.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\" d-flex\">\n        <dashboard></dashboard>\n        <div class=\"container weather-today\" style=\"margin-top: 70px;\">\n            <el-form :inline=\"true\" class=\"demo-form-inline\">\n                <el-form-item label=\"Location by\">\n                    <el-input v-model=\"searchCountry\" placeholder=\"Location by\" />\n                </el-form-item>\n                <el-form-item label=\"Option by\">\n                    <el-select v-model=\"searchOption\" class=\"m-2\" placeholder=\"Select\" size=\"small\" label=\"Option\">\n                        <el-option label=\"current\" value=\"current.json\" />\n                        <el-option label=\"forecast\" value=\"forecast.json\" />\n                    </el-select>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"getWeather()\">Query</el-button>\n                </el-form-item>\n            </el-form>\n            <div class=\"content-weather d-flex \">\n                <div class=\"info-content\">\n                    <div class=\"content\">\n                        <span class=\"name_provide\">\n                            Province / City: {{ weather && weather.location && weather.location.name }}\n                        </span>\n                        <span class=\"country\">\n                            Country: {{ weather && weather.location && weather.location.country }}\n                        </span>\n                        <span class=\"tz_id\">\n                            Time Zone: {{ weather && weather.location && weather.location.tz_id }}\n                        </span>\n                        <span class=\"last_updated\">\n                            Last updated: {{ weather && weather.current && weather.current.last_updated }}\n                        </span>\n                    </div>\n                </div>\n                <div class=\"icon-content\">\n                    <img :src=\"weather && weather.current && weather.current.condition.icon\" style=\"width: 100px;\">\n                    <div class=\"content\">\n                        <span class=\"text\">\n                            {{ weather && weather.current && weather.current.condition.text }}\n                        </span>\n                        <span class=\"tempC\">\n                            {{ weather && weather.current && weather.current.temp_c }}&deg;C\n                        </span>\n                        <span class=\"tempF\">\n                            {{ weather && weather.current && weather.current.temp_f }}&deg;F\n                        </span>\n                    </div>\n                </div>\n                <!-- {{ weather && weather.current && weather.current.condition.icon }} -->\n            </div>\n            <div class=\"detail-info\">\n                <h3>Detailed forecast information</h3>\n                <div class=\"detail-info__inner d-flex\">\n                    <div class=\"detail-info__inner-left d-flex\">\n                        <span>Wind speed in miles per hour: {{ weather && weather.current && weather.current.wind_mph\n                        }}</span>\n                        <span>Wind speed in kilometer per hour: {{ weather && weather.current && weather.current.wind_kph\n                        }}</span>\n                        <span>Wind direction in degrees: {{ weather && weather.current && weather.current.wind_degree\n                        }}</span>\n                        <span>Wind gust in miles per hour: {{ weather && weather.current && weather.current.gust_mph\n                        }}</span>\n                        <span>Wind gust in kilometer per hour: {{ weather && weather.current && weather.current.gust_kph\n                        }}</span>\n                    </div>\n                    <div class=\"detail-info__inner-right d-flex\">\n                        <span>UV Index: {{ weather && weather.current && weather.current.uv }}</span>\n                        <span>Pressure in millibars: {{ weather && weather.current && weather.current.pressure_mb }}</span>\n                        <span>Pressure in inches: {{ weather && weather.current && weather.current.pressure_in }}</span>\n                        <span>Precipitation amount in inches: {{ weather && weather.current && weather.current.precip_in\n                        }}</span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"chart-info__forecast\" v-show=\"searchOption === 'forecast.json'\">\n                <h3 class=\"title-chart__weather\">\n                    Real time temperature chart of {{ weather && weather.location && weather.location.name }}\n                </h3>\n                <Bar v-if=\"!isLoading\" :data=\"weatherChart.chartData\" :options=\"weatherChart.options\"\n                    style=\"width:600px;\" />\n                <div class=\"weather-for__7days\" style=\"margin-top: 30px; margin-bottom: 68px;\">\n                    <h3 class=\"title-weather\" style=\"margin-bottom: 20px;\">\n                        Weather forecast for the next 7 days\n                    </h3>\n                    <el-carousel :interval=\"2000\" type=\"card\" height=\"220px\">\n                        <el-carousel-item v-for=\"item in forecastday\" :key=\"item\">\n                            <img :src=\"item && item.day.condition && item.day.condition.icon \" style=\"width: 100px;\">\n                            <h4 text=\"12px\" justify=\"center\" >{{ item && item.day.condition && item.day.condition.text  }}</h4>\n                            <h4 text=\"12px\" justify=\"center\" >{{ item && item.day.mintemp_c }}&deg;C - {{ item && item.day.maxtemp_c }}&deg;C</h4>\n                            <h4 text=\"12px\" justify=\"center\" >{{ item && item.day.avgvis_km }}km</h4>\n                            <h4 text=\"12px\" justify=\"center\">{{ item.date }}</h4>\n                        </el-carousel-item>\n                    </el-carousel>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport {\n    Chart as ChartJS,\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    BarElement,\n    ArcElement,\n    Title,\n    Tooltip,\n    Legend\n} from 'chart.js'\nimport { Line, Bar, Doughnut } from 'vue-chartjs'\nimport dashboard from './Sidebar.vue'\nimport { defineComponent, ref } from 'vue';\n// import weatherChart from '../common/weather_chart'\nChartJS.register(\n    CategoryScale,\n    LinearScale,\n    PointElement,\n    LineElement,\n    BarElement,\n    ArcElement,\n    Title,\n    Tooltip,\n    Legend\n)\n\nexport default defineComponent({\n    name: 'dashboard.weather',\n    data() {\n        return {\n            weather: {},\n            searchCountry: '',\n            searchOption: '',\n            forecastday: [],\n            hours: {},\n            temp_c_values: '',\n            temp_f_values: '',\n            hourArray: '',\n            // weatherChart: weatherChart,\n            isLoading: false,\n            chartData: {\n                labels: [],\n                datasets: [\n                    {\n                        label: \"Celsius temperature\",\n                        data: [],\n                        backgroundColor: \"rgba(244, 231, 4, 0.8)\",\n                        borderColor: \"#f4e704cc\",\n                        borderWidth: 2,\n\n                    },\n                    {\n                        label: \"Fahrenheit temperature \",\n                        data: [],\n                        backgroundColor: \"rgba(71, 183,132,.5)\",\n                        borderColor: \"#47b784\",\n                        borderWidth: 2,\n\n                    }\n                ]\n            },\n            options: {\n                responsive: true,\n                lineTension: 1,\n                maintainAspectRatio: true,\n                scales: {\n                    x: {\n                        title: {\n                            display: true,\n                            text: 'Hours'\n                        },\n                        ticks: {\n                            beginAtZero: true,\n                            padding: 0,\n                        },\n                        Width: 600\n                    },\n                    y: {\n                        title: {\n                            display: true,\n                            text: 'Temperature'\n                        },\n                        min: 0,\n                        max: 150,\n                        ticks: {\n                            stepSize: 10,\n                            padding: 0,\n                        },\n\n                    }\n                }\n            },\n        }\n    },\n    components: {\n        dashboard,\n        Line,\n        Bar\n    },\n    computed: {\n        weatherChart() {\n            return {\n                chartData: this.chartData,\n                options: this.options\n            };\n        }\n    },\n    methods: {\n        async getWeather() {\n            var API_PERSON_KEY = `607d30125c34472888023252233105`\n            var API_WEATHER = `http://api.weatherapi.com/v1/${this.searchOption}?key=${API_PERSON_KEY}&q=${this.searchCountry}&days=7&aqi=no`\n\n            try {\n                this.isLoading = true\n                const response = await fetch(API_WEATHER);\n                if (response.status === 200) {\n                    this.weather = await response.json()\n                    if (this.searchOption === 'forecast.json') {\n                        this.forecastday = this.weather.forecast.forecastday\n                        this.forecastday.forEach(element => {\n                            this.hours = element.hour\n                        })\n                        this.temp_c_values = this.hours.map(item => item.temp_c);\n                        this.temp_f_values = this.hours.map(item => item.temp_f);\n                        let time_values = this.hours.map(item => item.time);\n                        this.hourArray = time_values.map(time => {\n                            const date = new Date(time);\n                            return date.getHours();\n                        });\n\n                        this.chartData.labels = this.hourArray;\n                        this.chartData.datasets[0].data = this.temp_c_values;\n                        this.chartData.datasets[1].data = this.temp_f_values;\n                    }\n                }\n            } catch (e) {\n                console.log(e);\n            } finally {\n                this.isLoading = false\n            }\n\n        },\n    },\n\n    async mounted() {\n        await this.getWeather();\n    },\n\n})\n</script>\n<style scoped>\n.el-carousel__item h3 {\n    color: #475669;\n    opacity: 0.75;\n    line-height: 200px;\n    margin: 0;\n    text-align: center;\n}\n\n.el-carousel__item:nth-child(2n) {\n    background-color: #99a9bf;\n}\n\n.el-carousel__item:nth-child(2n + 1) {\n    background-color: #d3dce6;\n}\n</style>","import { render } from \"./Weather.vue?vue&type=template&id=e684a59c&scoped=true\"\nimport script from \"./Weather.vue?vue&type=script&lang=js\"\nexport * from \"./Weather.vue?vue&type=script&lang=js\"\n\nimport \"./Weather.vue?vue&type=style&index=0&id=e684a59c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e684a59c\"]])\n\nexport default __exports__","<template>\n    <div class=\"product-info\">\n        <div class=\"princing-header px-3 py-3 pt-md-3 pb-md-4 mx-auto text-center\">\n            <h3 class=\"display-4\">Create New Product</h3>\n        </div>\n        <div class=\"container\">\n            <form @submit.prevent=\"save()\">\n                <div class=\"form-item row py-3\">\n                    <label for=\"input\" class=\"col-sm-3 col-form-label\">Product Image</label>\n                    <div class=\"col-sm-9\">\n                        <input type=\"text\"\n                        class=\"form-control\" \n                        v-model=\"product.image\"\n                        @blur=\"vadilate()\" \n                        v-bind:class=\"{'is-invalid': errors.image}\"\n                        />\n                        <div class=\"invalid-feedback d-flex\" v-if=\"errors.image\">{{ errors.image }}</div>\n                    </div>\n                </div>\n                <div class=\"form-item row py-3\">\n                    <label for=\"input\" class=\"col-sm-3 col-form-label\">Product Name</label>\n                    <div class=\"col-sm-9\">\n                        <input type=\"text\" \n                        class=\"form-control\" \n                        v-model=\"product.name\"\n                        @blur=\"vadilate()\" \n                        v-bind:class=\"{ 'is-invalid': errors.name }\"\n                        />\n                        <div class=\"invalid-feedback d-flex\" v-if=\"errors.name\">{{ errors.name }}</div>\n                    </div>\n                </div>\n                <div class=\"form-item row py-3\">\n                    <label for=\"input\" class=\"col-sm-3 col-form-label\">Product Price</label>\n                    <div class=\"col-sm-9\">\n                        <input type=\"text\"\n                        class=\"form-control\" \n                        v-model=\"product.price\"\n                        @blur=\"vadilate()\" \n                        v-bind:class=\"{ 'is-invalid': errors.price }\"\n                        />\n                        <div class=\"invalid-feedback d-flex\" v-if=\"errors.price\">{{ errors.price }}</div>\n                    </div>\n                </div>\n                <div class=\"form-item row py-3\">\n                    <label for=\"input\" class=\"col-sm-3 col-form-label\">Product Description</label>\n                    <div class=\"col-sm-9\">\n                        <textarea class=\"form-control\"\n                            cols=\"30\" \n                            rows=\"10\" \n                            v-model=\"product.description\"\n                            @blur=\"vadilate()\" \n                            v-bind:class=\"{ 'is-invalid': errors.description }\"\n                            >\n                        </textarea>\n                        <div class=\"invalid-feedback d-flex\" v-if=\"errors.description\">{{ errors.description }}</div>\n                    </div>\n                </div>\n                <div class=\"form-item row py-3\">\n                    <label for=\"input\" class=\"col-sm-3 col-form-label\"></label>\n                    <div class=\"col-sm-9\" >\n                        <button type=\"submit\" class=\"btn btn-primary mx-3\">Save</button>\n                        <button type=\"reset\" class=\"btn btn-danger mx-3 \" @click=\"cancel()\">Cancel</button>\n                        <button class=\"btn btn-secondary mx-3\"> \n                            <router-link to=\"/admin/products\" class=\"text-white\">Back</router-link>\n                        </button>\n                    </div>\n                </div>\n            </form>\n            \n        </div>\n    </div>\n</template>\n<script>\nimport { API_PRODUCT } from '../common/contants'\nimport dashboard from '../authors/Sidebar.vue'\nexport default {\n    name: \"ProductForm\",\n    components: dashboard,\n    data() {\n        return {\n            product: {\n                name: \"\",\n                price: \"\",\n                description: \"\",\n                image: \"\"\n            },\n            errors: {\n                name: \"\",\n                price: \"\",\n                description: \"\",\n                image: \"\"\n            }\n\n        }\n    },\n    created() {\n        let productId = this.$route.params.id\n        if (productId) {\n            this.getProduct(productId)\n        }\n\n    },\n    methods: {\n        vadilate() {\n            let isValid = true\n            this.errors = {\n                name: \"\",\n                price: \"\",\n                description: \"\",\n                image: \"\"\n            }\n            if (!this.product.image ) {\n                this.errors.image = 'Product image is required'\n                isValid = false\n            }else if (!this.product.name) {\n                this.errors.name = 'Product name is required'  \n                isValid = false  \n            }else if (!this.product.description) {\n                this.errors.description = 'Product description is required'\n                isValid = false\n            }\n            if (!this.product.price) {\n                this.errors.price = 'Product price is required'\n                isValid = false\n                \n            } else if (!this.isNumber(this.product.price)) {\n                this.errors.price = 'Product price must be number'\n                isValid = false\n            }\n            return isValid\n        },\n        isNumber(number) {\n            return !isNaN(parseFloat(number) && isFinite(number));\n        },\n        save() {\n            if (this.vadilate()) {\n                if (this.product.id) {\n                    this.$request.put(API_PRODUCT + `/${this.product.id}`, this.product).then(\n                        res => {\n                            if (res.data.success) {\n                                this.$router.push({\n                                    name: 'product.list'\n                                })\n                                return\n                            }\n                            alert('Something went wrong')\n                        }\n                    )\n                } else {\n                    this.$request.post(API_PRODUCT, this.product).then(\n                        res => {\n                            if (res.data.success) {\n                                this.$router.push({\n                                    name: 'product.list'\n                                })\n                                return\n                            }\n                            alert('Something went wrong')\n                        }\n                    )\n                }\n            }\n        },\n        getProduct(Productid) {\n            this.$request.get(API_PRODUCT + `/${Productid}`).then((result) => {\n                this.product = result.data    \n            }).catch((err) => {\n                alert(err)\n            });\n        },\n        cancel() {\n            this.product = {\n                name: \"\",\n                price: \"\",\n                description: \"\",\n                image: \"\"\n            }\n        }\n\n    }\n}\n</script>","import { render } from \"./Form.vue?vue&type=template&id=fdca657a\"\nimport script from \"./Form.vue?vue&type=script&lang=js\"\nexport * from \"./Form.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"product-list mb-5\">\n        <div class=\"container\">\n            <div class=\" d-flex justify-content-beweent princing-header py-3 pt-md-3 pb-md-4 mx-auto text-center \">\n                <h2 class=\"display-4\">Product Management</h2>\n                <button class=\"btn btn-primary create-new float-right \">\n                    <router-link to=\"/admin/products/create-new\" class=\"text-white\"> Create New</router-link>\n                </button>\n            </div>\n\n            <div class=\"product-items  table-wrapper-scroll-y my-custom-scrollbar mb-3 text-center \">\n                <table class=\"table table-fixed table-bordered table-striped mb-0\" width=\"100%\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">Stt</th>\n                            <th scope=\"col\">Image</th>\n                            <th scope=\"col\">Name</th>\n                            <th scope=\"col\">Price</th>\n                            <th scope=\"col\">Description</th>\n                            <th scope=\"col\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr :key=\"index\" v-for=\"(product, index) in products\">\n                            <td scope=\"col\"> {{ index }}</td>\n                            <td><img :src=\"product.image\" style=\"width:60px\"></td>\n                            <td>{{ product.name }}</td>\n                            <td>{{ product.price }} VND</td>\n                            <td>{{ product.description }}</td>\n                            <td>\n                                <button class=\"btn btn-danger mx-1\" @click=\"onDelete(product.id)\">Delete</button>\n                                <router-link :to=\"{ name: 'product.update-product', params: { id: product.id } }\">\n                                    <button class=\"btn btn-success mx-1\">Edit</button>\n                                </router-link>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n\n        </div>\n\n    </div>\n</template>\n<script>\nimport { API_PRODUCT } from '../common/contants'\nexport default {\n    name: \"ProductList\",\n    data() {\n        return {\n            products: []\n        }\n    },\n    created() {\n        this.getAllProduct()\n    },\n    methods: {\n        getAllProduct() {\n            this.$request.get(API_PRODUCT).then((result) => {\n                this.products = result.data\n            }).catch((err) => {\n                alert(err)\n            });\n        },\n        onDelete(Productid) {\n            this.$swal.fire({\n                title: 'Are you sure?',\n                text: \"You won't be able to revert this!\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#3085d6',\n                cancelButtonColor: '#d33',\n                confirmButtonText: 'Yes, delete it!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    this.$request.delete(API_PRODUCT + `/${Productid}`).then((result) => {\n                        if (result.data.success) {\n                            this.getAllProduct()\n                            this.$swal.fire(\n                                'Deleted!',\n                                'Your file has been deleted.',\n                                'success'\n                            )\n                        }\n                    }).catch((err) => {\n                        alert(err)\n                    });\n\n                }\n            })\n        },  \n    },\n}\n</script>\n\n\n\n","import { render } from \"./List.vue?vue&type=template&id=0d4d8a56\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"user-info\">\n        <div class=\"princing-header px-3 py-3 pt-md-3 pb-md-4 mx-auto text-center\">\n            <h3 class=\"display-4\">Create New User</h3>\n        </div>\n        <div class=\"container\">\n            <form @submit.prevent=\"save()\">\n                <div class=\"form-item row py-3\">\n                    <label for=\"input\" class=\"col-sm-3 col-form-label\">Email</label>\n                    <div class=\"col-sm-9\">\n                        <input type=\"email\" v-model=\"user.email\" @blur=\"validate()\" class=\"form-control\" />\n                    </div>\n                </div>\n                <div class=\"form-item row py-3\">\n                    <label for=\"input\" class=\"col-sm-3 col-form-label\">Name</label>\n                    <div class=\"col-sm-9\">\n                        <input type=\"text\" class=\"form-control\" v-model=\"user.name\" @blur=\"validate()\" />\n                    </div>\n                </div>\n                <div class=\"form-item row py-3\">\n                    <label for=\"input\" class=\"col-sm-3 col-form-label\">Password</label>\n                    <div class=\"col-sm-9\">\n                        <input type=\"password\"  class=\"form-control\" minlength=\"8\" v-model=\"user.password\"\n                            @blur=\"validate()\" required />\n                    </div>\n                </div>\n                <div class=\"form-item row py-3\">\n                   <label for=\"input\" class=\"col-sm-3 col-form-label\">Role</label>\n                   <div class=\"col-sm-9\">\n                        <select v-model=\"user.role\" @blur=\"validate()\" class=\"form-control\">\n                            <option disabled value=\"\">Please select one</option>\n                            <option>admin</option>\n                            <option>user</option>\n                        </select>\n                   </div>\n                    \n                </div>\n    \n                <div class=\"form-item row py-3\">\n                    <label for=\"input\" class=\"col-sm-3 col-form-label\"></label>\n                    <div class=\"col-sm-9\">\n                        <button type=\"submit\" class=\"btn btn-primary mx-3 \">Save</button>\n                        <button type=\"reset\" class=\"btn btn-danger mx-3 \">Cancel</button>\n                        <button class=\"btn btn-secondary mx-3\">\n                            <router-link to=\"/admin/users\" class=\"text-white\">Back</router-link>\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</template>\n<script>\nimport { API_USER } from '../common/contants'\nexport default {\n    name: \"UserForm\",\n    data() {\n        return {\n            user: {\n                name: \"\",\n                email: \"\",\n                password: \"\",\n            },\n            errors: {\n                name: \"\",\n                email: \"\",\n                password: \"\",\n            }\n        }\n    },\n    created() {\n        let userId = this.$route.params.id\n        if (userId) {\n            this.getUser(userId)\n        }\n    },\n    methods: {\n        validate() {\n            let isValid = true\n            this.errors = {\n                name: \"\",\n                price: \"\",\n                description: \"\",\n                image: \"\"\n            }\n            if (!this.user.name) {\n                this.errors.name = 'User name is required'\n                isValid = false\n            }else if (!this.user.email) {\n                this.errors.email = 'User email is required'\n                isValid = false\n            }else if (!this.user.password) {\n                this.errors.password = 'User password is required'\n                isValid = false\n            }\n            return isValid\n        },\n        save() {\n            if (this.validate()) {\n                if (this.user.id) {\n                    this.$request.put(API_USER + `/${this.user.id}`, this.user).then(\n                        res => {\n                            if (res.data.success) {\n                                this.$router.push({\n                                    name: 'user.list'\n                                })\n                                return\n                            }\n                            alert('Something went wrong')\n                        }\n                    )\n                } else {\n                    this.$request.post(API_USER, this.user).then(\n                        res => {\n                            if (res.data.success) {\n                                this.$router.push({\n                                    name: 'user.list'\n                                })\n                                return\n                            }\n                            alert('Something went wrong')\n                        }\n                    )\n               }\n            }\n        },\n        getUser(Userid) {\n            this.$request.get(API_USER + `/${Userid}`).then((result) => {\n                this.user = result.data\n            }).catch((err) => {\n                alert(err)\n            });\n        },\n        cancel() {\n            this.user = {\n                name: \"\",\n                email: \"\",\n                password: \"\",\n            }\n        }\n    }\n\n}\n</script>","import { render } from \"./Formuser.vue?vue&type=template&id=460b3b72\"\nimport script from \"./Formuser.vue?vue&type=script&lang=js\"\nexport * from \"./Formuser.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"product-list\">\n        <div class=\"princing-header px-3 py-3 pt-md-3 pb-md-4 mx-auto text-center\">\n            <h2 class=\"display-4\">User Management</h2>\n        </div>\n        <div class=\"container\">\n            <div class=\"product-items mb-3 text-center\">\n                <table class=\"table table-bordered\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">Stt</th>\n                            <th scope=\"col\">Email</th>\n                            <th scope=\"col\">Name</th>\n                            <th scope=\"col\">Password</th>\n                            <th scope=\"col\">Role</th>\n                            <th scope=\"col\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody :key=\"index\" v-for=\"(user, index) in users\">\n                        <tr> \n                            <td scope=\"col\"> {{ index }}</td>\n                            <td>{{ user.email }}</td>\n                            <td>{{ user.name }}</td>\n                            <td>{{ user.password }}</td>\n                            <td>{{ user.role }}</td>\n                            <td>\n                                <button class=\"btn btn-danger mx-1\" @click=\"onDelete(user.id)\">Delete</button>\n                                <router-link :to=\"{ name: 'user.update-user', params: { id: user.id } }\">\n                                    <button class=\"btn btn-success mx-1\">Edit</button>\n                                </router-link>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <button class=\"btn btn-primary create-new float-right \">\n                <router-link to=\"/admin/users/create-new\" class=\"text-white\"> Create New</router-link> \n            </button>\n        </div>\n        \n        \n    </div>\n   \n</template>\n\n\n<script>\nimport { API_USER } from '../common/contants'\nimport md5 from '../common/md5'\nexport default {\n    name: \"userlist\",\n    data() {\n        return {\n            users:[]\n        }\n    },\n    created() {\n        this.getAllUser()\n    },\n    methods: {\n        getAllUser() {\n            this.$request.get(API_USER).then((result) => {\n                this.users = result.data\n            }).catch((err) => {\n                alert(err)\n            });\n        },\n        onDelete(Userid) {\n            this.$swal.fire({\n                title: 'Are you sure?',\n                text: \"You won't be able to revert this!\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#3085d6',\n                cancelButtonColor: '#d33',\n                confirmButtonText: 'Yes, delete it!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    this.$request.delete(API_USER + `/${Userid}`).then((result) => {\n                        if (result.data.success) {\n                            this.getAllUser()\n                            this.$swal.fire(\n                                'Deleted!',\n                                'Your file has been deleted.',\n                                'success'\n                            )\n                        }\n                    }).catch((err) => {\n                        alert(err)\n                    });\n                }\n            })\n        }\n    }\n}\n</script>","import { render } from \"./Listuser.vue?vue&type=template&id=5049ec9e\"\nimport script from \"./Listuser.vue?vue&type=script&lang=js\"\nexport * from \"./Listuser.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","/*!\n * @kurkle/color v0.3.2\n * https://github.com/kurkle/color#readme\n * (c) 2023 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n  x: 'dark',\n  Z: 'light',\n  Y: 're',\n  X: 'blu',\n  W: 'gr',\n  V: 'medium',\n  U: 'slate',\n  A: 'ee',\n  T: 'ol',\n  S: 'or',\n  B: 'ra',\n  C: 'lateg',\n  D: 'ights',\n  R: 'in',\n  Q: 'turquois',\n  E: 'hi',\n  P: 'ro',\n  O: 'al',\n  N: 'le',\n  M: 'de',\n  L: 'yello',\n  F: 'en',\n  K: 'ch',\n  G: 'arks',\n  H: 'ea',\n  I: 'ightg',\n  J: 'wh'\n};\nconst names$1 = {\n  OiceXe: 'f0f8ff',\n  antiquewEte: 'faebd7',\n  aqua: 'ffff',\n  aquamarRe: '7fffd4',\n  azuY: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '0',\n  blanKedOmond: 'ffebcd',\n  Xe: 'ff',\n  XeviTet: '8a2be2',\n  bPwn: 'a52a2a',\n  burlywood: 'deb887',\n  caMtXe: '5f9ea0',\n  KartYuse: '7fff00',\n  KocTate: 'd2691e',\n  cSO: 'ff7f50',\n  cSnflowerXe: '6495ed',\n  cSnsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: 'ffff',\n  xXe: '8b',\n  xcyan: '8b8b',\n  xgTMnPd: 'b8860b',\n  xWay: 'a9a9a9',\n  xgYF: '6400',\n  xgYy: 'a9a9a9',\n  xkhaki: 'bdb76b',\n  xmagFta: '8b008b',\n  xTivegYF: '556b2f',\n  xSange: 'ff8c00',\n  xScEd: '9932cc',\n  xYd: '8b0000',\n  xsOmon: 'e9967a',\n  xsHgYF: '8fbc8f',\n  xUXe: '483d8b',\n  xUWay: '2f4f4f',\n  xUgYy: '2f4f4f',\n  xQe: 'ced1',\n  xviTet: '9400d3',\n  dAppRk: 'ff1493',\n  dApskyXe: 'bfff',\n  dimWay: '696969',\n  dimgYy: '696969',\n  dodgerXe: '1e90ff',\n  fiYbrick: 'b22222',\n  flSOwEte: 'fffaf0',\n  foYstWAn: '228b22',\n  fuKsia: 'ff00ff',\n  gaRsbSo: 'dcdcdc',\n  ghostwEte: 'f8f8ff',\n  gTd: 'ffd700',\n  gTMnPd: 'daa520',\n  Way: '808080',\n  gYF: '8000',\n  gYFLw: 'adff2f',\n  gYy: '808080',\n  honeyMw: 'f0fff0',\n  hotpRk: 'ff69b4',\n  RdianYd: 'cd5c5c',\n  Rdigo: '4b0082',\n  ivSy: 'fffff0',\n  khaki: 'f0e68c',\n  lavFMr: 'e6e6fa',\n  lavFMrXsh: 'fff0f5',\n  lawngYF: '7cfc00',\n  NmoncEffon: 'fffacd',\n  ZXe: 'add8e6',\n  ZcSO: 'f08080',\n  Zcyan: 'e0ffff',\n  ZgTMnPdLw: 'fafad2',\n  ZWay: 'd3d3d3',\n  ZgYF: '90ee90',\n  ZgYy: 'd3d3d3',\n  ZpRk: 'ffb6c1',\n  ZsOmon: 'ffa07a',\n  ZsHgYF: '20b2aa',\n  ZskyXe: '87cefa',\n  ZUWay: '778899',\n  ZUgYy: '778899',\n  ZstAlXe: 'b0c4de',\n  ZLw: 'ffffe0',\n  lime: 'ff00',\n  limegYF: '32cd32',\n  lRF: 'faf0e6',\n  magFta: 'ff00ff',\n  maPon: '800000',\n  VaquamarRe: '66cdaa',\n  VXe: 'cd',\n  VScEd: 'ba55d3',\n  VpurpN: '9370db',\n  VsHgYF: '3cb371',\n  VUXe: '7b68ee',\n  VsprRggYF: 'fa9a',\n  VQe: '48d1cc',\n  VviTetYd: 'c71585',\n  midnightXe: '191970',\n  mRtcYam: 'f5fffa',\n  mistyPse: 'ffe4e1',\n  moccasR: 'ffe4b5',\n  navajowEte: 'ffdead',\n  navy: '80',\n  Tdlace: 'fdf5e6',\n  Tive: '808000',\n  TivedBb: '6b8e23',\n  Sange: 'ffa500',\n  SangeYd: 'ff4500',\n  ScEd: 'da70d6',\n  pOegTMnPd: 'eee8aa',\n  pOegYF: '98fb98',\n  pOeQe: 'afeeee',\n  pOeviTetYd: 'db7093',\n  papayawEp: 'ffefd5',\n  pHKpuff: 'ffdab9',\n  peru: 'cd853f',\n  pRk: 'ffc0cb',\n  plum: 'dda0dd',\n  powMrXe: 'b0e0e6',\n  purpN: '800080',\n  YbeccapurpN: '663399',\n  Yd: 'ff0000',\n  Psybrown: 'bc8f8f',\n  PyOXe: '4169e1',\n  saddNbPwn: '8b4513',\n  sOmon: 'fa8072',\n  sandybPwn: 'f4a460',\n  sHgYF: '2e8b57',\n  sHshell: 'fff5ee',\n  siFna: 'a0522d',\n  silver: 'c0c0c0',\n  skyXe: '87ceeb',\n  UXe: '6a5acd',\n  UWay: '708090',\n  UgYy: '708090',\n  snow: 'fffafa',\n  sprRggYF: 'ff7f',\n  stAlXe: '4682b4',\n  tan: 'd2b48c',\n  teO: '8080',\n  tEstN: 'd8bfd8',\n  tomato: 'ff6347',\n  Qe: '40e0d0',\n  viTet: 'ee82ee',\n  JHt: 'f5deb3',\n  wEte: 'ffffff',\n  wEtesmoke: 'f5f5f5',\n  Lw: 'ffff00',\n  LwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/**\n * @namespace Chart.helpers\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ActiveDataPoint, ChartEvent} from '../types/index.js';\n\n/**\n * An empty function that can be used, for example, for optional callback.\n */\nexport function noop() {\n  /* noop */\n}\n\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */\nexport const uid = (() => {\n  let id = 0;\n  return () => id++;\n})();\n\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isNullOrUndef(value: unknown): value is null | undefined {\n  return value === null || typeof value === 'undefined';\n}\n\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */\nexport function isArray<T = unknown>(value: unknown): value is T[] {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isObject(value: unknown): value is AnyObject {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */\nfunction isNumberFinite(value: unknown): value is number {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\nexport {\n  isNumberFinite as isFinite,\n};\n\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */\nexport function finiteOrDefault(value: unknown, defaultValue: number) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */\nexport function valueOrDefault<T>(value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nexport const toPercentage = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : +value / dimension;\n\nexport const toDimension = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\n\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */\nexport function callback<T extends (this: TA, ...restArgs: unknown[]) => R, TA, R>(\n  fn: T | undefined,\n  args: unknown[],\n  thisArg?: TA\n): R | undefined {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Note(SB) for performance sake, this method should only be used when loopable type\n * is unknown or in none intensive code (not called often and small loopable). Else\n * it's preferable to use a regular for() loop and save extra function calls.\n * @param loopable - The object or array to be iterated.\n * @param fn - The function to call for each item.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n * @param [reverse] - If true, iterates backward on the loopable.\n */\nexport function each<T, TA>(\n  loopable: Record<string, T>,\n  fn: (this: TA, v: T, i: string) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[],\n  fn: (this: TA, v: T, i: number) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[] | Record<string, T>,\n  fn: (this: TA, v: T, i: any) => void,\n  thisArg?: TA,\n  reverse?: boolean\n) {\n  let i: number, len: number, keys: string[];\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */\nexport function _elementsEqual(a0: ActiveDataPoint[], a1: ActiveDataPoint[]) {\n  let i: number, ilen: number, v0: ActiveDataPoint, v1: ActiveDataPoint;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */\nexport function clone<T>(source: T): T {\n  if (isArray(source)) {\n    return source.map(clone) as unknown as T;\n  }\n\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key: string) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */\nexport function _merger(key: string, target: AnyObject, source: AnyObject, options: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone(sval);\n  }\n}\n\nexport interface MergeOptions {\n  merger?: (key: string, target: AnyObject, source: AnyObject, options?: AnyObject) => void;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` with the given `options`.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @param [options] - Merging options:\n * @param [options.merger] - The merge method (key, target, source, options)\n * @returns The `target` object.\n */\nexport function merge<T>(target: T, source: [], options?: MergeOptions): T;\nexport function merge<T, S1>(target: T, source: S1, options?: MergeOptions): T & S1;\nexport function merge<T, S1>(target: T, source: [S1], options?: MergeOptions): T & S1;\nexport function merge<T, S1, S2>(target: T, source: [S1, S2], options?: MergeOptions): T & S1 & S2;\nexport function merge<T, S1, S2, S3>(target: T, source: [S1, S2, S3], options?: MergeOptions): T & S1 & S2 & S3;\nexport function merge<T, S1, S2, S3, S4>(\n  target: T,\n  source: [S1, S2, S3, S4],\n  options?: MergeOptions\n): T & S1 & S2 & S3 & S4;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target as AnyObject;\n  }\n\n  options = options || {};\n  const merger = options.merger || _merger;\n  let current: AnyObject;\n\n  for (let i = 0; i < ilen; ++i) {\n    current = sources[i];\n    if (!isObject(current)) {\n      continue;\n    }\n\n    const keys = Object.keys(current);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, current, options as AnyObject);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` *only* if not defined in target.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @returns The `target` object.\n */\nexport function mergeIf<T>(target: T, source: []): T;\nexport function mergeIf<T, S1>(target: T, source: S1): T & S1;\nexport function mergeIf<T, S1>(target: T, source: [S1]): T & S1;\nexport function mergeIf<T, S1, S2>(target: T, source: [S1, S2]): T & S1 & S2;\nexport function mergeIf<T, S1, S2, S3>(target: T, source: [S1, S2, S3]): T & S1 & S2 & S3;\nexport function mergeIf<T, S1, S2, S3, S4>(target: T, source: [S1, S2, S3, S4]): T & S1 & S2 & S3 & S4;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return merge<T>(target, source, {merger: _mergerIf});\n}\n\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */\nexport function _mergerIf(key: string, target: AnyObject, source: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone(sval);\n  }\n}\n\n/**\n * @private\n */\nexport function _deprecated(scope: string, value: unknown, previous: string, current: string) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n      '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n  // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n  '': v => v,\n  // default resolvers\n  x: o => o.x,\n  y: o => o.y\n};\n\n/**\n * @private\n */\nexport function _splitKey(key: string) {\n  const parts = key.split('.');\n  const keys: string[] = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\n\nfunction _getKeyResolver(key: string) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        // For backward compatibility:\n        // Chart.helpers.core resolveObjectKey should break at empty key\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\n\nexport function resolveObjectKey(obj: AnyObject, key: string): any {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\n\n/**\n * @private\n */\nexport function _capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nexport const defined = (value: unknown) => typeof value !== 'undefined';\n\nexport const isFunction = (value: unknown): value is (...args: any[]) => any => typeof value === 'function';\n\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nexport const setsEqual = <T>(a: Set<T>, b: Set<T>) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @param e - The event\n * @private\n */\nexport function _isClickEvent(e: ChartEvent) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n","import type {Point} from '../types/geometric.js';\nimport {isFinite as isFiniteNumber} from './helpers.core.js';\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */\n\nexport const PI = Math.PI;\nexport const TAU = 2 * PI;\nexport const PITAU = TAU + PI;\nexport const INFINITY = Number.POSITIVE_INFINITY;\nexport const RAD_PER_DEG = PI / 180;\nexport const HALF_PI = PI / 2;\nexport const QUARTER_PI = PI / 4;\nexport const TWO_THIRDS_PI = PI * 2 / 3;\n\nexport const log10 = Math.log10;\nexport const sign = Math.sign;\n\nexport function almostEquals(x: number, y: number, epsilon: number) {\n  return Math.abs(x - y) < epsilon;\n}\n\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */\nexport function niceNum(range: number) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */\nexport function _factorize(value: number) {\n  const result: number[] = [];\n  const sqrt = Math.sqrt(value);\n  let i: number;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) { // if value is a square number\n    result.push(sqrt);\n  }\n\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\n\nexport function isNumber(n: unknown): n is number {\n  return !isNaN(parseFloat(n as string)) && isFinite(n as number);\n}\n\nexport function almostWhole(x: number, epsilon: number) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\n\n/**\n * @private\n */\nexport function _setMinAndMaxByKey(\n  array: Record<string, number>[],\n  target: { min: number, max: number },\n  property: string\n) {\n  let i: number, ilen: number, value: number;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nexport function toRadians(degrees: number) {\n  return degrees * (PI / 180);\n}\n\nexport function toDegrees(radians: number) {\n  return radians * (180 / PI);\n}\n\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */\nexport function _decimalPlaces(x: number) {\n  if (!isFiniteNumber(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\n\n// Gets the angle from vertical upright to the point about a centre.\nexport function getAngleFromPoint(\n  centrePoint: Point,\n  anglePoint: Point\n) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < (-0.5 * PI)) {\n    angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n  }\n\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nexport function distanceBetweenPoints(pt1: Point, pt2: Point) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */\nexport function _angleDiff(a: number, b: number) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */\nexport function _normalizeAngle(a: number) {\n  return (a % TAU + TAU) % TAU;\n}\n\n/**\n * @private\n */\nexport function _angleBetween(angle: number, start: number, end: number, sameAngleIsFullCircle?: boolean) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\n\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */\nexport function _limitValue(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * @param {number} value\n * @private\n */\nexport function _int16Range(value: number) {\n  return _limitValue(value, -32768, 32767);\n}\n\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */\nexport function _isBetween(value: number, start: number, end: number, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n","import {_capitalize} from './helpers.core.js';\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param value - value to find\n * @param cmp\n * @private\n */\nexport function _lookup(\n  table: number[],\n  value: number,\n  cmp?: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup<T>(\n  table: T[],\n  value: number,\n  cmp: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup(\n  table: unknown[],\n  value: number,\n  cmp?: (value: number) => boolean\n) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid: number;\n\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {lo, hi};\n}\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */\nexport const _lookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number,\n  last?: boolean\n) =>\n  _lookup(table, value, last\n    ? index => {\n      const ti = table[index][key];\n      return ti < value || ti === value && table[index + 1][key] === value;\n    }\n    : index => table[index][key] < value);\n\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */\nexport const _rlookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number\n) =>\n  _lookup(table, value, index => table[index][key] >= value);\n\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */\nexport function _filterBetween(values: number[], min: number, max: number) {\n  let start = 0;\n  let end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\n\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'] as const;\n\nexport interface ArrayListener<T> {\n  _onDataPush?(...item: T[]): void;\n  _onDataPop?(): void;\n  _onDataShift?(): void;\n  _onDataSplice?(index: number, deleteCount: number, ...items: T[]): void;\n  _onDataUnshift?(...item: T[]): void;\n}\n\n/**\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n * called on the '_onData*' callbacks (e.g. _onDataPush, etc.) with same arguments.\n */\nexport function listenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\n\n/**\n * Removes the given array event listener and cleanup extra attached properties (such as\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n */\nexport function unlistenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n\n  delete array._chartjs;\n}\n\n/**\n * @param items\n */\nexport function _arrayUnique<T>(items: T[]) {\n  const set = new Set<T>(items);\n\n  if (set.size === items.length) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n","import type {ChartMeta, PointElement} from '../types/index.js';\n\nimport {_limitValue} from './helpers.math.js';\nimport {_lookupByKey} from './helpers.collection.js';\n\nexport function fontString(pixelSize: number, fontStyle: string, fontFamily: string) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\n/**\n* Request animation polyfill\n*/\nexport const requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\n\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */\nexport function throttled<TArgs extends Array<any>>(\n  fn: (...args: TArgs) => void,\n  thisArg: any,\n) {\n  let argsToUse = [] as TArgs;\n  let ticking = false;\n\n  return function(...args: TArgs) {\n    // Save the args for use later\n    argsToUse = args;\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, argsToUse);\n      });\n    }\n  };\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n */\nexport function debounce<TArgs extends Array<any>>(fn: (...args: TArgs) => void, delay: number) {\n  let timeout;\n  return function(...args: TArgs) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\n\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */\nexport const _toLeftRightCenter = (align: 'start' | 'end' | 'center') => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */\nexport const _alignStartEnd = (align: 'start' | 'end' | 'center', start: number, end: number) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */\nexport const _textX = (align: 'left' | 'right' | 'center', left: number, right: number, rtl: boolean) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\n/**\n * Return start and count of visible points.\n * @private\n */\nexport function _getStartAndCountOfVisiblePoints(meta: ChartMeta<'line' | 'scatter'>, points: PointElement[], animationsDisabled: boolean) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count = pointCount;\n\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {start, count};\n}\n\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */\nexport function _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n","import {PI, TAU, HALF_PI} from './helpers.math.js';\n\nconst atEdge = (t: number) => t === 0 || t === 1;\nconst elasticIn = (t: number, s: number, p: number) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t: number, s: number, p: number) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */\nconst effects = {\n  linear: (t: number) => t,\n\n  easeInQuad: (t: number) => t * t,\n\n  easeOutQuad: (t: number) => -t * (t - 2),\n\n  easeInOutQuad: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n\n  easeInCubic: (t: number) => t * t * t,\n\n  easeOutCubic: (t: number) => (t -= 1) * t * t + 1,\n\n  easeInOutCubic: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n\n  easeInQuart: (t: number) => t * t * t * t,\n\n  easeOutQuart: (t: number) => -((t -= 1) * t * t * t - 1),\n\n  easeInOutQuart: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n\n  easeInQuint: (t: number) => t * t * t * t * t,\n\n  easeOutQuint: (t: number) => (t -= 1) * t * t * t * t + 1,\n\n  easeInOutQuint: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n\n  easeInSine: (t: number) => -Math.cos(t * HALF_PI) + 1,\n\n  easeOutSine: (t: number) => Math.sin(t * HALF_PI),\n\n  easeInOutSine: (t: number) => -0.5 * (Math.cos(PI * t) - 1),\n\n  easeInExpo: (t: number) => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n\n  easeOutExpo: (t: number) => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n\n  easeInOutExpo: (t: number) => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n\n  easeInCirc: (t: number) => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n\n  easeOutCirc: (t: number) => Math.sqrt(1 - (t -= 1) * t),\n\n  easeInOutCirc: (t: number) => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n\n  easeInElastic: (t: number) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n\n  easeOutElastic: (t: number) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n\n  easeInOutElastic(t: number) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n\n  easeInBack(t: number) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack(t: number) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack(t: number) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n\n  easeInBounce: (t: number) => 1 - effects.easeOutBounce(1 - t),\n\n  easeOutBounce(t: number) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n\n  easeInOutBounce: (t: number) => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n} as const;\n\nexport type EasingFunction = keyof typeof effects\n\nexport default effects;\n","import {Color} from '@kurkle/color';\n\nexport function isPatternOrGradient(value: unknown): value is CanvasPattern | CanvasGradient {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n\n  return false;\n}\n\nexport function color(value: CanvasGradient): CanvasGradient;\nexport function color(value: CanvasPattern): CanvasPattern;\nexport function color(\n  value:\n  | string\n  | { r: number; g: number; b: number; a: number }\n  | [number, number, number]\n  | [number, number, number, number]\n): Color;\nexport function color(value) {\n  return isPatternOrGradient(value) ? value : new Color(value);\n}\n\nexport function getHoverColor(value: CanvasGradient): CanvasGradient;\nexport function getHoverColor(value: CanvasPattern): CanvasPattern;\nexport function getHoverColor(value: string): string;\nexport function getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n","const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\n\nexport function applyAnimationsDefaults(defaults) {\n  defaults.set('animation', {\n    delay: undefined,\n    duration: 1000,\n    easing: 'easeOutQuart',\n    fn: undefined,\n    from: undefined,\n    loop: undefined,\n    to: undefined,\n    type: undefined,\n  });\n\n  defaults.describe('animation', {\n    _fallback: false,\n    _indexable: false,\n    _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n  });\n\n  defaults.set('animations', {\n    colors: {\n      type: 'color',\n      properties: colors\n    },\n    numbers: {\n      type: 'number',\n      properties: numbers\n    },\n  });\n\n  defaults.describe('animations', {\n    _fallback: 'animation',\n  });\n\n  defaults.set('transitions', {\n    active: {\n      animation: {\n        duration: 400\n      }\n    },\n    resize: {\n      animation: {\n        duration: 0\n      }\n    },\n    show: {\n      animations: {\n        colors: {\n          from: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          duration: 0 // show immediately\n        },\n      }\n    },\n    hide: {\n      animations: {\n        colors: {\n          to: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          easing: 'linear',\n          fn: v => v | 0 // for keeping the dataset visible all the way through the animation\n        },\n      }\n    }\n  });\n}\n","export function applyLayoutsDefaults(defaults) {\n  defaults.set('layout', {\n    autoPadding: true,\n    padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }\n  });\n}\n","\nconst intlCache = new Map<string, Intl.NumberFormat>();\n\nfunction getNumberFormat(locale: string, options?: Intl.NumberFormatOptions) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\n\nexport function formatNumber(num: number, locale: string, options?: Intl.NumberFormatOptions) {\n  return getNumberFormat(locale, options).format(num);\n}\n","import {isArray} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {log10} from '../helpers/helpers.math.js';\n\n/**\n * Namespace to hold formatters for different types of ticks\n * @namespace Chart.Ticks.formatters\n */\nconst formatters = {\n  /**\n   * Formatter for value labels\n   * @method Chart.Ticks.formatters.values\n   * @param value the value to display\n   * @return {string|string[]} the label to display\n   */\n  values(value) {\n    return isArray(value) ? /** @type {string[]} */ (value) : '' + value;\n  },\n\n  /**\n   * Formatter for numeric ticks\n   * @method Chart.Ticks.formatters.numeric\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0'; // never show decimal places for 0\n    }\n\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue; // This is used when there are less than 2 ticks as the tick interval.\n\n    if (ticks.length > 1) {\n      // all ticks are small or there huge numbers; use scientific notation\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    const logDelta = log10(Math.abs(delta));\n\n    // When datasets have values approaching Number.MAX_VALUE, the tick calculations might result in\n    // infinity and eventually NaN. Passing NaN for minimumFractionDigits or maximumFractionDigits\n    // will make the number formatter throw. So instead we check for isNaN and use a fallback value.\n    //\n    // toFixed has a max of 20 decimal places\n    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n\n    return formatNumber(tickValue, locale, options);\n  },\n\n\n  /**\n   * Formatter for logarithmic ticks\n   * @method Chart.Ticks.formatters.logarithmic\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = ticks[index].significand || (tickValue / (Math.pow(10, Math.floor(log10(tickValue)))));\n    if ([1, 2, 3, 5, 10, 15].includes(remain) || index > 0.8 * ticks.length) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n\n};\n\n\nfunction calculateDelta(tickValue, ticks) {\n  // Figure out how many digits to show\n  // The space between the first two ticks might be smaller than normal spacing\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    // not an integer\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\n\n/**\n * Namespace to hold static tick generation functions\n * @namespace Chart.Ticks\n */\nexport default {formatters};\n","import Ticks from './core.ticks.js';\n\nexport function applyScaleDefaults(defaults) {\n  defaults.set('scale', {\n    display: true,\n    offset: false,\n    reverse: false,\n    beginAtZero: false,\n\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 3.0.0\n     */\n    bounds: 'ticks',\n\n    /**\n     * Addition grace added to max and reduced from min data value.\n     * @since 3.0.0\n     */\n    grace: 0,\n\n    // grid line settings\n    grid: {\n      display: true,\n      lineWidth: 1,\n      drawOnChartArea: true,\n      drawTicks: true,\n      tickLength: 8,\n      tickWidth: (_ctx, options) => options.lineWidth,\n      tickColor: (_ctx, options) => options.color,\n      offset: false,\n    },\n\n    border: {\n      display: true,\n      dash: [],\n      dashOffset: 0.0,\n      width: 1\n    },\n\n    // scale title\n    title: {\n      // display property\n      display: false,\n\n      // actual label\n      text: '',\n\n      // top/bottom padding\n      padding: {\n        top: 4,\n        bottom: 4\n      }\n    },\n\n    // label settings\n    ticks: {\n      minRotation: 0,\n      maxRotation: 50,\n      mirror: false,\n      textStrokeWidth: 0,\n      textStrokeColor: '',\n      padding: 3,\n      display: true,\n      autoSkip: true,\n      autoSkipPadding: 3,\n      labelOffset: 0,\n      // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n      callback: Ticks.formatters.values,\n      minor: {},\n      major: {},\n      align: 'center',\n      crossAlign: 'near',\n\n      showLabelBackdrop: false,\n      backdropColor: 'rgba(255, 255, 255, 0.75)',\n      backdropPadding: 2,\n    }\n  });\n\n  defaults.route('scale.ticks', 'color', '', 'color');\n  defaults.route('scale.grid', 'color', '', 'borderColor');\n  defaults.route('scale.border', 'color', '', 'borderColor');\n  defaults.route('scale.title', 'color', '', 'color');\n\n  defaults.describe('scale', {\n    _fallback: false,\n    _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n    _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash',\n  });\n\n  defaults.describe('scales', {\n    _fallback: 'scale',\n  });\n\n  defaults.describe('scale.ticks', {\n    _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n    _indexable: (name) => name !== 'backdropPadding',\n  });\n}\n","import {getHoverColor} from '../helpers/helpers.color.js';\nimport {isObject, merge, valueOrDefault} from '../helpers/helpers.core.js';\nimport {applyAnimationsDefaults} from './core.animations.defaults.js';\nimport {applyLayoutsDefaults} from './core.layouts.defaults.js';\nimport {applyScaleDefaults} from './core.scale.defaults.js';\n\nexport const overrides = Object.create(null);\nexport const descriptors = Object.create(null);\n\n/**\n * @param {object} node\n * @param {string} key\n * @return {object}\n */\nfunction getScope(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\n\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope(root, scope), values);\n  }\n  return merge(getScope(root, ''), scope);\n}\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Defaults {\n  constructor(_descriptors, _appliers) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n\n    this.describe(_descriptors);\n    this.apply(_appliers);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n\n  /**\n\t * @param {string} scope\n\t */\n  get(scope) {\n    return getScope(this, scope);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n\n  /**\n\t * Routes the named defaults to fallback to another scope/name.\n\t * This routing is useful when those target values, like defaults.color, are changed runtime.\n\t * If the values would be copied, the runtime change would not take effect. By routing, the\n\t * fallback is evaluated at each access, so its always up to date.\n\t *\n\t * Example:\n\t *\n\t * \tdefaults.route('elements.arc', 'backgroundColor', '', 'color')\n\t *   - reads the backgroundColor from defaults.color when undefined locally\n\t *\n\t * @param {string} scope Scope this route applies to.\n\t * @param {string} name Property name that should be routed to different namespace when not defined here.\n\t * @param {string} targetScope The namespace where those properties should be routed to.\n\t * Empty string ('') is the root of defaults.\n\t * @param {string} targetName The target name in the target scope the property should be routed to.\n\t */\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope(this, scope);\n    const targetScopeObject = getScope(this, targetScope);\n    const privateName = '_' + name;\n\n    Object.defineProperties(scopeObject, {\n      // A private property is defined to hold the actual value, when this property is set in its scope (set in the setter)\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      // The actual property is defined as getter/setter so we can do the routing when value is not locally set.\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n\n  apply(appliers) {\n    appliers.forEach((apply) => apply(this));\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);\n","import type {\n  Chart,\n  Point,\n  FontSpec,\n  CanvasFontSpec,\n  PointStyle,\n  RenderTextOpts,\n  BackdropOptions\n} from '../types/index.js';\nimport type {\n  TRBL,\n  SplinePoint,\n  RoundedRect,\n  TRBLCorners\n} from '../types/geometric.js';\nimport {isArray, isNullOrUndef} from './helpers.core.js';\nimport {PI, TAU, HALF_PI, QUARTER_PI, TWO_THIRDS_PI, RAD_PER_DEG} from './helpers.math.js';\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */\nexport function toFontString(font: FontSpec) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\n\n/**\n * @private\n */\nexport function _measureText(\n  ctx: CanvasRenderingContext2D,\n  data: Record<string, number>,\n  gc: string[],\n  longest: number,\n  string: string\n) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\n\ntype Thing = string | undefined | null\ntype Things = (Thing | Thing[])[]\n\n/**\n * @private\n */\n// eslint-disable-next-line complexity\nexport function _longestText(\n  ctx: CanvasRenderingContext2D,\n  font: string,\n  arrayOfThings: Things,\n  cache?: {data?: Record<string, number>, garbageCollect?: string[], font?: string}\n) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i: number, j: number, jlen: number, thing: Thing | Thing[], nestedThing: Thing | Thing[];\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    // Undefined strings and arrays should not be measured\n    if (thing !== undefined && thing !== null && !isArray(thing)) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      // if it is an array lets measure each element\n      // to do maybe simplify this function a bit so we can do this more recursively?\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        // Undefined strings and arrays should not be measured\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\n\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */\nexport function _alignPixel(chart: Chart, pixel: number, width: number) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\n/**\n * Clears the entire canvas.\n */\nexport function clearCanvas(canvas: HTMLCanvasElement, ctx?: CanvasRenderingContext2D) {\n  ctx = ctx || canvas.getContext('2d');\n\n  ctx.save();\n  // canvas.width and canvas.height do not consider the canvas transform,\n  // while clearRect does\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nexport interface DrawPointOptions {\n  pointStyle: PointStyle;\n  rotation?: number;\n  radius: number;\n  borderWidth: number;\n}\n\nexport function drawPoint(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number\n) {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  drawPointLegend(ctx, options, x, y, null);\n}\n\n// eslint-disable-next-line complexity\nexport function drawPointLegend(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number,\n  w: number\n) {\n  let type: string, xOffset: number, yOffset: number, size: number, cornerRadius: number, width: number, xOffsetW: number, yOffsetW: number;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n    default:\n      if (w) {\n        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n      } else {\n        ctx.arc(x, y, radius, 0, TAU);\n      }\n      ctx.closePath();\n      break;\n    case 'triangle':\n      width = w ? w / 2 : radius;\n      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n    case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        width = w ? w / 2 : size;\n        ctx.rect(x - width, y - size, 2 * width, 2 * size);\n        break;\n      }\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'rectRot':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      ctx.closePath();\n      break;\n    case 'crossRot':\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'cross':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'star':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      rad += QUARTER_PI;\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'line':\n      xOffset = w ? w / 2 : Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n      break;\n    case false:\n      ctx.closePath();\n      break;\n  }\n\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */\nexport function _isPointInArea(\n  point: Point,\n  area: TRBL,\n  margin?: number\n) {\n  margin = margin || 0.5; // margin - default is to match rounded decimals\n\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\n\nexport function clipArea(ctx: CanvasRenderingContext2D, area: TRBL) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nexport function unclipArea(ctx: CanvasRenderingContext2D) {\n  ctx.restore();\n}\n\n/**\n * @private\n */\nexport function _steppedLineTo(\n  ctx: CanvasRenderingContext2D,\n  previous: Point,\n  target: Point,\n  flip?: boolean,\n  mode?: string\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @private\n */\nexport function _bezierCurveTo(\n  ctx: CanvasRenderingContext2D,\n  previous: SplinePoint,\n  target: SplinePoint,\n  flip?: boolean\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\n\nfunction setRenderOpts(ctx: CanvasRenderingContext2D, opts: RenderTextOpts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  line: string,\n  opts: RenderTextOpts\n) {\n  if (opts.strikethrough || opts.underline) {\n    /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction drawBackdrop(ctx: CanvasRenderingContext2D, opts: BackdropOptions) {\n  const oldColor = ctx.fillStyle;\n\n  ctx.fillStyle = opts.color as string;\n  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n  ctx.fillStyle = oldColor;\n}\n\n/**\n * Render text onto the canvas\n */\nexport function renderText(\n  ctx: CanvasRenderingContext2D,\n  text: string | string[],\n  x: number,\n  y: number,\n  font: CanvasFontSpec,\n  opts: RenderTextOpts = {}\n) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i: number, line: string;\n\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (opts.backdrop) {\n      drawBackdrop(ctx, opts.backdrop);\n    }\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n\n    y += Number(font.lineHeight);\n  }\n\n  ctx.restore();\n}\n\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */\nexport function addRoundedRectPath(\n  ctx: CanvasRenderingContext2D,\n  rect: RoundedRect & { radius: TRBLCorners }\n) {\n  const {x, y, w, h, radius} = rect;\n\n  // top left arc\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n\n  // line from top left to bottom left\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n\n  // bottom left arc\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n\n  // line from bottom left to bottom right\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n\n  // bottom right arc\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n\n  // line from bottom right to top right\n  ctx.lineTo(x + w, y + radius.topRight);\n\n  // top right arc\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n\n  // line from top right to top left\n  ctx.lineTo(x + radius.topLeft, y);\n}\n","import defaults from '../core/core.defaults.js';\nimport {isArray, isObject, toDimension, valueOrDefault} from './helpers.core.js';\nimport {toFontString} from './helpers.canvas.js';\nimport type {ChartArea, FontSpec, Point} from '../types/index.js';\nimport type {TRBL, TRBLCorners} from '../types/geometric.js';\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n\n/**\n * @alias Chart.helpers.options\n * @namespace\n */\n/**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */\nexport function toLineHeight(value: number | string, size: number): number {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n    case '%':\n      value /= 100;\n      break;\n    default:\n      break;\n  }\n\n  return size * value;\n}\n\nconst numberOrZero = (v: unknown) => +v || 0;\n\n/**\n * @param value\n * @param props\n */\nexport function _readValueToProps<K extends string>(value: number | Record<K, number>, props: K[]): Record<K, number>;\nexport function _readValueToProps<K extends string, T extends string>(value: number | Record<K & T, number>, props: Record<T, K>): Record<T, number>;\nexport function _readValueToProps(value: number | Record<string, number>, props: string[] | Record<string, string>) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\n\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */\nexport function toTRBL(value: number | TRBL | Point) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\n\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */\nexport function toTRBLCorners(value: number | TRBLCorners) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */\nexport function toPadding(value?: number | TRBL): ChartArea {\n  const obj = toTRBL(value) as ChartArea;\n\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n\n  return obj;\n}\n\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */\n\nexport function toFont(options: Partial<FontSpec>, fallback?: Partial<FontSpec>) {\n  options = options || {};\n  fallback = fallback || defaults.font as FontSpec;\n\n  let size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = undefined;\n  }\n\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n\n  font.string = toFontString(font);\n  return font;\n}\n\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */\nexport function resolve(inputs: Array<unknown>, context?: object, index?: number, info?: { cacheable: boolean }) {\n  let cacheable = true;\n  let i: number, ilen: number, value: unknown;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\n\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */\nexport function _addGrace(minmax: { min: number; max: number; }, grace: number | string, beginAtZero: boolean) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value: number, add: number) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\n/**\n * Create a context inheriting parentContext\n * @param parentContext\n * @param context\n * @returns\n */\nexport function createContext<T extends object>(parentContext: null, context: T): T;\nexport function createContext<T extends object, P extends T>(parentContext: P, context: T): P & T;\nexport function createContext(parentContext: object, context: object) {\n  return Object.assign(Object.create(parentContext), context);\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartMeta} from '../types/index.js';\nimport type {\n  ResolverObjectKey,\n  ResolverCache,\n  ResolverProxy,\n  DescriptorDefaults,\n  Descriptor,\n  ContextCache,\n  ContextProxy\n} from './helpers.config.types.js';\nimport {isArray, isFunction, isObject, resolveObjectKey, _capitalize} from './helpers.core.js';\n\nexport * from './helpers.config.types.js';\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */\nexport function _createResolver<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  scopes: T,\n  prefixes = [''],\n  rootScopes?: R,\n  fallback?: ResolverObjectKey,\n  getTarget = () => scopes[0]\n) {\n  const finalRootScopes = rootScopes || scopes;\n  if (typeof fallback === 'undefined') {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache: ResolverCache<T, R> = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: finalRootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope: AnyObject) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop: string) {\n      delete target[prop]; // remove from cache\n      delete target._keys; // remove cached keys\n      delete scopes[0][prop]; // remove from top level scope\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop: string) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop: string, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value; // set to top level scope + cache\n      delete target._keys; // remove cached keys\n      return true;\n    }\n  }) as ResolverProxy<T, R>;\n}\n\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */\nexport function _attachContext<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  proxy: ResolverProxy<T, R>,\n  context: AnyObject,\n  subProxy?: ResolverProxy<T, R>,\n  descriptorDefaults?: DescriptorDefaults\n) {\n  const cache: ContextCache<T, R> = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx: AnyObject) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope: AnyObject) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop) {\n      delete target[prop]; // remove from cache\n      delete proxy[prop]; // remove from proxy\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop, value) {\n      proxy[prop] = value; // set to proxy\n      delete target[prop]; // remove from cache\n      return true;\n    }\n  }) as ContextProxy<T, R>;\n}\n\n/**\n * @private\n */\nexport function _descriptors(\n  proxy: ResolverCache,\n  defaults: DescriptorDefaults = {scriptable: true, indexable: true}\n): Descriptor {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\n\nconst readKey = (prefix: string, name: string) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop: string, value: unknown) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\n\nfunction _cached(\n  target: AnyObject,\n  prop: string,\n  resolve: () => unknown\n) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n\n  const value = resolve();\n  // cache the resolved value\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(\n  target: ContextCache,\n  prop: string,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop]; // resolve from proxy\n\n  // resolve with context\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    // if the resolved value is an object, create a sub resolver for it\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\n\nfunction _resolveScriptable(\n  prop: string,\n  getValue: (ctx: AnyObject, sub: AnyObject) => unknown,\n  target: ContextCache,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  let value = getValue(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    // When scriptable option returns an object, create a resolver on that.\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\n\nfunction _resolveArray(\n  prop: string,\n  value: unknown[],\n  target: ContextCache,\n  isIndexable: (key: string) => boolean\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n\n  if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n    return value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    // Array of objects, return array or resolvers\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\n\nfunction resolveFallback(\n  fallback: ResolverObjectKey | ((prop: ResolverObjectKey, value: unknown) => ResolverObjectKey),\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nconst getScope = (key: ResolverObjectKey, parent: AnyObject) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n\nfunction addScopes(\n  set: Set<AnyObject>,\n  parentScopes: AnyObject[],\n  key: ResolverObjectKey,\n  parentFallback: ResolverObjectKey,\n  value: unknown\n) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n        // When we reach the descriptor that defines a new _fallback, return that.\n        // The fallback will resume to that new scope.\n        return fallback;\n      }\n    } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n      // Fallback to `false` results to `false`, when falling back to different key.\n      // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n      return null;\n    }\n  }\n  return false;\n}\n\nfunction createSubResolver(\n  parentScopes: AnyObject[],\n  resolver: ResolverCache,\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set<AnyObject>();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (typeof fallback !== 'undefined' && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop as string, value));\n}\n\nfunction addScopesFromKey(\n  set: Set<AnyObject>,\n  allScopes: AnyObject[],\n  key: ResolverObjectKey,\n  fallback: ResolverObjectKey,\n  item: unknown\n) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\n\nfunction subGetTarget(\n  resolver: ResolverCache,\n  prop: string,\n  value: unknown\n) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    // For array of objects, the object is used to store updated values\n    return value;\n  }\n  return target || {};\n}\n\nfunction _resolveWithPrefixes(\n  prop: string,\n  prefixes: string[],\n  scopes: AnyObject[],\n  proxy: ResolverProxy\n) {\n  let value: unknown;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (typeof value !== 'undefined') {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\n\nfunction _resolve(key: string, scopes: AnyObject[]) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n  }\n}\n\nfunction getKeysFromAllScopes(target: ResolverCache) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes: AnyObject[]) {\n  const set = new Set<string>();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nexport function _parseObjectDataRadialScale(\n  meta: ChartMeta<'line' | 'scatter'>,\n  data: AnyObject[],\n  start: number,\n  count: number\n) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array<{r: unknown}>(count);\n  let i: number, ilen: number, index: number, item: AnyObject;\n\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n","import {almostEquals, distanceBetweenPoints, sign} from './helpers.math.js';\nimport {_isPointInArea} from './helpers.canvas.js';\nimport type {ChartArea} from '../types/index.js';\nimport type {SplinePoint} from '../types/geometric.js';\n\nconst EPSILON = Number.EPSILON || 1e-14;\n\ntype OptionalSplinePoint = SplinePoint | false\nconst getPoint = (points: SplinePoint[], i: number): OptionalSplinePoint => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis: 'x' | 'y') => indexAxis === 'x' ? 'y' : 'x';\n\nexport function splineCurve(\n  firstPoint: SplinePoint,\n  middlePoint: SplinePoint,\n  afterPoint: SplinePoint,\n  t: number\n): {\n    previous: SplinePoint\n    next: SplinePoint\n  } {\n  // Props to Rob Spencer at scaled innovation for his post on splining between points\n  // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n  // This function must also respect \"skipped\" points\n\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n\n  // If all points are the same, s01 & s02 will be inf\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n\n  const fa = t * s01; // scaling factor for triangle Ta\n  const fb = t * s12;\n\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\n/**\n * Adjust tangents to ensure monotonic properties\n */\nfunction monotoneAdjust(points: SplinePoint[], deltaK: number[], mK: number[]) {\n  const pointsLen = points.length;\n\n  let alphaK: number, betaK: number, tauK: number, squaredMagnitude: number, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points: SplinePoint[], mK: number[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta: number, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\n\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */\nexport function splineCurveMonotone(points: SplinePoint[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK: number[] = Array(pointsLen).fill(0);\n  const mK: number[] = Array(pointsLen);\n\n  // Calculate slopes (deltaK) and initialize tangents (mK)\n  let i, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n\n      // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n        : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n          : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt: number, min: number, max: number) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points: SplinePoint[], area: ChartArea) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\n/**\n * @private\n */\nexport function _updateBezierControlPoints(\n  points: SplinePoint[],\n  options,\n  area: ChartArea,\n  loop: boolean,\n  indexAxis: 'x' | 'y'\n) {\n  let i: number, ilen: number, point: SplinePoint, controlPoints: ReturnType<typeof splineCurve>;\n\n  // Only consider points that are drawn in case the spanGaps option is used\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n","import type {ChartArea, Scale} from '../types/index.js';\nimport type Chart from '../core/core.controller.js';\nimport type {ChartEvent} from '../types.js';\nimport {INFINITY} from './helpers.math.js';\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */\n\n/**\n * @private\n */\nexport function _isDomSupported(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\n/**\n * @private\n */\nexport function _getParentNode(domNode: HTMLCanvasElement): HTMLCanvasElement {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = (parent as ShadowRoot).host;\n  }\n  return parent as HTMLCanvasElement;\n}\n\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */\n\nfunction parseMaxStyle(styleValue: string | number, node: HTMLElement, parentProperty: string) {\n  let valueInPixels: number;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      // percentage * size in dimension\n      valueInPixels = (valueInPixels / 100) * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nconst getComputedStyle = (element: HTMLElement): CSSStyleDeclaration =>\n  element.ownerDocument.defaultView.getComputedStyle(element, null);\n\nexport function getStyle(el: HTMLElement, property: string): string {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles: CSSStyleDeclaration, style: string, suffix?: string): ChartArea {\n  const result = {} as ChartArea;\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nconst useOffsetPos = (x: number, y: number, target: HTMLElement | EventTarget) =>\n  (x > 0 || y > 0) && (!target || !(target as HTMLElement).shadowRoot);\n\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */\nfunction getCanvasPosition(\n  e: Event | TouchEvent | MouseEvent,\n  canvas: HTMLCanvasElement\n): {\n    x: number;\n    y: number;\n    box: boolean;\n  } {\n  const touches = (e as TouchEvent).touches;\n  const source = (touches && touches.length ? touches[0] : e) as MouseEvent;\n  const {offsetX, offsetY} = source as MouseEvent;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\n\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */\n\nexport function getRelativePosition(\n  event: Event | ChartEvent | TouchEvent | MouseEvent,\n  chart: Chart\n): { x: number; y: number } {\n  if ('native' in event) {\n    return event;\n  }\n\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(event, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas: HTMLCanvasElement, width: number, height: number): Partial<Scale> {\n  let maxWidth: number, maxHeight: number;\n\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect(); // this is the border box of the container\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nconst round1 = (v: number) => Math.round(v * 10) / 10;\n\n// eslint-disable-next-line complexity\nexport function getMaximumSize(\n  canvas: HTMLCanvasElement,\n  bbWidth?: number,\n  bbHeight?: number,\n  aspectRatio?: number\n): { width: number; height: number } {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    // https://github.com/chartjs/Chart.js/issues/4659\n    // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n    height = round1(width / 2);\n  }\n\n  const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n\n  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n    height = containerSize.height;\n    width = round1(Math.floor(height * aspectRatio));\n  }\n\n  return {width, height};\n}\n\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */\nexport function retinaScale(\n  chart: Chart,\n  forceRatio: number,\n  forceStyle?: boolean\n): boolean | void {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n\n  chart.height = Math.floor(chart.height);\n  chart.width = Math.floor(chart.width);\n\n  const canvas = chart.canvas;\n\n  // If no style has been set on the canvas, the render size is used as display size,\n  // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n  // See https://github.com/chartjs/Chart.js/issues/3575\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */\nexport const supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() { // This function will be called when the browser attempts to access the passive property.\n        passiveSupported = true;\n        return false;\n      }\n    } as EventListenerOptions;\n\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n    // continue regardless of error\n  }\n  return passiveSupported;\n}());\n\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */\n\nexport function readUsedSize(\n  element: HTMLElement,\n  property: 'width' | 'height'\n): number | undefined {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n","import type {Point, SplinePoint} from '../types/geometric.js';\n\n/**\n * @private\n */\nexport function _pointInLine(p1: Point, p2: Point, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\n/**\n * @private\n */\nexport function _steppedInterpolation(\n  p1: Point,\n  p2: Point,\n  t: number, mode: 'middle' | 'after' | unknown\n) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n      : mode === 'after' ? t < 1 ? p1.y : p2.y\n        : t > 0 ? p2.y : p1.y\n  };\n}\n\n/**\n * @private\n */\nexport function _bezierInterpolation(p1: SplinePoint, p2: SplinePoint, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n","export interface RTLAdapter {\n  x(x: number): number;\n  setWidth(w: number): void;\n  textAlign(align: 'center' | 'left' | 'right'): 'center' | 'left' | 'right';\n  xPlus(x: number, value: number): number;\n  leftForLtr(x: number, itemWidth: number): number;\n}\n\nconst getRightToLeftAdapter = function(rectX: number, width: number): RTLAdapter {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\n\nconst getLeftToRightAdapter = function(): RTLAdapter {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) { // eslint-disable-line no-unused-vars\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return x;\n    },\n  };\n};\n\nexport function getRtlAdapter(rtl: boolean, rectX: number, width: number) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nexport function overrideTextDirection(ctx: CanvasRenderingContext2D, direction: 'ltr' | 'rtl') {\n  let style: CSSStyleDeclaration, original: [string, string];\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n\n    style.setProperty('direction', direction, 'important');\n    (ctx as { prevTextDirection?: [string, string] }).prevTextDirection = original;\n  }\n}\n\nexport function restoreTextDirection(ctx: CanvasRenderingContext2D, original?: [string, string]) {\n  if (original !== undefined) {\n    delete (ctx as { prevTextDirection?: [string, string] }).prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n","import {_angleBetween, _angleDiff, _isBetween, _normalizeAngle} from './helpers.math.js';\nimport {createContext} from './helpers.options.js';\nimport {isPatternOrGradient} from './helpers.color.js';\n\n/**\n * @typedef { import('../elements/element.line.js').default } LineElement\n * @typedef { import('../elements/element.point.js').default } PointElement\n * @typedef {{start: number, end: number, loop: boolean, style?: any}} Segment\n */\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\n\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  // eslint-disable-next-line prefer-const\n  let {start, end, loop} = segment;\n  let i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\n\n/**\n * Returns the sub-segment(s) of a line segment that fall in the given bounds\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} [segment.style] - segment style\n * @param {PointElement[]} points - the points that this segment refers to\n * @param {object} [bounds]\n * @param {string} bounds.property - the property of a `PointElement` we are bounding. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the property\n * @param {number} bounds.end - end value of the property\n * @private\n **/\nexport function _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n\n  return result;\n}\n\n\n/**\n * Returns the segments of the line that are inside given bounds\n * @param {LineElement} line\n * @param {object} [bounds]\n * @param {string} bounds.property - the property we are bounding with. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the `property`\n * @param {number} bounds.end - end value of the `property`\n * @private\n */\nexport function _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\n\n/**\n * Find start and end index of a line.\n */\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n\n  if (loop && !spanGaps) {\n    // loop and not spanning gaps, first find a gap to start from\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  // find first non skipped point (after the first gap possibly)\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  // if we looped to count, start needs to be 0\n  start %= count;\n\n  if (loop) {\n    // loop will go past count, if start > 0\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  // end could be more than count, normalize\n  end %= count;\n\n  return {start, end};\n}\n\n/**\n * Compute solid segments from Points, when spanGaps === false\n * @param {PointElement[]} points - the points\n * @param {number} start - start index\n * @param {number} max - max index (can go past count on a loop)\n * @param {boolean} loop - boolean indicating that this would be a loop if no gaps are found\n */\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        // @ts-ignore\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n\n  return result;\n}\n\n/**\n * Compute the continuous segments that define the whole line\n * There can be skipped points within a segment, if spanGaps is true.\n * @param {LineElement} line\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n * @private\n */\nexport function _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\n/**\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\n/**\n * @param {LineElement} line\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    // Style can not start/end on a skipped point, adjust indices accordingly\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  if (!prevStyle) {\n    return false;\n  }\n  const cache = [];\n  const replacer = function(key, value) {\n    if (!isPatternOrGradient(value)) {\n      return value;\n    }\n    if (!cache.includes(value)) {\n      cache.push(value);\n    }\n    return cache.indexOf(value);\n  };\n  return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n","import {requestAnimFrame} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('./core.animation.js').default } Animation\n * @typedef { import('./core.controller.js').default } Chart\n */\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is export for typedoc\n */\nexport class Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n\n  /**\n\t * @private\n\t */\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _update(date = Date.now()) {\n    let remaining = 0;\n\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n\n      for (; i >= 0; --i) {\n        item = items[i];\n\n        if (item._active) {\n          if (item._total > anims.duration) {\n            // if the animation has been updated and its duration prolonged,\n            // update to total duration of current animations run (for progress event)\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          // Remove the item by replacing it with last item and removing the last\n          // A lot faster than splice.\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n\n      remaining += items.length;\n    });\n\n    this._lastDate = date;\n\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} event - event name\n\t * @param {Function} cb - callback\n\t */\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n\n  /**\n\t * Add animations\n\t * @param {Chart} chart\n\t * @param {Animation[]} items - animations\n\t */\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n\n  /**\n\t * Counts number of active animations for the chart\n\t * @param {Chart} chart\n\t */\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n\n  /**\n\t * Start animating (all charts)\n\t * @param {Chart} chart\n\t */\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n\t * Stop all animations for the chart\n\t * @param {Chart} chart\n\t */\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n\n  /**\n\t * Remove chart from Animator\n\t * @param {Chart} chart\n\t */\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Animator();\n","import effects from '../helpers/helpers.easing.js';\nimport {resolve} from '../helpers/helpers.options.js';\nimport {color as helpersColor} from '../helpers/helpers.color.js';\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  /**\n   * @param {string} from\n   * @param {string} to\n   * @param {number} factor\n   */\n  color(from, to, factor) {\n    const c0 = helpersColor(from || transparent);\n    const c1 = c0.valid && helpersColor(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nexport default class Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  active() {\n    return this._active;\n  }\n\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n\n  cancel() {\n    if (this._active) {\n      // update current evaluated value, for smoother animations\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n\n    this._active = from !== to && (loop || (elapsed < duration));\n\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n\n    this._target[prop] = this._fn(from, to, factor);\n  }\n\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n","import animator from './core.animator.js';\nimport Animation from './core.animation.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isObject} from '../helpers/helpers.core.js';\n\nexport default class Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n\n    const animationOptions = Object.keys(defaults.animation);\n    const animatedProps = this._properties;\n\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n\n  /**\n\t * Utility to handle animation of `options`.\n\t * @private\n\t */\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      // Going to shared options:\n      // After all animations are done, assign the shared options object to the element\n      // So any new updates to the shared options are observed\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n        // rejected, noop\n      });\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @private\n\t */\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n\n      if (animation) {\n        if (cfg && animation.active()) {\n          // There is an existing active animation, let's update that\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        // not animated, set directly to new value\n        target[prop] = value;\n        continue;\n      }\n\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n\n\n  /**\n\t * Update `target` properties to new values, using configured animations\n\t * @param {object} target - object to update\n\t * @param {object} values - new target properties\n\t * @returns {boolean|undefined} - `true` if animations were started\n\t **/\n  update(target, values) {\n    if (this._properties.size === 0) {\n      // Nothing is animated, just apply the new values.\n      Object.assign(target, values);\n      return;\n    }\n\n    const animations = this._createAnimations(target, values);\n\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\n\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  // @ts-ignore\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    // Going from shared options to distinct one:\n    // Create new options object containing the old shared values and start updating that.\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n","import Animations from './core.animations.js';\nimport defaults from './core.defaults.js';\nimport {isArray, isFinite, isObject, valueOrDefault, resolveObjectKey, defined} from '../helpers/helpers.core.js';\nimport {listenArrayEvents, unlistenArrayEvents} from '../helpers/helpers.collection.js';\nimport {createContext, sign} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('./core.scale.js').default } Scale\n */\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  let t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\n\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\n\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\n\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {}); // map structure is {stackKey: {datasetIndex: value}}\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n\n    const visualValues = stack._visualValues || (stack._visualValues = {});\n    visualValues[datasetIndex] = value;\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  // Not using meta.index here, because it might be already updated if the dataset changed location\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n    if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n      delete stacks[axis]._visualValues[datasetIndex];\n    }\n  }\n}\n\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\n\nexport default class DatasetController {\n\n  /**\n   * @type {any}\n   */\n  static defaults = {};\n\n  /**\n   * Element type used to generate a meta dataset (e.g. Chart.element.LineElement).\n   */\n  static datasetElementType = null;\n\n  /**\n   * Element type used to generate a meta data (e.g. Chart.element.PointElement).\n   */\n  static dataElementType = null;\n\n  /**\n\t * @param {Chart} chart\n\t * @param {number} datasetIndex\n\t */\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    /** @type {boolean | object} */\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.supportsDecimation = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.datasetElementType = new.target.datasetElementType;\n    this.dataElementType = new.target.dataElementType;\n\n    this.initialize();\n  }\n\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n\n    if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n      console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n    }\n  }\n\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n\n  /**\n\t * @param {string} scaleID\n\t * @return {Scale}\n\t */\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n\n  /**\n\t * @private\n\t */\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n\n  reset() {\n    this._update('reset');\n  }\n\n  /**\n\t * @private\n\t */\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n\n    // In order to correctly handle data addition/deletion animation (an thus simulate\n    // real-time charts), we need to monitor these data modifications and synchronize\n    // the internal meta data accordingly.\n\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        // This case happens when the user replaced the data array instance.\n        unlistenArrayEvents(_data, this);\n        // Discard old parsed data and stacks\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n\n  addElements() {\n    const meta = this._cachedMeta;\n\n    this._dataCheck();\n\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n\n    this._dataCheck();\n\n    // make sure cached _stacked status is current\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n\n    // detect change in stack option\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      // remove values from old stack\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n\n    // Re-sync meta data in case the user replaced the data array or if we missed\n    // any updates and so make sure that we handle number of datapoints changing.\n    this._resyncElements(resetNewElements);\n\n    // if stack changed, update stack values for the whole dataset\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n\n  /**\n\t * Merges user-supplied and default dataset-level options\n\t * @private\n\t */\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n\n  /**\n\t * @param {number} start\n\t * @param {number} count\n\t */\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [1,3,4]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {xScale0: 0, yScale0: 1}\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [[1,2],[3,4]]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id.\n\t * Example: {x: 0, y: 1}\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @param {object} meta - dataset meta\n\t * @param {array} data - data array. Example [{x:1, y:5}, {x:2, y:10}]\n\t * @param {number} start - start index\n\t * @param {number} count - number of items to parse\n\t * @returns {object} parsed item - item containing index and a parsed value\n\t * for each scale id. _custom is optional\n\t * Example: {xScale0: 0, yScale0: 1, _custom: {r: 10, foo: 'bar'}}\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n\n  /**\n\t * @protected\n\t */\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]._visualValues\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        // if the data is sorted, we don't need to check further from this end of array\n        break;\n      }\n    }\n    if (sorted) {\n      // in the sorted case, find first non-skipped value from other end of array\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return false;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {} // eslint-disable-line no-unused-vars\n\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n\n  /**\n\t * Returns a set of predefined style properties that should be used to represent the dataset\n\t * or the data if the index is specified\n\t * @param {number} index - data index\n\t * @param {boolean} [active] - true if hover\n\t * @return {object} style object\n\t */\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n\n  /**\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    // context is provided as a function, and is called only if needed,\n    // so we don't create a context for each element if not needed.\n    const context = () => this.getContext(index, active, mode);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n    if (values.$shared) {\n      // `$shared` indicates this set of options can be shared between multiple elements.\n      // Sharing is used to reduce number of properties to change during animation.\n      values.$shared = sharing;\n\n      // We cache options by `mode`, which can be 'active' for example. This enables us\n      // to have the 'active' element options and 'default' options to switch between\n      // when interacting.\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n\n    return values;\n  }\n\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n\n  /**\n\t * Utility for getting the options object shared between elements\n\t * @protected\n\t */\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n\n  /**\n\t * Utility for determining if `options` should be included in the updated properties\n\t * @protected\n\t */\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n\n  /**\n   * @todo v4, rename to getSharedOptions and remove excess functions\n   */\n  _getSharedOptions(start, mode) {\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const previouslySharedOptions = this._sharedOptions;\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    return {sharedOptions, includeOptions};\n  }\n\n  /**\n\t * Utility for updating an element with new properties, using animations when appropriate.\n\t * @protected\n\t */\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n\n  /**\n\t * Utility to animate the shared options, that are potentially affecting multiple elements.\n\t * @protected\n\t */\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      // When going from active to inactive, we need to update to the shared options.\n      // This way the once hovered element will end up with the same original shared options instance, after animation.\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n\n  /**\n\t * @private\n\t */\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n\n    // Apply changes detected through array listeners\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n\n    if (count) {\n      // TODO: It is not optimal to always parse the old data\n      // This is done because we are not detecting direct assignments:\n      // chart.data.datasets[0].data[5] = 10;\n      // chart.data.datasets[0].data[5].y = 10;\n      this.parse(0, count);\n    }\n\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n\n  updateElements(element, start, count, mode) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @private\n\t */\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n\n  /**\n\t * @private\n   */\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {\n  _arrayUnique, isArray, isNullOrUndef,\n  valueOrDefault, resolveObjectKey, sign, defined\n} from '../helpers/index.js';\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\n\n/**\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\n * @private\n */\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      // Ignore truncated pixels\n      return;\n    }\n    if (defined(prev)) {\n      // curr - prev === 0 is ignored\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\n/**\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\n * @private\n */\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    // When bar thickness is enforced, category and bar percentages are ignored.\n    // Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\n    // and deprecate barPercentage since this value is ignored when thickness is absolute.\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\n\n/**\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\n * percentage options are 1), based on the previous and following categories. This mode\n * generates bars with different widths when data are not evenly spaced.\n * @private\n */\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n\n  if (prev === null) {\n    // first data: its size is double based on the next point or,\n    // if it's also the last data, we use the scale size.\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    // last data: its size is also double based on the previous point.\n    next = curr + curr - prev;\n  }\n\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  // Store `barEnd` (furthest away from origin) as parsed value,\n  // to make stacking straight forward\n  item[vScale.axis] = barEnd;\n\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\n\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\n\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n\n  if (edge === true) {\n    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};\n    return;\n  }\n\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\n\nexport default class BarController extends DatasetController {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'bar',\n\n    categoryPercentage: 0.8,\n    barPercentage: 0.9,\n    grouped: true,\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'base', 'width', 'height']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n        offset: true,\n        grid: {\n          offset: true\n        }\n      },\n      _value_: {\n        type: 'linear',\n        beginAtZero: true,\n      }\n    }\n  };\n\n\n  /**\n\t * Overriding primitive data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding array data parsing since we support mixed primitive/array\n\t * data for float bars\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n\n  /**\n\t * Overriding object data parsing since we support mixed primitive/array\n\t * value-scale data for float bars\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      // float bar: only one end of the bar is considered by `super`\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n\n  /**\n\t * @return {number|boolean}\n\t * @protected\n\t */\n  getMaxOverflow() {\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n\n  initialize() {\n    this.enableOptionSharing = true;\n\n    super.initialize();\n\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n\n  /**\n\t * Returns the stacks based on groups and bar visibility.\n\t * @param {number} [last] - The dataset index\n\t * @param {number} [dataIndex] - The data index of the ruler\n\t * @returns {string[]} The list of stack IDs\n\t * @private\n\t */\n  _getStacks(last, dataIndex) {\n    const {iScale} = this._cachedMeta;\n    const metasets = iScale.getMatchingVisibleMetas(this._type)\n      .filter(meta => meta.controller.options.grouped);\n    const stacked = iScale.options.stacked;\n    const stacks = [];\n\n    const skipNull = (meta) => {\n      const parsed = meta.controller.getParsed(dataIndex);\n      const val = parsed && parsed[meta.vScale.axis];\n\n      if (isNullOrUndef(val) || isNaN(val)) {\n        return true;\n      }\n    };\n\n    for (const meta of metasets) {\n      if (dataIndex !== undefined && skipNull(meta)) {\n        continue;\n      }\n\n      // stacked   | meta.stack\n      //           | found | not found | undefined\n      // false     |   x   |     x     |     x\n      // true      |       |     x     |\n      // undefined |       |     x     |     x\n      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\n        stacks.push(meta.stack);\n      }\n      if (meta.index === last) {\n        break;\n      }\n    }\n\n    // No stacks? that means there is no visible data. Let's still initialize an `undefined`\n    // stack where possible invisible bars will be located.\n    // https://github.com/chartjs/Chart.js/issues/6368\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n\n    return stacks;\n  }\n\n  /**\n\t * Returns the effective number of stacks based on groups and bar visibility.\n\t * @private\n\t */\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n\n  /**\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\n\t * @param {number} [datasetIndex] - The dataset index\n\t * @param {string} [name] - The stack name to find\n   * @param {number} [dataIndex]\n\t * @returns {number} The stack index\n\t * @private\n\t */\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1; // indexOf returns -1 if element is not present\n\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      // bar thickness ratio used for non-grouped bars\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n\n  /**\n\t * Note: pixel values are not clamped to the scale area.\n\t * @private\n\t */\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked, index: datasetIndex}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      // bars crossing origin are not stacked\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      // When not visible, no height\n      head = base;\n    }\n\n    size = head - base;\n\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      const startPixel = vScale.getPixelForDecimal(0);\n      const endPixel = vScale.getPixelForDecimal(1);\n      const min = Math.min(startPixel, endPixel);\n      const max = Math.max(startPixel, endPixel);\n      base = Math.max(Math.min(base, max), min);\n      head = base + size;\n\n      if (_stacked && !floating) {\n        // visual data coordinates after applying minBarLength\n        parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n      }\n    }\n\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n\n  /**\n\t * @private\n\t */\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      // For non-grouped bar charts, exact pixel values are used\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {valueOrDefault} from '../helpers/helpers.core.js';\n\nexport default class BubbleController extends DatasetController {\n\n  static id = 'bubble';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'borderWidth', 'radius']\n      }\n    }\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n\n  /**\n\t * Parse array of primitive values\n\t * @protected\n\t */\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of arrays\n\t * @protected\n\t */\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * Parse array of objects\n\t * @protected\n\t */\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n\n  update(mode) {\n    const points = this._cachedMeta.data;\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n\n  /**\n\t * @param {number} index\n\t * @param {string} [mode]\n\t * @protected\n\t */\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n\n    // In case values were cached (and thus frozen), we need to clone the values\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n\n    // Custom radius resolution\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n\n    return values;\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isObject, resolveObjectKey, toPercentage, toDimension, valueOrDefault} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {toRadians, PI, TAU, HALF_PI, _angleBetween} from '../helpers/helpers.math.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  // If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\n\nexport default class DoughnutController extends DatasetController {\n\n  static id = 'doughnut';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'arc',\n    animation: {\n      // Boolean - Whether we animate the rotation of the Doughnut\n      animateRotate: true,\n      // Boolean - Whether we animate scaling the Doughnut from the centre\n      animateScale: false\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n      },\n    },\n    // The percentage of the chart that we cut out of the middle.\n    cutout: '50%',\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%',\n\n    // Spacing between arcs\n    spacing: 0,\n\n    indexAxis: 'r',\n  };\n\n  static descriptors = {\n    _scriptable: (name) => name !== 'spacing',\n    _indexable: (name) => name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash'),\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    // Need to override these to give a nice default\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n\n  linkScales() {}\n\n  /**\n\t * Override data parsing, since we are not using scales\n\t */\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n\n  /**\n\t * @private\n\t */\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n\n  /**\n\t * Get the maximal rotation & circumference extents\n\t * across all visible datasets.\n\t */\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n\n  /**\n\t * @param {string} mode\n\t */\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n\n    // Compute the maximal rotation & circumference limits.\n    // If we only consider our dataset, this can cause problems when two datasets\n    // are both less than a circle with different rotations (starting angles)\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n\n    meta.total = this.calculateTotal();\n\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @private\n   */\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    let startAngle = this._getRotation();\n    let i;\n\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n\n    return total;\n  }\n\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n\n    if (!arcs) {\n      // Find the outmost visible dataset\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n\n    if (!arcs) {\n      return 0;\n    }\n\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n\n  getMaxOffset(arcs) {\n    let max = 0;\n\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n\n  /**\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\n\t * @private\n\t */\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n\n    return ringWeightOffset;\n  }\n\n  /**\n\t * @private\n\t */\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n\n  /**\n\t * Returns the sum of all visible data set weights.\n\t * @private\n\t */\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class LineController extends DatasetController {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n\n    showLine: true,\n    spanGaps: false,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    scales: {\n      _index_: {\n        type: 'category',\n      },\n      _value_: {\n        type: 'linear',\n      },\n    }\n  };\n\n  initialize() {\n    this.enableOptionSharing = true;\n    this.supportsDecimation = true;\n    super.initialize();\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    // Update Line\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    const end = start + count;\n    const pointsCount = points.length;\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = 0; i < pointsCount; ++i) {\n      const point = points[i];\n      const properties = directUpdate ? point : {};\n\n      if (i < start || i >= end) {\n        properties.skip = true;\n        continue;\n      }\n\n      const parsed = this.getParsed(i);\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {toRadians, PI, formatNumber, _parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class PolarAreaController extends DatasetController {\n\n  static id = 'polarArea';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    dataElementType: 'arc',\n    animation: {\n      animateRotate: true,\n      animateScale: true\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n      },\n    },\n    indexAxis: 'r',\n    startAngle: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    plugins: {\n      legend: {\n        labels: {\n          generateLabels(chart) {\n            const data = chart.data;\n            if (data.labels.length && data.datasets.length) {\n              const {labels: {pointStyle, color}} = chart.legend.options;\n\n              return data.labels.map((label, i) => {\n                const meta = chart.getDatasetMeta(0);\n                const style = meta.controller.getStyle(i);\n\n                return {\n                  text: label,\n                  fillStyle: style.backgroundColor,\n                  strokeStyle: style.borderColor,\n                  fontColor: color,\n                  lineWidth: style.borderWidth,\n                  pointStyle: pointStyle,\n                  hidden: !chart.getDataVisibility(i),\n\n                  // Extra data used for toggling the correct item\n                  index: i\n                };\n              });\n            }\n            return [];\n          }\n        },\n\n        onClick(e, legendItem, legend) {\n          legend.chart.toggleDataVisibility(legendItem.index);\n          legend.chart.update();\n        }\n      }\n    },\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n        angleLines: {\n          display: false\n        },\n        beginAtZero: true,\n        grid: {\n          circular: true\n        },\n        pointLabels: {\n          display: false\n        },\n        startAngle: 0\n      }\n    }\n  };\n\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n\n  /**\n   * @protected\n   */\n  getMinMax() {\n    const meta = this._cachedMeta;\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n\n    meta.data.forEach((element, index) => {\n      const parsed = this.getParsed(index).r;\n\n      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n        if (parsed < range.min) {\n          range.min = parsed;\n        }\n\n        if (parsed > range.max) {\n          range.max = parsed;\n        }\n      }\n    });\n\n    return range;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n\n    const defaultAngle = 360 / this.countVisibleElements();\n\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n      angle = endAngle;\n\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n\n  countVisibleElements() {\n    const meta = this._cachedMeta;\n    let count = 0;\n\n    meta.data.forEach((element, index) => {\n      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n\n    return count;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\n","import DoughnutController from './controller.doughnut.js';\n\n// Pie charts are Doughnut chart with different defaults\nexport default class PieController extends DoughnutController {\n\n  static id = 'pie';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    // The percentage of the chart that we cut out of the middle.\n    cutout: 0,\n\n    // The rotation of the chart, where the first data arc begins.\n    rotation: 0,\n\n    // The total circumference of the chart.\n    circumference: 360,\n\n    // The outer radius of the chart\n    radius: '100%'\n  };\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {_parseObjectDataRadialScale} from '../helpers/index.js';\n\nexport default class RadarController extends DatasetController {\n\n  static id = 'radar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: 'line',\n    dataElementType: 'point',\n    indexAxis: 'r',\n    showLine: true,\n    elements: {\n      line: {\n        fill: 'start'\n      }\n    },\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n    aspectRatio: 1,\n\n    scales: {\n      r: {\n        type: 'radialLinear',\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n\n  parseObjectData(meta, data, start, count) {\n    return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n\n    // Update Line\n    line.points = points;\n    // In resize mode only point locations change, so no need to set the points or options.\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n\n      this.updateElement(line, undefined, properties, mode);\n    }\n\n    // Update Points\n    this.updateElements(points, 0, points.length, mode);\n  }\n\n  updateElements(points, start, count, mode) {\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\n","import DatasetController from '../core/core.datasetController.js';\nimport {isNullOrUndef} from '../helpers/index.js';\nimport {isNumber} from '../helpers/helpers.math.js';\nimport {_getStartAndCountOfVisiblePoints, _scaleRangesChanged} from '../helpers/helpers.extras.js';\n\nexport default class ScatterController extends DatasetController {\n\n  static id = 'scatter';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    datasetElementType: false,\n    dataElementType: 'point',\n    showLine: false,\n    fill: false\n  };\n\n  /**\n   * @type {any}\n   */\n  static overrides = {\n\n    interaction: {\n      mode: 'point'\n    },\n\n    scales: {\n      x: {\n        type: 'linear'\n      },\n      y: {\n        type: 'linear'\n      }\n    }\n  };\n\n  /**\n\t * @protected\n\t */\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const labels = this.chart.data.labels || [];\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n\n    return {\n      label: labels[index] || '',\n      value: '(' + x + ', ' + y + ')'\n    };\n  }\n\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {data: points = []} = meta;\n    // @ts-ignore\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n\n    this._drawStart = start;\n    this._drawCount = count;\n\n    if (_scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n\n    if (this.options.showLine) {\n\n      const {dataset: line, _dataset} = meta;\n\n      // Update Line\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n\n      const options = this.resolveDatasetElementOptions(mode);\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options\n      }, mode);\n    }\n\n    // Update Points\n    this.updateElements(points, start, count, mode);\n  }\n\n  addElements() {\n    const {showLine} = this.options;\n\n    if (!this.datasetElementType && showLine) {\n      this.datasetElementType = this.chart.registry.getElement('line');\n    }\n\n    super.addElements();\n  }\n\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n\n      prevParsed = parsed;\n    }\n\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n\n  /**\n\t * @protected\n\t */\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const data = meta.data || [];\n\n    if (!this.options.showLine) {\n      let max = 0;\n      for (let i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n      return max > 0 && max;\n    }\n\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n\n    if (!data.length) {\n      return border;\n    }\n\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n}\n","/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartOptions} from '../types/index.js';\n\nexport type TimeUnit = 'millisecond' | 'second' | 'minute' | 'hour' | 'day' | 'week' | 'month' | 'quarter' | 'year';\n\nexport interface DateAdapter<T extends AnyObject = AnyObject> {\n  readonly options: T;\n  /**\n   * Will called with chart options after adapter creation.\n   */\n  init(this: DateAdapter<T>, chartOptions: ChartOptions): void;\n  /**\n   * Returns a map of time formats for the supported formatting units defined\n   * in Unit as well as 'datetime' representing a detailed date/time string.\n   */\n  formats(this: DateAdapter<T>): Record<string, string>;\n  /**\n   * Parses the given `value` and return the associated timestamp.\n   * @param value - the value to parse (usually comes from the data)\n   * @param [format] - the expected data format\n   */\n  parse(this: DateAdapter<T>, value: unknown, format?: TimeUnit): number | null;\n  /**\n   * Returns the formatted date in the specified `format` for a given `timestamp`.\n   * @param timestamp - the timestamp to format\n   * @param format - the date/time token\n   */\n  format(this: DateAdapter<T>, timestamp: number, format: TimeUnit): string;\n  /**\n   * Adds the specified `amount` of `unit` to the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param amount - the amount to add\n   * @param unit - the unit as string\n   */\n  add(this: DateAdapter<T>, timestamp: number, amount: number, unit: TimeUnit): number;\n  /**\n   * Returns the number of `unit` between the given timestamps.\n   * @param a - the input timestamp (reference)\n   * @param b - the timestamp to subtract\n   * @param unit - the unit as string\n   */\n  diff(this: DateAdapter<T>, a: number, b: number, unit: TimeUnit): number;\n  /**\n   * Returns start of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   * @param [weekday] - the ISO day of the week with 1 being Monday\n   * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\n   */\n  startOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek', weekday?: number): number;\n  /**\n   * Returns end of `unit` for the given `timestamp`.\n   * @param timestamp - the input timestamp\n   * @param unit - the unit as string\n   */\n  endOf(this: DateAdapter<T>, timestamp: number, unit: TimeUnit | 'isoWeek'): number;\n}\n\nfunction abstract<T = void>(): T {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */\nclass DateAdapterBase implements DateAdapter {\n\n  /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */\n  static override<T extends AnyObject = AnyObject>(\n    members: Partial<Omit<DateAdapter<T>, 'options'>>\n  ) {\n    Object.assign(DateAdapterBase.prototype, members);\n  }\n\n  readonly options: AnyObject;\n\n  constructor(options: AnyObject) {\n    this.options = options || {};\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  init() {}\n\n  formats(): Record<string, string> {\n    return abstract();\n  }\n\n  parse(): number | null {\n    return abstract();\n  }\n\n  format(): string {\n    return abstract();\n  }\n\n  add(): number {\n    return abstract();\n  }\n\n  diff(): number {\n    return abstract();\n  }\n\n  startOf(): number {\n    return abstract();\n  }\n\n  endOf(): number {\n    return abstract();\n  }\n}\n\nexport default {\n  _date: DateAdapterBase\n};\n","import {_lookupByKey, _rlookupByKey} from '../helpers/helpers.collection.js';\nimport {getRelativePosition} from '../helpers/helpers.dom.js';\nimport {_angleBetween, getAngleFromPoint} from '../helpers/helpers.math.js';\nimport {_isPointInArea} from '../helpers/index.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef {{axis?: string, intersect?: boolean, includeInvisible?: boolean}} InteractionOptions\n * @typedef {{datasetIndex: number, index: number, element: import('./core.element.js').default}} InteractionItem\n * @typedef { import('../types/index.js').Point } Point\n */\n\n/**\n * Helper function to do binary search when possible\n * @param {object} metaset - the dataset meta\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {number} value - the value to find\n * @param {boolean} [intersect] - should the element intersect\n * @returns {{lo:number, hi:number}} indices to search data array between\n */\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      // _sharedOptions indicates that each element has equal options -> equal proportions\n      // So we can do a ranged binary search based on the range of first element and\n      // be confident to get the full range of indices that can intersect with the value.\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  // Default to all elements, when binary search can not be used.\n  return {lo: 0, hi: data.length - 1};\n}\n\n/**\n * Helper function to select candidate elements for interaction\n * @param {Chart} chart - the chart\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {function} handler - the callback to execute for each visible item\n * @param {boolean} [intersect] - consider intersecting items\n */\nfunction evaluateInteractionItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\n/**\n * Get a distance metric function for two points based on the\n * axis mode setting\n * @param {string} axis - the axis mode. x|y|xy|r\n */\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\n/**\n * Helper function to get the items that intersect the event position\n * @param {Chart} chart - the chart\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis mode. x|y|xy|r\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n  const items = [];\n\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return items;\n  }\n\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n      return;\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a radial chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position for a cartesian chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      // Can have multiple items at the same distance in which case we sort by size\n      items.push({element, datasetIndex, index});\n    }\n  }\n\n  evaluateInteractionItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\n/**\n * Helper function to get the items nearest to the event position considering all visible items in the chart\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axes along which to measure distance\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @param {boolean} [includeInvisible] - include invisible points that are outside of the chart area\n * @return {InteractionItem[]} the nearest items\n */\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n  if (!includeInvisible && !chart.isPointInArea(position)) {\n    return [];\n  }\n\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n\n/**\n * Helper function to get the items matching along the given X or Y axis\n * @param {Chart} chart - the chart to look at elements from\n * @param {Point} position - the point to be nearest to, in relative coordinates\n * @param {string} axis - the axis to match\n * @param {boolean} [intersect] - if true, only consider items that intersect the position\n * @param {boolean} [useFinalPosition] - use the element's animation target instead of current position\n * @return {InteractionItem[]} the nearest items\n */\nfunction getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n  const items = [];\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n\n  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n    }\n  });\n\n  // If we want to trigger on an intersect and we don't have any items\n  // that intersect the position, return nothing\n  if (intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\n\n/**\n * Contains interaction related functions\n * @namespace Chart.Interaction\n */\nexport default {\n  // Part of the public API to facilitate developers creating their own modes\n  evaluateInteractionItems,\n\n  // Helper function for different modes\n  modes: {\n    /**\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\n\t\t * @function Chart.Interaction.modes.index\n\t\t * @since v2.4.0\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      // Default axis for index mode is 'x' to match old behaviour\n      const axis = options.axis || 'x';\n      const includeInvisible = options.includeInvisible || false;\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)\n        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n      const elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n\n        // don't count items that are skipped (null data)\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n\n      return elements;\n    },\n\n    /**\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\n\t\t * @function Chart.Interaction.modes.dataset\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :\n        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n\n      return items;\n    },\n\n    /**\n\t\t * Point mode returns all elements that hit test based on the event position\n\t\t * of the event\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * nearest mode returns the element closest to the point\n\t\t * @function Chart.Interaction.modes.intersect\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      const includeInvisible = options.includeInvisible || false;\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n    },\n\n    /**\n\t\t * x mode returns the elements that hit-test at the current x coordinate\n\t\t * @function Chart.Interaction.modes.x\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    x(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n    },\n\n    /**\n\t\t * y mode returns the elements that hit-test at the current y coordinate\n\t\t * @function Chart.Interaction.modes.y\n\t\t * @param {Chart} chart - the chart we are returning items from\n\t\t * @param {Event} e - the event we are find things at\n\t\t * @param {InteractionOptions} options - options to use\n\t\t * @param {boolean} [useFinalPosition] - use final element position (animation target)\n\t\t * @return {InteractionItem[]} - items that are found\n\t\t */\n    y(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n    }\n  }\n};\n","import {defined, each, isObject} from '../helpers/helpers.core.js';\nimport {toPadding} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n */\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\n\n/**\n * store dimensions used instead of available chartArea in fitBoxes\n **/\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n\n  // dynamically placed boxes size is not considered\n  if (!isObject(pos)) {\n    if (layout.size) {\n      // this layout was already counted for, lets first reduce old size\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n\n  // return booleans on the changes per direction\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\n\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n\n    // Dimensions changed and there were non full width boxes before this\n    // -> we have to refit those\n    refit |= same && refitBoxes.length;\n\n    // Chart area changed in the opposite direction\n    changed = changed || other;\n\n    if (!box.fullSize) { // fullSize boxes don't need to be re-fitted in any case\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\n/**\n * @interface LayoutItem\n * @typedef {object} LayoutItem\n * @prop {string} position - The position of the item in the chart layout. Possible values are\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\n * @prop {boolean} fullSize - if true, and the item is horizontal, then push vertical boxes down\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\n * @prop {function} draw - Draws the element\n * @prop {function} [getPadding] -  Returns an object with padding on the edges\n * @prop {number} width - Width of item. Must be valid after update()\n * @prop {number} height - Height of item. Must be valid after update()\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\n */\n\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\n// It is this service's responsibility of carrying out that layout.\nexport default {\n\n  /**\n\t * Register a box to a chart.\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\n\t * @param {Chart} chart - the chart to use\n\t * @param {LayoutItem} item - the item to add to be laid out\n\t */\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    // initialize item with default values\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    // @ts-ignore\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n\n  /**\n\t * Remove a layoutItem from a chart\n\t * @param {Chart} chart - the chart to remove the box from\n\t * @param {LayoutItem} layoutItem - the item to remove from the layout\n\t */\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n\n  /**\n\t * Sets (or updates) options on the given `item`.\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\n\t * @param {LayoutItem} item - the item to configure with the given options\n\t * @param {object} options - the new item options.\n\t */\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n\n  /**\n\t * Fits boxes of the given chart into the given size by having each box measure itself\n\t * then running a fitting algorithm\n\t * @param {Chart} chart - the chart\n\t * @param {number} width - the width to fit into\n\t * @param {number} height - the height to fit into\n   * @param {number} minPadding - minimum padding required for each side of chart area\n\t */\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n\n    // Before any changes are made, notify boxes that an update is about to being\n    // This is used to clear any cached data (e.g. scale limits)\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n\n    // Essentially we now have any number of boxes on each of the 4 sides.\n    // Our canvas looks like the following.\n    // The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\n    // B1 is the bottom axis\n    // There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\n    // These locations are single-box locations only, when trying to register a chartArea location that is already taken,\n    // an error will be thrown.\n    //\n    // |----------------------------------------------------|\n    // |                  T1 (Full Width)                   |\n    // |----------------------------------------------------|\n    // |    |    |                 T2                  |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    | C1 |                           | C2 |    |\n    // |    |    |----|                           |----|    |\n    // |    |    |                                     |    |\n    // | L1 | L2 |           ChartArea (C0)            | R1 |\n    // |    |    |                                     |    |\n    // |    |    |----|                           |----|    |\n    // |    |    | C3 |                           | C4 |    |\n    // |    |----|-------------------------------------|----|\n    // |    |    |                 B1                  |    |\n    // |----------------------------------------------------|\n    // |                  B2 (Full Width)                   |\n    // |----------------------------------------------------|\n    //\n\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n\n    // First fit the fullSize boxes, to reduce probability of re-fitting.\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n\n    // Then fit vertical boxes\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    // Then fit horizontal boxes\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      // if the area changed, re-fit vertical boxes\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n\n    // Finally place the boxes to correct coordinates\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n\n    // Move to opposite side of chart\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n\n    // Finally update boxes in chartArea (radial scale for example)\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n","\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\n/**\n * Abstract class that allows abstracting platform dependencies away from the chart.\n */\nexport default class BasePlatform {\n  /**\n\t * Called at chart construction time, returns a context2d instance implementing\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\n\t * @param {HTMLCanvasElement} canvas - The canvas from which to acquire context (platform specific)\n\t * @param {number} [aspectRatio] - The chart options\n\t */\n  acquireContext(canvas, aspectRatio) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Called at chart destruction time, releases any resources associated to the context\n\t * previously returned by the acquireContext() method.\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\n\t * @returns {boolean} true if the method succeeded, else false\n\t */\n  releaseContext(context) { // eslint-disable-line no-unused-vars\n    return false;\n  }\n\n  /**\n\t * Registers the specified listener on the given chart.\n\t * @param {Chart} chart - Chart from which to listen for event\n\t * @param {string} type - The ({@link ChartEvent}) type to listen for\n\t * @param {function} listener - Receives a notification (an object that implements\n\t * the {@link ChartEvent} interface) when an event of the specified type occurs.\n\t */\n  addEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Removes the specified listener previously registered with addEventListener.\n\t * @param {Chart} chart - Chart from which to remove the listener\n\t * @param {string} type - The ({@link ChartEvent}) type to remove\n\t * @param {function} listener - The listener function to remove from the event target.\n\t */\n  removeEventListener(chart, type, listener) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * @returns {number} the current devicePixelRatio of the device this platform is connected to.\n\t */\n  getDevicePixelRatio() {\n    return 1;\n  }\n\n  /**\n\t * Returns the maximum size in pixels of given canvas element.\n\t * @param {HTMLCanvasElement} element\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @returns {boolean} true if the canvas is attached to the platform, false if not.\n\t */\n  isAttached(canvas) { // eslint-disable-line no-unused-vars\n    return true;\n  }\n\n  /**\n   * Updates config with platform specific requirements\n   * @param {import('../core/core.config.js').default} config\n   */\n  updateConfig(config) { // eslint-disable-line no-unused-vars\n    // no-op\n  }\n}\n","/**\n * Platform fallback implementation (minimal).\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\n */\n\nimport BasePlatform from './platform.base.js';\n\n/**\n * Platform class for charts without access to the DOM or to many element properties\n * This platform is used by default for any chart passed an OffscreenCanvas.\n * @extends BasePlatform\n */\nexport default class BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n","/**\n * Chart.Platform implementation for targeting a web browser\n */\n\nimport BasePlatform from './platform.base.js';\nimport {_getParentNode, getRelativePosition, supportsEventListenerOptions, readUsedSize, getMaximumSize} from '../helpers/helpers.dom.js';\nimport {throttled} from '../helpers/helpers.extras.js';\nimport {isNullOrUndef} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('../core/core.controller.js').default } Chart\n */\n\nconst EXPANDO_KEY = '$chartjs';\n\n/**\n * DOM event types -> Chart.js event types.\n * Note: only events with different types are mapped.\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\n */\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nconst isNullOrEmpty = value => value === null || value === '';\n/**\n * Initializes the canvas style and render size without modifying the canvas display size,\n * since responsiveness is handled by the controller.resize() method. The config is used\n * to determine the aspect ratio to apply in case no explicit height has been specified.\n * @param {HTMLCanvasElement} canvas\n * @param {number} [aspectRatio]\n */\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n\n  // NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\n  // returns null or '' if no explicit value has been set to the canvas attribute.\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n\n  // Chart.js modifies some canvas values that we want to restore on destroy\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n\n  // Force canvas to display as block to avoid extra space caused by inline\n  // elements, which would interfere with the responsive resize process.\n  // https://github.com/chartjs/Chart.js/issues/2538\n  style.display = style.display || 'block';\n  // Include possible borders in the size\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      // If no explicit render height and style height, let's apply the aspect ratio,\n      // which one can be specified by the user but also by charts as default option\n      // (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\n// https://github.com/chartjs/Chart.js/issues/4287\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\n\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\n\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\n\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\n\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\n\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      // If the container size shrank during chart resize, let's assume\n      // scrollbar appeared. So we resize again with the scrollbar visible -\n      // effectively making chart smaller and the scrollbar hidden again.\n      // Because we are inside `throttled`, and currently `ticking`, scroll\n      // events are ignored during this whole 2 resize process.\n      // If we assumed wrong and something else happened, we are resizing\n      // twice in a frame (potential performance issue)\n      listener();\n    }\n  }, window);\n\n  // @ts-ignore until https://github.com/microsoft/TypeScript/issues/37861 implemented\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    // When its container's display is set to 'none' the callback will be called with a\n    // size of (0, 0), which will cause the chart to lose its original height, so skip\n    // resizing in such case.\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    // This case can occur if the chart is destroyed while waiting\n    // for the throttled function to occur. We prevent crashes by checking\n    // for a destroyed chart\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart);\n\n  addListener(canvas, type, proxy);\n\n  return proxy;\n}\n\n/**\n * Platform class for charts that can access the DOM and global window/document properties\n * @extends BasePlatform\n */\nexport default class DomPlatform extends BasePlatform {\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [aspectRatio]\n\t * @return {CanvasRenderingContext2D|null}\n\t */\n  acquireContext(canvas, aspectRatio) {\n    // To prevent canvas fingerprinting, some add-ons undefine the getContext\n    // method, for example: https://github.com/kkapsner/CanvasBlocker\n    // https://github.com/chartjs/Chart.js/issues/2807\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n\n    // `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the canvas is\n    // inside an iframe or when running in a protected environment. We could guess the\n    // types from their toString() value but let's keep things flexible and assume it's\n    // a sufficient condition if the canvas has a context2D which has canvas as `canvas`.\n    // https://github.com/chartjs/Chart.js/issues/3887\n    // https://github.com/chartjs/Chart.js/issues/4102\n    // https://github.com/chartjs/Chart.js/issues/4152\n    if (context && context.canvas === canvas) {\n      // Load platform resources on first chart creation, to make it possible to\n      // import the library before setting platform options.\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n\n    return null;\n  }\n\n  /**\n\t * @param {CanvasRenderingContext2D} context\n\t */\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n\n    // The canvas render size might have been changed (and thus the state stack discarded),\n    // we can't use save() and restore() to restore the initial state. So make sure that at\n    // least the canvas context is reset to the default state by setting the canvas width.\n    // https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\n    // eslint-disable-next-line no-self-assign\n    canvas.width = canvas.width;\n\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n\n  /**\n\t *\n\t * @param {Chart} chart\n\t * @param {string} type\n\t * @param {function} listener\n\t */\n  addEventListener(chart, type, listener) {\n    // Can have only one listener per type, so make sure previous is removed\n    this.removeEventListener(chart, type);\n\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n\n\n  /**\n\t * @param {Chart} chart\n\t * @param {string} type\n\t */\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n\n    if (!proxy) {\n      return;\n    }\n\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t * @param {number} [width] - content width of parent element\n\t * @param {number} [height] - content height of parent element\n\t * @param {number} [aspectRatio] - aspect ratio to maintain\n\t */\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n\n  /**\n\t * @param {HTMLCanvasElement} canvas\n\t */\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n","import {_isDomSupported} from '../helpers/index.js';\nimport BasePlatform from './platform.base.js';\nimport BasicPlatform from './platform.basic.js';\nimport DomPlatform from './platform.dom.js';\n\nexport function _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nexport {BasePlatform, BasicPlatform, DomPlatform};\n","import type {AnyObject} from '../types/basic.js';\nimport type {Point} from '../types/geometric.js';\nimport type {Animation} from '../types/animation.js';\nimport {isNumber} from '../helpers/helpers.math.js';\n\nexport default class Element<T = AnyObject, O = AnyObject> {\n\n  static defaults = {};\n  static defaultRoutes = undefined;\n\n  x: number;\n  y: number;\n  active = false;\n  options: O;\n  $animations: Record<keyof T, Animation>;\n\n  tooltipPosition(useFinalPosition: boolean): Point {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y} as Point;\n  }\n\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n\n  /**\n   * Gets the current or final value of each prop. Can return extra properties (whole object).\n   * @param props - properties to get\n   * @param [final] - get the final value (animation target)\n   */\n  getProps<P extends (keyof T)[]>(props: P, final?: boolean): Pick<T, P[number]>;\n  getProps<P extends string>(props: P[], final?: boolean): Partial<Record<P, unknown>>;\n  getProps(props: string[], final?: boolean): Partial<Record<string, unknown>> {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      // let's not create an object, if not needed\n      return this as Record<string, unknown>;\n    }\n    const ret: Record<string, unknown> = {};\n    props.forEach((prop) => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop as string];\n    });\n    return ret;\n  }\n}\n","import {isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\nimport {_factorize} from '../helpers/helpers.math.js';\n\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a subset of ticks to be plotted to avoid overlapping labels.\n * @param {import('./core.scale.js').default} scale\n * @param {Tick[]} ticks\n * @return {Tick[]}\n * @private\n */\nexport function autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const determinedMaxTicks = determineMaxTicks(scale);\n  const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n\n  // If there are too many major ticks to display them all\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\n/**\n * @param {number[]} majorIndices\n * @param {Tick[]} ticks\n * @param {number} ticksLimit\n */\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n\n  // If the major ticks are evenly spaced apart, place the minor ticks\n  // so that they divide the major ticks into even chunks\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\n\n/**\n * @param {Tick[]} ticks\n */\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number[]} majorIndices\n * @param {number} spacing\n */\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\n/**\n * @param {Tick[]} ticks\n * @param {Tick[]} newTicks\n * @param {number} spacing\n * @param {number} [majorStart]\n * @param {number} [majorEnd]\n */\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\n\n/**\n * @param {number[]} arr\n */\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n","import Element from './core.element.js';\nimport {_alignPixel, _measureText, renderText, clipArea, unclipArea} from '../helpers/helpers.canvas.js';\nimport {callback as call, each, finiteOrDefault, isArray, isFinite, isNullOrUndef, isObject, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toDegrees, toRadians, _int16Range, _limitValue, HALF_PI} from '../helpers/helpers.math.js';\nimport {_alignStartEnd, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {createContext, toFont, toPadding, _addGrace} from '../helpers/helpers.options.js';\nimport {autoSkip} from './core.scale.autoskip.js';\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit) => Math.min(maxTicksLimit || ticksLength, ticksLength);\n\n/**\n * @typedef { import('../types/index.js').Chart } Chart\n * @typedef {{value:number | string, label?:string, major?:boolean, $context?:any}} Tick\n */\n\n/**\n * Returns a new array containing numItems from arr\n * @param {any[]} arr\n * @param {number} numItems\n */\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\n\n/**\n * @param {Scale} scale\n * @param {number} index\n * @param {boolean} offsetGridLines\n */\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n\n    // Return undefined if the pixel is out of the range\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\n\n/**\n * @param {object} caches\n * @param {number} length\n */\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\n/**\n * @param {object} options\n */\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\n/**\n * @param {object} options\n */\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n\n  return (lines * font.lineHeight) + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  /** @type {CanvasTextAlign} */\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\n\nexport default class Scale extends Element {\n\n  // eslint-disable-next-line max-statements\n  constructor(cfg) {\n    super();\n\n    /** @type {string} */\n    this.id = cfg.id;\n    /** @type {string} */\n    this.type = cfg.type;\n    /** @type {any} */\n    this.options = undefined;\n    /** @type {CanvasRenderingContext2D} */\n    this.ctx = cfg.ctx;\n    /** @type {Chart} */\n    this.chart = cfg.chart;\n\n    // implements box\n    /** @type {number} */\n    this.top = undefined;\n    /** @type {number} */\n    this.bottom = undefined;\n    /** @type {number} */\n    this.left = undefined;\n    /** @type {number} */\n    this.right = undefined;\n    /** @type {number} */\n    this.width = undefined;\n    /** @type {number} */\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    /** @type {number} */\n    this.maxWidth = undefined;\n    /** @type {number} */\n    this.maxHeight = undefined;\n    /** @type {number} */\n    this.paddingTop = undefined;\n    /** @type {number} */\n    this.paddingBottom = undefined;\n    /** @type {number} */\n    this.paddingLeft = undefined;\n    /** @type {number} */\n    this.paddingRight = undefined;\n\n    // scale-specific properties\n    /** @type {string=} */\n    this.axis = undefined;\n    /** @type {number=} */\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    /** @type {Tick[]} */\n    this.ticks = [];\n    /** @type {object[]|null} */\n    this._gridLineItems = null;\n    /** @type {object[]|null} */\n    this._labelItems = null;\n    /** @type {object|null} */\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    /** @type {number} */\n    this._startPixel = undefined;\n    /** @type {number} */\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @param {any} options\n\t * @since 3.0\n\t */\n  init(options) {\n    this.options = options.setContext(this.getContext());\n\n    this.axis = options.axis;\n\n    // parse min/max value, so we can properly determine min/max for other scales\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n\n  /**\n\t * Parse a supported input value to internal representation.\n\t * @param {*} raw\n\t * @param {number} [index]\n\t * @since 3.0\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    return raw;\n  }\n\n  /**\n\t * @return {{min: number, max: number, minDefined: boolean, maxDefined: boolean}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isFinite(_userMin),\n      maxDefined: isFinite(_userMax)\n    };\n  }\n\n  /**\n\t * @param {boolean} canStack\n\t * @return {{min: number, max: number}}\n\t * @protected\n\t * @since 3.0\n\t */\n  getMinMax(canStack) {\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n\n    // Make sure min <= max when only min or max is defined by user and the data is outside that range\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n\n  /**\n\t * Get the padding needed for the scale\n\t * @return {{top: number, left: number, bottom: number, right: number}} the necessary padding\n\t * @private\n\t */\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n\n  /**\n\t * Returns the scale tick objects\n\t * @return {Tick[]}\n\t * @since 2.7\n\t */\n  getTicks() {\n    return this.ticks;\n  }\n\n  /**\n\t * @return {string[]}\n\t */\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n\n  /**\n   * @return {import('../types.js').LabelItem[]}\n   */\n  getLabelItems(chartArea = this.chart.chartArea) {\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    return items;\n  }\n\n  // When a new layout is created, reset the data limits cache\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n\n  // These methods are ordered by lifecycle. Utilities then follow.\n  // Any function defined here is inherited by all scale types.\n  // Any function can be extended by the scale type\n\n  beforeUpdate() {\n    call(this.options.beforeUpdate, [this]);\n  }\n\n  /**\n\t * @param {number} maxWidth - the max width in pixels\n\t * @param {number} maxHeight - the max height in pixels\n\t * @param {{top: number, left: number, bottom: number, right: number}} margins - the space between the edge of the other scales and edge of the chart\n\t *   This space comes from two sources:\n\t *     - padding - space that's required to show the labels at the edges of the scale\n\t *     - thickness of scales or legends in another orientation\n\t */\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n\n    // Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\n    this.beforeUpdate();\n\n    // Absorb the master measurements\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n\n    // Dimensions\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n\n    // Data min/max\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n\n    this.beforeBuildTicks();\n\n    this.ticks = this.buildTicks() || [];\n\n    // Allow modification of ticks in callback.\n    this.afterBuildTicks();\n\n    // Compute tick rotation and fit using a sampled subset of labels\n    // We generally don't need to compute the size of every single label for determining scale size\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n    // configure is called twice, once here, once from core.controller.updateLayout.\n    // Here we haven't been positioned yet, but dimensions are correct.\n    // Variables set in configure are needed for calculateLabelRotation, and\n    // it's ok that coordinates are not correct there, only dimensions matter.\n    this.configure();\n\n    // Tick Rotation\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation(); // Preconditions: number of ticks and sizes of largest labels must be calculated beforehand\n    this.afterCalculateLabelRotation();\n\n    // Auto-skip\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n      this.afterAutoSkip();\n    }\n\n    if (samplingEnabled) {\n      // Generate labels using all non-skipped ticks\n      this._convertTicksToLabels(this.ticks);\n    }\n\n    this.beforeFit();\n    this.fit(); // Preconditions: label rotation and label sizes must be calculated beforehand\n    this.afterFit();\n\n    // IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\n\n    this.afterUpdate();\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      // by default vertical scales are from bottom to top, so pixels are reversed\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n\n  afterUpdate() {\n    call(this.options.afterUpdate, [this]);\n  }\n\n  //\n\n  beforeSetDimensions() {\n    call(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    if (this.isHorizontal()) {\n      // Reset position before calculating rotation\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n\n      // Reset position before calculating rotation\n      this.top = 0;\n      this.bottom = this.height;\n    }\n\n    // Reset padding\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    call(this.options.afterSetDimensions, [this]);\n  }\n\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    call(this.options[name], [this]);\n  }\n\n  // Data limits\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n\n  //\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  /**\n\t * @return {object[]} the ticks\n\t */\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n\n  beforeTickToLabelConversion() {\n    call(this.options.beforeTickToLabelConversion, [this]);\n  }\n  /**\n\t * Convert ticks to label strings\n\t * @param {Tick[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = call(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    call(this.options.afterTickToLabelConversion, [this]);\n  }\n\n  //\n\n  beforeCalculateLabelRotation() {\n    call(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n\n    // Estimate the width of each grid based on the canvas width, the maximum\n    // label width and the number of tick intervals\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n    // Allow 3 pixels x2 padding either side for label readability\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    call(this.options.afterCalculateLabelRotation, [this]);\n  }\n  afterAutoSkip() {}\n\n  //\n\n  beforeFit() {\n    call(this.options.beforeFit, [this]);\n  }\n  fit() {\n    // Reset\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight; // fill all the height\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n\n      // Don't bother fitting the ticks if we are not showing the labels\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n\n        if (isHorizontal) {\n        // A horizontal axis is more constrained by the height.\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n        // A vertical axis is more constrained by the width. Labels are the\n        // dominant factor here, so get that length first and account for padding\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n\n    this._handleMargins();\n\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n\n      // Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\n      // which means that the right padding is dominated by the font height\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else if (align !== 'inner') {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n\n      // Adjust padding taking into account changes in offsets\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n\n  /**\n\t * Handle margins and padding interactions\n\t * @private\n\t */\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n\n  afterFit() {\n    call(this.options.afterFit, [this]);\n  }\n\n  // Shared Methods\n  /**\n\t * @return {boolean}\n\t */\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  /**\n\t * @return {boolean}\n\t */\n  isFullSize() {\n    return this.options.fullSize;\n  }\n\n  /**\n\t * @param {Tick[]} ticks\n\t * @private\n\t */\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n\n    this.generateTickLabels(ticks);\n\n    // Ticks should be skipped when callback returns null or undef, so lets remove those.\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n\n    this.afterTickToLabelConversion();\n  }\n\n  /**\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n    }\n\n    return labelSizes;\n  }\n\n  /**\n\t * Returns {width, height, offset} objects for the first, last, widest, highest tick\n\t * labels where offset indicates the anchor point offset from the top in pixels.\n\t * @return {{ first: object, last: object, widest: object, highest: object, widths: Array, heights: array }}\n\t * @private\n\t */\n  _computeLabelSizes(ticks, length, maxTicksLimit) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n    for (i = 0; i < length; i += increment) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      // Undefined labels and arrays should not be measured\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        // if it is an array let's measure each element\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = /** @type {string} */ (label[j]);\n          // Undefined labels and arrays should not be measured\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n\n  /**\n\t * Used to get the label to display in the tooltip for the given value\n\t * @param {*} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value;\n  }\n\n  /**\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {*} value\n\t * @param {number} [index]\n\t * @return {number}\n\t */\n  getPixelForValue(value, index) { // eslint-disable-line no-unused-vars\n    return NaN;\n  }\n\n  /**\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} pixel\n\t * @return {*}\n\t */\n  getValueForPixel(pixel) {} // eslint-disable-line no-unused-vars\n\n  /**\n\t * Returns the location of the tick at the given index\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} index\n\t * @return {number}\n\t */\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  /**\n\t * Utility for getting the pixel location of a percentage of scale\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @param {number} decimal\n\t * @return {number}\n\t */\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n\n  /**\n\t * Returns the pixel for the minimum chart value\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\n\t * @return {number}\n\t */\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n\n  /**\n\t * @return {number}\n\t */\n  getBaseValue() {\n    const {min, max} = this;\n\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext(index) {\n    const ticks = this.ticks || [];\n\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n\n  /**\n\t * @return {number}\n\t * @private\n\t */\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n\n    // Calculate space needed by label in axis direction.\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n\n    // Calculate space needed for 1 tick in axis direction.\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n\n  /**\n\t * @return {boolean}\n\t * @private\n\t */\n  _isVisible() {\n    const display = this.options.display;\n\n    if (display !== 'auto') {\n      return !!display;\n    }\n\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position, border} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = borderOpts.display ? borderOpts.width : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const context = this.getContext(i);\n      const optsAtIndex = grid.setContext(context);\n      const optsAtIndexBorder = border.setContext(context);\n\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = optsAtIndexBorder.dash || [];\n      const borderDashOffset = optsAtIndexBorder.dashOffset;\n\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n\n      lineValue = getPixelForGridLine(this, i, offset);\n\n      // Skip if the pixel is out of the range\n      if (lineValue === undefined) {\n        continue;\n      }\n\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n\n    return items;\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      let tickTextAlign = textAlign;\n\n      if (isHorizontal) {\n        x = pixel;\n\n        if (textAlign === 'inner') {\n          if (i === ilen - 1) {\n            tickTextAlign = !this.options.reverse ? 'right' : 'left';\n          } else if (i === 0) {\n            tickTextAlign = !this.options.reverse ? 'left' : 'right';\n          } else {\n            tickTextAlign = 'center';\n          }\n        }\n\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          // eslint-disable-next-line no-lonely-if\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n        if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n          x += (lineHeight / 2) * Math.sin(rotation);\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n\n      let backdrop;\n\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n\n        let top = textOffset - labelPadding.top;\n        let left = 0 - labelPadding.left;\n\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        default:\n          break;\n        }\n\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        default:\n          break;\n        }\n\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n\n          color: optsAtIndex.backdropColor,\n        };\n      }\n\n      items.push({\n        label,\n        font,\n        textOffset,\n        options: {\n          rotation,\n          color,\n          strokeColor,\n          strokeWidth,\n          textAlign: tickTextAlign,\n          textBaseline,\n          translation: [x, y],\n          backdrop,\n        }\n      });\n    }\n\n    return items;\n  }\n\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n\n    let align = 'center';\n\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    } else if (ticks.align === 'inner') {\n      align = 'inner';\n    }\n\n    return align;\n  }\n\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n\n    let textAlign;\n    let x;\n\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n\n    return {textAlign, x};\n  }\n\n  /**\n\t * @private\n\t */\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n\n    const chart = this.chart;\n    const position = this.options.position;\n\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n\n  /**\n   * @protected\n   */\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {\n    const {chart, ctx, options: {border, grid}} = this;\n    const borderOpts = border.setContext(this.getContext());\n    const axisWidth = border.display ? borderOpts.width : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.width;\n    ctx.strokeStyle = borderOpts.color;\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n\n    if (!optionTicks.display) {\n      return;\n    }\n\n    const ctx = this.ctx;\n\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n\n    const items = this.getLabelItems(chartArea);\n    for (const item of items) {\n      const renderTextOptions = item.options;\n      const tickFont = item.font;\n      const label = item.label;\n      const y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n    }\n\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n\n    if (!title.display) {\n      return;\n    }\n\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n\n  /**\n\t * @return {object[]}\n\t * @private\n\t */\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    const bz = valueOrDefault(opts.border && opts.border.z, 0);\n\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      // backward compatibility: draw has been overridden by custom scale\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: bz,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n\n  /**\n\t * Returns visible dataset metas that are attached to this scale\n\t * @param {string} [type] - if specified, also filter by dataset type\n\t * @return {object[]}\n\t */\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n\n  /**\n\t * @param {number} index\n\t * @return {object}\n\t * @protected\n \t */\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n\n  /**\n   * @protected\n   */\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n","import {merge} from '../helpers/index.js';\nimport defaults, {overrides} from './core.defaults.js';\n\n/**\n * @typedef {{id: string, defaults: any, overrides?: any, defaultRoutes: any}} IChartComponent\n */\n\nexport default class TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t * @returns {string} The scope where items defaults were registered to.\n\t */\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n\n    if (isIChartComponent(proto)) {\n      // Make sure the parent is registered and note the scope where its defaults are.\n      parentScope = this.register(proto);\n    }\n\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n\n    if (id in items) {\n      // already registered\n      return scope;\n    }\n\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n\n    return scope;\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object?}\n\t */\n  get(id) {\n    return this.items[id];\n  }\n\n  /**\n\t * @param {IChartComponent} item\n\t */\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n\n    if (id in items) {\n      delete items[id];\n    }\n\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\n\nfunction registerDefaults(item, scope, parentScope) {\n  // Inherit the parent's defaults and keep existing defaults\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n","import DatasetController from './core.datasetController.js';\nimport Element from './core.element.js';\nimport Scale from './core.scale.js';\nimport TypedRegistry from './core.typedRegistry.js';\nimport {each, callback as call, _capitalize} from '../helpers/helpers.core.js';\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    // Order is important, Scale has Element in prototype chain,\n    // so Scales must be before Elements. Plugins are a fallback, so not listed here.\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  add(...args) {\n    this._each('register', args);\n  }\n\n  remove(...args) {\n    this._each('unregister', args);\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof DatasetController}\n\t */\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Element}\n\t */\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {object}\n\t */\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n\n  /**\n\t * @param {string} id\n\t * @returns {typeof Scale}\n\t */\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n\n  /**\n\t * @param  {...typeof DatasetController} args\n\t */\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n\n  /**\n\t * @param  {...typeof Element} args\n\t */\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n\n  /**\n\t * @param  {...any} args\n\t */\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n\n  /**\n\t * @param  {...typeof Scale} args\n\t */\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n\n  /**\n\t * @private\n\t */\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        // Handle loopable args\n        // Use case:\n        //  import * as plugins from './plugins.js';\n        //  Chart.register(plugins);\n        each(arg, item => {\n          // If there are mixed types in the loopable, make sure those are\n          // registered in correct registry\n          // Use case: (treemap exporting controller, elements etc)\n          //  import * as treemap from 'chartjs-chart-treemap.js';\n          //  Chart.register(treemap);\n\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    call(component['before' + camelMethod], [], component); // beforeRegister / beforeUnregister\n    registry[method](component);\n    call(component['after' + camelMethod], [], component); // afterRegister / afterUnregister\n  }\n\n  /**\n\t * @private\n\t */\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    // plugins is the fallback registry\n    return this.plugins;\n  }\n\n  /**\n\t * @private\n\t */\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Registry();\n","import registry from './core.registry.js';\nimport {callback as callCallback, isNullOrUndef, valueOrDefault} from '../helpers/helpers.core.js';\n\n/**\n * @typedef { import('./core.controller.js').default } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../plugins/plugin.tooltip.js').default } Tooltip\n */\n\n/**\n * @callback filterCallback\n * @param {{plugin: object, options: object}} value\n * @param {number} [index]\n * @param {array} [array]\n * @param {object} [thisArg]\n * @return {boolean}\n */\n\n\nexport default class PluginService {\n  constructor() {\n    this._init = [];\n  }\n\n  /**\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {object} [args] - Extra arguments to apply to the hook call.\n   * @param {filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n\n  /**\n\t * @private\n\t */\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callCallback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  invalidate() {\n    // When plugins are registered, there is the possibility of a double\n    // invalidate situation. In this case, we only want to invalidate once.\n    // If we invalidate multiple times, the `_oldCache` is lost and all of the\n    // plugins are restarted without being correctly stopped.\n    // See https://github.com/chartjs/Chart.js/issues/8147\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n\n    const descriptors = this._cache = this._createDescriptors(chart);\n\n    this._notifyStateChanges(chart);\n\n    return descriptors;\n  }\n\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    // options === false => all plugins are disabled\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n\n  /**\n\t * @param {Chart} chart\n\t * @private\n\t */\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\n\n/**\n * @param {import('./core.config.js').default} config\n */\nfunction allPlugins(config) {\n  const localIds = {};\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n      localIds[plugin.id] = true;\n    }\n  }\n\n  return {plugins, localIds};\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\n\nfunction createDescriptors(chart, {plugins, localIds}, options, all) {\n  const result = [];\n  const context = chart.getContext();\n\n  for (const plugin of plugins) {\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, {plugin, local}, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  if (local && plugin.defaults) {\n    // make sure plugin defaults are in scopes for local (not registered) plugins\n    scopes.push(plugin.defaults);\n  }\n  return config.createResolver(scopes, context, [''], {\n    // These are just defaults that plugins can override\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n","import defaults, {overrides, descriptors} from './core.defaults.js';\nimport {mergeIf, resolveObjectKey, isArray, isFunction, valueOrDefault, isObject} from '../helpers/helpers.core.js';\nimport {_attachContext, _createResolver, _descriptors} from '../helpers/helpers.config.js';\n\nexport function getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction idMatchesAxis(id) {\n  if (id === 'x' || id === 'y' || id === 'r') {\n    return id;\n  }\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nexport function determineAxis(id, ...scaleOptions) {\n  if (idMatchesAxis(id)) {\n    return id;\n  }\n  for (const opts of scaleOptions) {\n    const axis = opts.axis\n      || axisFromPosition(opts.position)\n      || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n    if (axis) {\n      return axis;\n    }\n  }\n  throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\n\nfunction getAxisFromDataset(id, axis, dataset) {\n  if (dataset[axis + 'AxisID'] === id) {\n    return {axis};\n  }\n}\n\nfunction retrieveAxisFromDatasets(id, config) {\n  if (config.data && config.data.datasets) {\n    const boundDs = config.data.datasets.filter((d) => d.xAxisID === id || d.yAxisID === id);\n    if (boundDs.length) {\n      return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n    }\n  }\n  return {};\n}\n\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const scales = Object.create(null);\n\n  // First figure out first scale id's per axis.\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n\n  // Then merge dataset defaults to scale configs\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n\n  // apply scale defaults, if not overridden by dataset defaults\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n\n  return scales;\n}\n\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n\n  initOptions(config);\n\n  return config;\n}\n\nconst keyCache = new Map();\nconst keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\n\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nexport default class Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  get platform() {\n    return this._config.platform;\n  }\n\n  get type() {\n    return this._config.type;\n  }\n\n  set type(type) {\n    this._config.type = type;\n  }\n\n  get data() {\n    return this._config.data;\n  }\n\n  set data(data) {\n    this._config.data = initData(data);\n  }\n\n  get options() {\n    return this._config.options;\n  }\n\n  set options(options) {\n    this._config.options = options;\n  }\n\n  get plugins() {\n    return this._config.plugins;\n  }\n\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @return {string[][]}\n   */\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the option scope keys for resolving dataset animation options.\n   * These keys do not include the dataset itself, because it is not under options.\n   * @param {string} datasetType\n   * @param {string} transition\n   * @return {string[][]}\n   */\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        // The following are used for looking up the `animations` and `animation` keys\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving element options that belong\n   * to an dataset. These keys do not include the dataset itself, because it\n   * is not under options.\n   * @param {string} datasetType\n   * @param {string} elementType\n   * @return {string[][]}\n   */\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n\n  /**\n   * Returns the options scope keys for resolving plugin options.\n   * @param {{id: string, additionalOptionScopes?: string[]}} plugin\n   * @return {string[][]}\n   */\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n\n  /**\n   * @private\n   */\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n\n  /**\n   * Resolves the objects from options and defaults for option value resolution.\n   * @param {object} mainScope - The main scope object for options\n   * @param {string[][]} keyLists - The arrays of keys in resolution order\n   * @param {boolean} [resetCache] - reset the cache for this mainScope\n   */\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n\n    const scopes = new Set();\n\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n\n  /**\n   * Returns the option scopes for resolving chart options\n   * @return {object[]}\n   */\n  chartOptionScopes() {\n    const {options, type} = this;\n\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {}, // https://github.com/chartjs/Chart.js/issues/8531\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {string[]} names\n   * @param {function|object} context\n   * @param {string[]} [prefixes]\n   * @return {object}\n   */\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      // subResolver is passed to scriptable options. It should not resolve to hover options.\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n\n  /**\n   * @param {object[]} scopes\n   * @param {object} [context]\n   * @param {string[]} [prefixes]\n   * @param {{scriptable: boolean, indexable: boolean, allKeys?: boolean}} [descriptorDefaults]\n   */\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\n\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\n\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n","import animator from './core.animator.js';\nimport defaults, {overrides} from './core.defaults.js';\nimport Interaction from './core.interaction.js';\nimport layouts from './core.layouts.js';\nimport {_detectPlatform} from '../platform/index.js';\nimport PluginService from './core.plugins.js';\nimport registry from './core.registry.js';\nimport Config, {determineAxis, getIndexAxis} from './core.config.js';\nimport {retinaScale, _isDomSupported} from '../helpers/helpers.dom.js';\nimport {each, callback as callCallback, uid, valueOrDefault, _elementsEqual, isNullOrUndef, setsEqual, defined, isFunction, _isClickEvent} from '../helpers/helpers.core.js';\nimport {clearCanvas, clipArea, createContext, unclipArea, _isPointInArea} from '../helpers/index.js';\n// @ts-ignore\nimport {version} from '../../package.json';\nimport {debounce} from '../helpers/helpers.extras.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').Point } Point\n */\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\n\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n\n  chart.notifyPlugins('afterRender');\n  callCallback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callCallback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\n/**\n * Chart.js can take a string id of a canvas element, a 2d context, or a canvas element itself.\n * Attempt to unwrap the item passed into the chart constructor so that it is a canvas element (if possible).\n */\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    // Support for array based queries (such as jQuery)\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    // Support for any object associated to a canvas (including a context2d)\n    item = item.canvas;\n  }\n  return item;\n}\n\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\n\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\n\n/**\n * @param {ChartEvent} e\n * @param {ChartEvent|null} lastEvent\n * @param {boolean} inChartArea\n * @param {boolean} isClick\n * @returns {ChartEvent|null}\n */\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\n\nfunction getDatasetArea(meta) {\n  const {xScale, yScale} = meta;\n  if (xScale && yScale) {\n    return {\n      left: xScale.left,\n      right: xScale.right,\n      top: yScale.top,\n      bottom: yScale.bottom\n    };\n  }\n}\n\nclass Chart {\n\n  static defaults = defaults;\n  static instances = instances;\n  static overrides = overrides;\n  static registry = registry;\n  static version = version;\n  static getChart = getChart;\n\n  static register(...items) {\n    registry.add(...items);\n    invalidatePlugins();\n  }\n\n  static unregister(...items) {\n    registry.remove(...items);\n    invalidatePlugins();\n  }\n\n  // eslint-disable-next-line max-statements\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.'\n      );\n    }\n\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    // Store the previously used aspect ratio to determine if a resize\n    // is needed during updates. Do this after _options is set since\n    // aspectRatio uses a getter\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    /** @type {?{attach?: function, detach?: function, resize?: function}} */\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n\n    // Add the chart instance to the global namespace\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      // The given item is not a compatible context2d element, let's return before finalizing\n      // the chart initialization but after setting basic chart / controller properties that\n      // can help to figure out that the chart is not valid (e.g chart.canvas !== null);\n      // https://github.com/chartjs/Chart.js/issues/2807\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      // If aspectRatio is defined in options, use that.\n      return aspectRatio;\n    }\n\n    if (maintainAspectRatio && _aspectRatio) {\n      // If maintainAspectRatio is truthly and we had previously determined _aspectRatio, use that\n      return _aspectRatio;\n    }\n\n    // Calculate\n    return height ? width / height : null;\n  }\n\n  get data() {\n    return this.config.data;\n  }\n\n  set data(data) {\n    this.config.data = data;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this.config.options = options;\n  }\n\n  get registry() {\n    return registry;\n  }\n\n  /**\n\t * @private\n\t */\n  _initialize() {\n    // Before init plugin notification\n    this.notifyPlugins('beforeInit');\n\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n\n    this.bindEvents();\n\n    // After init plugin notification\n    this.notifyPlugins('afterInit');\n\n    return this;\n  }\n\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n\n  /**\n\t * Resize the chart to its container or to explicit dimensions.\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n\n    this.notifyPlugins('resize', {size: newSize});\n\n    callCallback(options.onResize, [this, newSize], this);\n\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        // The resize update is delayed, only draw without updating.\n        this.render();\n      }\n    }\n  }\n\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n\n  /**\n\t * Builds a map of scale ID to scale object for future lookup.\n\t */\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n\n      scale.init(scaleOptions, options);\n    });\n    // clear up discarded scales\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n\n  /**\n\t * @private\n\t */\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n\n  /**\n\t * @private\n\t */\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n\n    this._removeUnreferencedMetasets();\n\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n\n    this._updateMetasets();\n    return newControllers;\n  }\n\n  /**\n\t * Reset the elements of all datasets\n\t * @private\n\t */\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n\n  /**\n\t* Resets the chart back to its state before the initial animation\n\t*/\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n\n  update(mode) {\n    const config = this.config;\n\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n\n    // plugins options references might have change, let's invalidate the cache\n    // https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\n    this._plugins.invalidate();\n\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    // Make sure dataset controllers are updated and new controllers are reset\n    const newControllers = this.buildOrUpdateControllers();\n\n    this.notifyPlugins('beforeElementsUpdate');\n\n    // Make sure all dataset controllers have correct meta data counts\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      // New controllers will be reset after the layout pass, so we only want to modify\n      // elements added to new datasets\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n\n    // Only reset the controllers if we have animations\n    if (!animsDisabled) {\n      // Can only reset the new controllers after the scales have been updated\n      // Reset is done to get the starting point for the initial animation\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n\n    this._updateDatasets(mode);\n\n    // Do this before render so that any plugins that need final scale updates can use it\n    this.notifyPlugins('afterUpdate', {mode});\n\n    this._layers.sort(compare2Level('z', '_idx'));\n\n    // Replay last event from before update, or set hover styles on active elements\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n\n    this.render();\n  }\n\n  /**\n   * @private\n   */\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n\n  /**\n   * @private\n   */\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      // The configured events have changed. Rebind.\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n\n  /**\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\n\t * hook, in which case, plugins will not be called on `afterLayout`.\n\t * @private\n\t */\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n\n    layouts.update(this, this.width, this.height, minPadding);\n\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        // Skip drawing and configuring chartArea boxes when chartArea is zero or negative\n        return;\n      }\n\n      // configure is called twice, once in core.scale.update and once here.\n      // Here the boxes are fully updated and at their final positions.\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n\n    this.notifyPlugins('afterLayout');\n  }\n\n  /**\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\n\t * @private\n\t */\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n\n  /**\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\n\t * @private\n\t */\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n\n    meta.controller._update(mode);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    // Because of plugin hooks (before/afterDatasetsDraw), datasets can't\n    // currently be part of layers. Instead, we draw\n    // layers <= 0 before(default, backward compat), and the rest after\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this._drawDatasets();\n\n    // Rest of layers\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n\n    this.notifyPlugins('afterDraw');\n  }\n\n  /**\n\t * @private\n\t */\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n\t * Gets the visible dataset metas in drawing order\n\t * @return {object[]}\n\t */\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n\n  /**\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\n\t * @private\n\t */\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n\n  /**\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\n\t * @private\n\t */\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = getDatasetArea(meta) || this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n\n    meta.controller.draw();\n\n    if (useClip) {\n      unclipArea(ctx);\n    }\n\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n\n  /**\n   * Checks whether the given point is in the chart area.\n   * @param {Point} point - in relative coordinates (see, e.g., getRelativePosition)\n   * @returns {boolean}\n   */\n  isPointInArea(point) {\n    return _isPointInArea(point, this.chartArea, this._minPadding);\n  }\n\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n\n    return [];\n  }\n\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\t\t\t// See isDatasetVisible() comment\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n\n    return meta;\n  }\n\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n\n    const meta = this.getDatasetMeta(datasetIndex);\n\n    // meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\n    // the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n\n  /**\n\t * @private\n\t */\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      // Animate visible state, so hide animation can be seen. This could be handled better if update / updateDataset returned a Promise.\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n\n  /**\n\t * @private\n\t */\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n\n    this._stop();\n    this.config.clearCache();\n\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n\n    delete instances[this.id];\n\n    this.notifyPlugins('afterDestroy');\n  }\n\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n\n  /**\n\t * @private\n\t */\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n\n  /**\n   * @private\n   */\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n\n    each(this.options.events, (type) => _add(type, listener));\n  }\n\n  /**\n   * @private\n   */\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n\n    let detached; // eslint-disable-line prefer-const\n    const attached = () => {\n      _remove('attach', attached);\n\n      this.attached = true;\n      this.resize();\n\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n\n    detached = () => {\n      this.attached = false;\n\n      _remove('resize', listener);\n\n      // Stop animating and remove metasets, so when re-attached, the animations start from beginning.\n      this._stop();\n      this._resize(0, 0);\n\n      _add('attach', attached);\n    };\n\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n\n  /**\n\t * Get active (hovered) elements\n\t * @returns array\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active (hovered) elements\n\t * @param {array} activeElements New active data points\n\t */\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n\n    if (changed) {\n      this._active = active;\n      // Make sure we don't use the previous mouse event to override the active elements in update.\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n\n  /**\n\t * Calls enabled plugins on the specified hook and with the given args.\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\n\t * returned value can be used, for instance, to interrupt the current action.\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\n\t * @param {Object} [args] - Extra arguments to apply to the hook call.\n   * @param {import('./core.plugins.js').filterCallback} [filter] - Filtering function for limiting which plugins are notified\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\n\t */\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n\n  /**\n   * Check if a plugin with the specific ID is registered and enabled\n   * @param {string} pluginId - The ID of the plugin of which to check if it is enabled\n   * @returns {boolean}\n   */\n  isPluginEnabled(pluginId) {\n    return this._plugins._cache.filter(p => p.plugin.id === pluginId).length === 1;\n  }\n\n  /**\n\t * @private\n\t */\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: this.isPointInArea(e)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n\n    if (changed || args.changed) {\n      this.render();\n    }\n\n    return this;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e the event to handle\n\t * @param {boolean} [replay] - true if the event was replayed by `update`\n   * @param {boolean} [inChartArea] - true if the event is inside chartArea\n\t * @return {boolean} true if the chart needs to re-render\n\t * @private\n\t */\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n\n    // If the event is replayed from `update`, we should evaluate with the final positions.\n    //\n    // The `replay`:\n    // It's the last event (excluding click) that has occurred before `update`.\n    // So mouse has not moved. It's also over the chart, because there is a `replay`.\n    //\n    // The why:\n    // If animations are active, the elements haven't moved yet compared to state before update.\n    // But if they will, we are activating the elements that would be active, if this check\n    // was done after the animations have completed. => \"final positions\".\n    // If there is no animations, the \"final\" and \"current\" positions are equal.\n    // This is done so we do not have to evaluate the active elements each animation frame\n    // - it would be expensive.\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n\n    if (inChartArea) {\n      // Set _lastEvent to null while we are processing the event handlers.\n      // This prevents recursion if the handler calls chart.update()\n      this._lastEvent = null;\n\n      // Invoke onHover hook\n      callCallback(options.onHover, [e, active, this], this);\n\n      if (isClick) {\n        callCallback(options.onClick, [e, active, this], this);\n      }\n    }\n\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n\n    this._lastEvent = lastEvent;\n\n    return changed;\n  }\n\n  /**\n   * @param {ChartEvent} e - The event\n   * @param {import('../types/index.js').ActiveElement[]} lastActive - Previously active elements\n   * @param {boolean} inChartArea - Is the envent inside chartArea\n   * @param {boolean} useFinalPosition - Should the evaluation be done with current or final (after animation) element positions\n   * @returns {import('../types/index.js').ActiveElement[]} - The active elements\n   * @pravate\n   */\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\n\n// @ts-ignore\nfunction invalidatePlugins() {\n  return each(Chart.instances, (chart) => chart._plugins.invalidate());\n}\n\nexport default Chart;\n","import Element from '../core/core.element.js';\nimport {_angleBetween, getAngleFromPoint, TAU, HALF_PI, valueOrDefault} from '../helpers/index.js';\nimport {PI, _isBetween, _limitValue} from '../helpers/helpers.math.js';\nimport {_readValueToProps} from '../helpers/helpers.options.js';\nimport type {ArcOptions, Point} from '../types/index.js';\n\n\nfunction clipArc(ctx: CanvasRenderingContext2D, element: ArcElement, endAngle: number) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n\n  // Draw an inner border by clipping the arc and drawing a double-width border\n  // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\n/**\n * Parse border radius from the provided options\n */\nfunction parseBorderRadius(arc: ArcElement, innerRadius: number, outerRadius: number, angleDelta: number) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  // Outer limits are complicated. We want to compute the available angular distance at\n  // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n  // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n  //\n  // If the borderRadius is large, that value can become negative.\n  // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n  // we know that the thickness term will dominate and compute the limits at that point\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\n\n/**\n * Convert (r, 𝜃) to (x, y)\n */\nfunction rThetaToXY(r: number, theta: number, x: number, y: number) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\n\n\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */\nfunction pathArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  end: number,\n  circular: boolean,\n) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n\n  let spacingOffset = 0;\n  const alpha = end - start;\n\n  if (spacing) {\n    // When spacing is present, it is the same for all items\n    // So we adjust the start and end angle of the arc such that\n    // the distance is the same as it would be without the spacing\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius(element, innerRadius, outerRadius, endAngle - startAngle);\n\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n\n  ctx.beginPath();\n\n  if (circular) {\n    // The first arc segments from point 1 to point a to point 2\n    const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n    ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n\n    // The corner segment from point 2 to point 3\n    if (outerEnd > 0) {\n      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n    }\n\n    // The line from point 3 to point 4\n    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n    ctx.lineTo(p4.x, p4.y);\n\n    // The corner segment from point 4 to point 5\n    if (innerEnd > 0) {\n      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n    }\n\n    // The inner arc from point 5 to point b to point 6\n    const innerMidAdjustedAngle = ((endAngle - (innerEnd / innerRadius)) + (startAngle + (innerStart / innerRadius))) / 2;\n    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), innerMidAdjustedAngle, true);\n    ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + (innerStart / innerRadius), true);\n\n    // The corner segment from point 6 to point 7\n    if (innerStart > 0) {\n      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n    }\n\n    // The line from point 7 to point 8\n    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n    ctx.lineTo(p8.x, p8.y);\n\n    // The corner segment from point 8 to point 1\n    if (outerStart > 0) {\n      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n    }\n  } else {\n    ctx.moveTo(x, y);\n\n    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerStartX, outerStartY);\n\n    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n    ctx.lineTo(outerEndX, outerEndY);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle, circular);\n  ctx.fill();\n  return endAngle;\n}\n\nfunction drawBorder(\n  ctx: CanvasRenderingContext2D,\n  element: ArcElement,\n  offset: number,\n  spacing: number,\n  circular: boolean,\n) {\n  const {fullCircles, startAngle, circumference, options} = element;\n  const {borderWidth, borderJoinStyle, borderDash, borderDashOffset} = options;\n  const inner = options.borderAlign === 'inner';\n\n  if (!borderWidth) {\n    return;\n  }\n\n  ctx.setLineDash(borderDash || []);\n  ctx.lineDashOffset = borderDashOffset;\n\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.stroke();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + (circumference % TAU || TAU);\n    }\n  }\n\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n\n  if (!fullCircles) {\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.stroke();\n  }\n}\n\nexport interface ArcProps extends Point {\n  startAngle: number;\n  endAngle: number;\n  innerRadius: number;\n  outerRadius: number;\n  circumference: number;\n}\n\nexport default class ArcElement extends Element<ArcProps, ArcOptions> {\n\n  static id = 'arc';\n\n  static defaults = {\n    borderAlign: 'center',\n    borderColor: '#fff',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: undefined,\n    borderRadius: 0,\n    borderWidth: 2,\n    offset: 0,\n    spacing: 0,\n    angle: undefined,\n    circular: true,\n  };\n\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor'\n  };\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash'\n  };\n\n  circumference: number;\n  endAngle: number;\n  fullCircles: number;\n  innerRadius: number;\n  outerRadius: number;\n  pixelMargin: number;\n  startAngle: number;\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(chartX: number, chartY: number, useFinalPosition: boolean) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n\n    return (betweenAngles && withinRadius);\n  }\n\n  getCenterPoint(useFinalPosition: boolean) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius'\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n\n  tooltipPosition(useFinalPosition: boolean) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 4;\n    const spacing = (options.spacing || 0) / 2;\n    const circular = options.circular;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n\n    ctx.save();\n\n    const halfAngle = (this.startAngle + this.endAngle) / 2;\n    ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n    const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n    const radiusOffset = offset * fix;\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n\n    drawArc(ctx, this, radiusOffset, spacing, circular);\n    drawBorder(ctx, this, radiusOffset, spacing, circular);\n\n    ctx.restore();\n  }\n}\n","import Element from '../core/core.element.js';\nimport {_bezierInterpolation, _pointInLine, _steppedInterpolation} from '../helpers/helpers.interpolation.js';\nimport {_computeSegments, _boundSegments} from '../helpers/helpers.segment.js';\nimport {_steppedLineTo, _bezierCurveTo} from '../helpers/helpers.canvas.js';\nimport {_updateBezierControlPoints} from '../helpers/helpers.curve.js';\nimport {valueOrDefault} from '../helpers/index.js';\n\n/**\n * @typedef { import('./element.point.js').default } PointElement\n */\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @returns {any}\n */\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  // eslint-disable-next-line prefer-const\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\n/**\n * Create path from points, grouping by truncated x-coordinate\n * Points need to be in order by x-coordinate for this to work efficiently\n * @param {CanvasRenderingContext2D|Path2D} ctx - Context\n * @param {LineElement} line\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} params\n * @param {boolean} params.move - move to starting point (vs line to it)\n * @param {boolean} params.reverse - path the segment from end to start\n * @param {number} params.start - limit segment to points starting from `start` index\n * @param {number} params.end - limit segment to points ending at `start` + `count` index\n */\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      // Draw line to maxY and minY, using the average x-coordinate\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      // Line to y-value of last point in group. So the line continues\n      // from correct position. Not using move, to have solid path.\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      // If there is a skipped point inside a segment, spanGaps must be true\n      continue;\n    }\n\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0; // truncated x-coordinate\n\n    if (truncX === prevX) {\n      // Determine `minY` / `maxY` and `avgX` while we stay within same x-position\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      // For first point in group, countX is `0`, so average will be `x` / 1.\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      // Draw line to next x-position, using the first (or only)\n      // y-value in that group\n      ctx.lineTo(x, y);\n\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    // Keep track of the last y-value in group\n    lastY = y;\n  }\n  drawX();\n}\n\n/**\n * @param {LineElement} line - the line\n * @returns {function}\n * @private\n */\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\n/**\n * @private\n */\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\n\nconst usePath2D = typeof Path2D === 'function';\n\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nexport default class LineElement extends Element {\n\n  static id = 'line';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderCapStyle: 'butt',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 3,\n    capBezierPoints: true,\n    cubicInterpolationMode: 'default',\n    fill: false,\n    spanGaps: false,\n    stepped: false,\n    tension: 0,\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n\n  static descriptors = {\n    _scriptable: true,\n    _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n  };\n\n\n  constructor(cfg) {\n    super();\n\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n\n  get points() {\n    return this._points;\n  }\n\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n\n  /**\n\t * First non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n\n  /**\n\t * Last non-skipped point on this line\n\t * @returns {PointElement|undefined}\n\t */\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n\n  /**\n\t * Interpolate a point in this line at the same value on `property` as\n\t * the reference `point` provided\n\t * @param {PointElement} point - the reference point\n\t * @param {string} property - the property to match on\n\t * @returns {PointElement|undefined}\n\t */\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n\n    if (!segments.length) {\n      return;\n    }\n\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n\n  /**\n\t * Append a segment of this line to current path.\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} segment\n\t * @param {number} segment.start - start index of the segment, referring the points array\n \t * @param {number} segment.end - end index of the segment, referring the points array\n \t * @param {boolean} segment.loop - indicates that the segment is a loop\n\t * @param {object} params\n\t * @param {boolean} params.move - move to starting point (vs line to it)\n\t * @param {boolean} params.reverse - path the segment from end to start\n\t * @param {number} params.start - limit segment to points starting from `start` index\n\t * @param {number} params.end - limit segment to points ending at `start` + `count` index\n\t * @returns {undefined|boolean} - true if the segment is a full loop (path should be closed)\n\t */\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n\n  /**\n\t * Append all segments of this line to current path.\n\t * @param {CanvasRenderingContext2D|Path2D} ctx\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t * @returns {undefined|boolean} - true if line is a full loop (path should be closed)\n\t */\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n\n    start = start || 0;\n    count = count || (this.points.length - start);\n\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n\n  /**\n\t * Draw\n\t * @param {CanvasRenderingContext2D} ctx\n\t * @param {object} chartArea\n\t * @param {number} [start]\n\t * @param {number} [count]\n\t */\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n\n    if (points.length && options.borderWidth) {\n      ctx.save();\n\n      draw(ctx, this, start, count);\n\n      ctx.restore();\n    }\n\n    if (this.animated) {\n      // When line is animated, the control points and path are not cached.\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\n","import Element from '../core/core.element.js';\nimport {drawPoint, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport type {\n  CartesianParsedData,\n  ChartArea,\n  Point,\n  PointHoverOptions,\n  PointOptions,\n} from '../types/index.js';\n\nfunction inRange(el: PointElement, pos: number, axis: 'x' | 'y', useFinalPosition?: boolean) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\n\nexport type PointProps = Point\n\nexport default class PointElement extends Element<PointProps, PointOptions & PointHoverOptions> {\n\n  static id = 'point';\n\n  parsed: CartesianParsedData;\n  skip?: boolean;\n  stop?: boolean;\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderWidth: 1,\n    hitRadius: 1,\n    hoverBorderWidth: 1,\n    hoverRadius: 4,\n    pointStyle: 'circle',\n    radius: 3,\n    rotation: 0\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  inRange(mouseX: number, mouseY: number, useFinalPosition?: boolean) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n\n  inXRange(mouseX: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseX, 'x', useFinalPosition);\n  }\n\n  inYRange(mouseY: number, useFinalPosition?: boolean) {\n    return inRange(this, mouseY, 'y', useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition?: boolean) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n\n  size(options?: Partial<PointOptions & PointHoverOptions>) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n\n  draw(ctx: CanvasRenderingContext2D, area: ChartArea) {\n    const options = this.options;\n\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n\n  getRange() {\n    const options = this.options || {};\n    // @ts-expect-error Fallbacks should never be hit in practice\n    return options.radius + options.hitRadius;\n  }\n}\n","import Element from '../core/core.element.js';\nimport {isObject, _isBetween, _limitValue} from '../helpers/index.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {toTRBL, toTRBLCorners} from '../helpers/helpers.options.js';\n\n/** @typedef {{ x: number, y: number, base: number, horizontal: boolean, width: number, height: number }} BarProps */\n\n/**\n * Helper function to get the bounds of the bar regardless of the orientation\n * @param {BarElement} bar the bar\n * @param {boolean} [useFinalPosition]\n * @return {object} bounds of the bar\n * @private\n */\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = /** @type {BarProps} */ (bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition));\n\n  let left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {left, top, right, bottom};\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n\n  // If the value is an object, assume the user knows what they are doing\n  // and apply as directed.\n  const enableBorder = enableBorderRadius || isObject(value);\n\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\n\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\n/**\n * Add a path of a rectangle to the current sub-path\n * @param {CanvasRenderingContext2D} ctx Context\n * @param {*} rect Bounding rect\n */\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\n\nexport default class BarElement extends Element {\n\n  static id = 'bar';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    borderSkipped: 'start',\n    borderWidth: 0,\n    borderRadius: 0,\n    inflateAmount: 'auto',\n    pointStyle: undefined\n  };\n\n  /**\n   * @type {any}\n   */\n  static defaultRoutes = {\n    backgroundColor: 'backgroundColor',\n    borderColor: 'borderColor'\n  };\n\n  constructor(cfg) {\n    super();\n\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n\n    ctx.save();\n\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n\n    ctx.restore();\n  }\n\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = /** @type {BarProps} */ (this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition));\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\n","import defaults from '../core/core.defaults.js';\nimport Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {addRoundedRectPath, drawPointLegend, renderText} from '../helpers/helpers.canvas.js';\nimport {\n  _isBetween,\n  callback as call,\n  clipArea,\n  getRtlAdapter,\n  overrideTextDirection,\n  restoreTextDirection,\n  toFont,\n  toPadding,\n  unclipArea,\n  valueOrDefault,\n} from '../helpers/index.js';\nimport {_alignStartEnd, _textX, _toLeftRightCenter} from '../helpers/helpers.extras.js';\nimport {toTRBLCorners} from '../helpers/helpers.options.js';\n\n/**\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n */\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n\nexport class Legend extends Element {\n\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this._added = false;\n\n    // Contains hit boxes for each dataset (in dataset order)\n    this.legendHitBoxes = [];\n\n    /**\n \t\t * @private\n \t\t */\n    this._hoveredItem = null;\n\n    // Are we in doughnut mode which has a different data type\n    this.doughnutMode = false;\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = call(labelOpts.generateLabels, [this.chart], this) || [];\n\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n\n    this.legendItems = legendItems;\n  }\n\n  fit() {\n    const {options, ctx} = this;\n\n    // The legend may not be displayed for a variety of reasons including\n    // the fact that the defaults got set to `false`.\n    // When the legend is not displayed, there are no guarantees that the options\n    // are correctly formatted so we need to bail out as early as possible.\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    let width, height;\n\n    ctx.font = labelFont.string;\n\n    if (this.isHorizontal()) {\n      width = this.maxWidth; // fill all the width\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight; // fill all the height\n      width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n    }\n\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n\n  /**\n\t * @private\n\t */\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n\n    return totalHeight;\n  }\n\n  _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n\n    let left = 0;\n    let col = 0;\n\n    this.legendItems.forEach((legendItem, i) => {\n      const {itemWidth, itemHeight} = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n\n      // If too tall, go to new column\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n\n      // Store the hitbox width and height here. Final position will be updated in `draw`\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n\n      // Get max width\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight}); // previous column size\n\n    return totalWidth;\n  }\n\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n\n      this._draw();\n\n      unclipArea(ctx);\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n\n    this.drawTitle();\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n\n    // current position\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n\n      // Set the ctx for the box\n      ctx.save();\n\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n      if (labelOpts.usePointStyle) {\n        // Recalculate x and y for drawPoint() because its expecting\n        // x and y to be center of figure (instead of top left)\n        const drawOptions = {\n          radius: boxHeight * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n\n        // Draw pointStyle as legend symbol\n        drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n      } else {\n        // Draw box as legend symbol\n        // Adjust position when boxHeight < fontSize (want it centered)\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n\n        ctx.beginPath();\n\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n\n      ctx.restore();\n    };\n\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n\n    // Horizontal\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n\n    overrideTextDirection(this.ctx, opts.textDirection);\n\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor; // for strikethrough effect\n      ctx.fillStyle = legendItem.fontColor; // render in correct colour\n\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n\n      rtlHelper.setWidth(this.width);\n\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n\n      const realX = rtlHelper.x(x);\n\n      drawLegendBox(realX, y, legendItem);\n\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n\n      // Fill the actual label\n      fillText(rtlHelper.x(x), y, legendItem);\n\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else if (typeof legendItem.text !== 'string') {\n        const fontLineHeight = labelFont.lineHeight;\n        cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight);\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n\n    if (!titleOpts.display) {\n      return;\n    }\n\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n\n    // These defaults are used when the legend is vertical.\n    // When horizontal, they are computed below.\n    let left = this.left;\n    let maxWidth = this.width;\n\n    if (this.isHorizontal()) {\n      // Move left / right so that the title is above the legend lines\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      // Move down so that the title is above the legend stack in every alignment\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n\n    // Now that we know the left edge of the inner legend box, compute the correct\n    // X coordinate from the title alignment\n    const x = _alignStartEnd(position, left, left + maxWidth);\n\n    // Canvas setup\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n\n  /**\n\t * @private\n\t */\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n\n  /**\n\t * @private\n\t */\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      // See if we are touching one of the dataset boxes\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          // Touching an element\n          return this.legendItems[i];\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t */\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n\n    // Chart event already has relative position in it\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        call(opts.onLeave, [e, previous, this], this);\n      }\n\n      this._hoveredItem = hoveredItem;\n\n      if (hoveredItem && !sameItem) {\n        call(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      call(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\n\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n  const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n  const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n  return {itemWidth, itemHeight};\n}\n\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n  let legendItemText = legendItem.text;\n  if (legendItemText && typeof legendItemText !== 'string') {\n    legendItemText = legendItemText.reduce((a, b) => a.length > b.length ? a : b);\n  }\n  return boxWidth + (labelFont.size / 2) + ctx.measureText(legendItemText).width;\n}\n\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n  let itemHeight = _itemHeight;\n  if (typeof legendItem.text !== 'string') {\n    itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n  }\n  return itemHeight;\n}\n\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n  const labelHeight = legendItem.text ? legendItem.text.length + 0.5 : 0;\n  return fontLineHeight * labelHeight;\n}\n\nfunction isListened(type, opts) {\n  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\n\nexport default {\n  id: 'legend',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Legend,\n\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n\n  // During the beforeUpdate step, the layout configuration needs to run\n  // This ensures that if the legend position changes (via an option update)\n  // the layout system respects the change. See https://github.com/chartjs/Chart.js/issues/7527\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n\n  // The labels need to be built after datasets are updated to ensure that colors\n  // and other styling are correct. See https://github.com/chartjs/Chart.js/issues/6968\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n\n\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n\n    // a callback that will handle\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n\n    onHover: null,\n    onLeave: null,\n\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      // Generates labels shown in the legend\n      // Valid properties to return:\n      // text : text to display\n      // fillStyle : fill of coloured box\n      // strokeStyle: stroke of coloured box\n      // hidden : if this legend item refers to a hidden item\n      // lineCap : cap style for line\n      // lineDash\n      // lineDashOffset :\n      // lineJoin :\n      // lineWidth :\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color, useBorderRadius, borderRadius}} = chart.legend.options;\n\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n\n            // Below is extra data used for toggling the datasets\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n","import Element from '../core/core.element.js';\nimport layouts from '../core/core.layouts.js';\nimport {PI, isArray, toPadding, toFont} from '../helpers/index.js';\nimport {_toLeftRightCenter, _alignStartEnd} from '../helpers/helpers.extras.js';\nimport {renderText} from '../helpers/helpers.canvas.js';\n\nexport class Title extends Element {\n  /**\n\t * @param {{ ctx: any; options: any; chart: any; }} config\n\t */\n  constructor(config) {\n    super();\n\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n\n    this.left = 0;\n    this.top = 0;\n\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n\n    if (!opts.display) {\n      return;\n    }\n\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\n\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nexport default {\n  id: 'title',\n\n  /**\n\t * For tests\n\t * @private\n\t */\n  _element: Title,\n\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000         // by default greater than legend (1000) to be above\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import {Title} from './plugin.title.js';\nimport layouts from '../core/core.layouts.js';\n\nconst map = new WeakMap();\n\nexport default {\n  id: 'subtitle',\n\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500         // by default greater than legend (1000) and smaller than title (2000)\n  },\n\n  defaultRoutes: {\n    color: 'color'\n  },\n\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n","import Animations from '../core/core.animations.js';\nimport Element from '../core/core.element.js';\nimport {addRoundedRectPath} from '../helpers/helpers.canvas.js';\nimport {each, noop, isNullOrUndef, isArray, _elementsEqual, isObject} from '../helpers/helpers.core.js';\nimport {toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\nimport {getRtlAdapter, overrideTextDirection, restoreTextDirection} from '../helpers/helpers.rtl.js';\nimport {distanceBetweenPoints, _limitValue} from '../helpers/helpers.math.js';\nimport {createContext, drawPoint} from '../helpers/index.js';\n\n/**\n * @typedef { import('../platform/platform.base.js').Chart } Chart\n * @typedef { import('../types/index.js').ChartEvent } ChartEvent\n * @typedef { import('../types/index.js').ActiveElement } ActiveElement\n * @typedef { import('../core/core.interaction.js').InteractionItem } InteractionItem\n */\n\nconst positioners = {\n  /**\n\t * Average mode places the tooltip at the average position of the elements shown\n\t */\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n\n  /**\n\t * Gets the tooltip position nearest of the item nearest to the event position\n\t */\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x,\n      y\n    };\n  }\n};\n\n// Helper to push or concat based on if the 2nd parameter is an array or not\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      // base = base.concat(toPush);\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\n/**\n * Returns array of strings split by newline\n * @param {*} str - The value to split by newline.\n * @returns {string|string[]} value if newline present - Returned from String split() method\n * @function\n */\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\n\n\n/**\n * Private helper to create a tooltip item model\n * @param {Chart} chart\n * @param {ActiveElement} item - {element, index, datasetIndex} to create the tooltip item for\n * @return new tooltip item\n */\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\n\n/**\n * Get the size of the tooltip\n */\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n\n  // Count of all lines in the body\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    // Body lines may include some extra height depending on boxHeight\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  // Title width\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n\n  // Body width\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n\n  // Body lines may include some extra width due to the color box\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n\n  // Reset back to 0\n  widthPadding = 0;\n\n  // Footer width\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n\n  ctx.restore();\n\n  // Add padding\n  width += padding.width;\n\n  return {width, height};\n}\n\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\n/**\n * Helper to get the alignment of a tooltip given the size\n */\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  // eslint-disable-next-line prefer-const\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\n\n/**\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\n */\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\n\n/**\n * Helper to build before and after body lines\n */\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nconst defaultCallbacks = {\n  // Args are: (tooltipItems, data)\n  beforeTitle: noop,\n  title(tooltipItems) {\n    if (tooltipItems.length > 0) {\n      const item = tooltipItems[0];\n      const labels = item.chart.data.labels;\n      const labelCount = labels ? labels.length : 0;\n\n      if (this && this.options && this.options.mode === 'dataset') {\n        return item.dataset.label || '';\n      } else if (item.label) {\n        return item.label;\n      } else if (labelCount > 0 && item.dataIndex < labelCount) {\n        return labels[item.dataIndex];\n      }\n    }\n\n    return '';\n  },\n  afterTitle: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeBody: noop,\n\n  // Args are: (tooltipItem, data)\n  beforeLabel: noop,\n  label(tooltipItem) {\n    if (this && this.options && this.options.mode === 'dataset') {\n      return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n    }\n\n    let label = tooltipItem.dataset.label || '';\n\n    if (label) {\n      label += ': ';\n    }\n    const value = tooltipItem.formattedValue;\n    if (!isNullOrUndef(value)) {\n      label += value;\n    }\n    return label;\n  },\n  labelColor(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      borderColor: options.borderColor,\n      backgroundColor: options.backgroundColor,\n      borderWidth: options.borderWidth,\n      borderDash: options.borderDash,\n      borderDashOffset: options.borderDashOffset,\n      borderRadius: 0,\n    };\n  },\n  labelTextColor() {\n    return this.options.bodyColor;\n  },\n  labelPointStyle(tooltipItem) {\n    const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n    const options = meta.controller.getStyle(tooltipItem.dataIndex);\n    return {\n      pointStyle: options.pointStyle,\n      rotation: options.rotation,\n    };\n  },\n  afterLabel: noop,\n\n  // Args are: (tooltipItems, data)\n  afterBody: noop,\n\n  // Args are: (tooltipItems, data)\n  beforeFooter: noop,\n  footer: noop,\n  afterFooter: noop\n};\n\n/**\n * Invoke callback from object with context and arguments.\n * If callback returns `undefined`, then will be invoked default callback.\n * @param {Record<keyof typeof defaultCallbacks, Function>} callbacks\n * @param {keyof typeof defaultCallbacks} name\n * @param {*} ctx\n * @param {*} arg\n * @returns {any}\n */\nfunction invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n  const result = callbacks[name].call(ctx, arg);\n\n  if (typeof result === 'undefined') {\n    return defaultCallbacks[name].call(ctx, arg);\n  }\n\n  return result;\n}\n\nexport class Tooltip extends Element {\n\n  /**\n   * @namespace Chart.Tooltip.positioners\n   */\n  static positioners = positioners;\n\n  constructor(config) {\n    super();\n\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    // TODO: V4, make this private, rename to `_labelStyles`, and combine with `labelPointStyles`\n    // and `labelTextColors` to create a single variable\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n\n  /**\n\t * @private\n\t */\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n\n    if (cached) {\n      return cached;\n    }\n\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n\n    return animations;\n  }\n\n  /**\n\t * @protected\n\t */\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n\n  getTitle(context, options) {\n    const {callbacks} = options;\n\n    const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n    const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n    const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n\n    return lines;\n  }\n\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems)\n    );\n  }\n\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n      pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n\n      bodyItems.push(bodyItem);\n    });\n\n    return bodyItems;\n  }\n\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(\n      invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems)\n    );\n  }\n\n  // Get the footer and beforeFooter and afterFooter lines\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n\n    const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n    const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n    const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n\n    return lines;\n  }\n\n  /**\n\t * @private\n\t */\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n\n    // If the user provided a filter function, use it to modify the tooltip items\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n\n    // If the user provided a sorting function, use it to modify the tooltip items\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n\n    // Determine colors for boxes\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n      labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n      labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n    });\n\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n\n        // Left draws bottom -> top, this y1 is on the bottom\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n\n        // Right draws top -> bottom, thus y1 is on the top\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n\n        // Top draws left -> right, thus x1 is on the left\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n\n        // Bottom draws right -> left, thus x1 is on the right\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.titleAlign, options);\n\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing; // Line Height and spacing\n\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\n        }\n      }\n    }\n  }\n\n  /**\n\t * @private\n\t */\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColor = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2, // fit the circle in the box\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      // Recalculate x and y for drawPoint() because its expecting\n      // x and y to be center of figure (instead of top left)\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n\n      // Fill the point with white so that colours merge nicely if the opacity is < 1\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n\n      // Draw the point\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.fillStyle = labelColor.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      // Border\n      ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : (labelColor.borderWidth || 1); // TODO, v4 remove fallback\n      ctx.strokeStyle = labelColor.borderColor;\n      ctx.setLineDash(labelColor.borderDash || []);\n      ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n\n      // Fill a white rect so that colours merge nicely if the opacity is < 1\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n      const borderRadius = toTRBLCorners(labelColor.borderRadius);\n\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        // Normal rect\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        // Inner square\n        ctx.fillStyle = labelColor.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n\n    // restore fillStyle\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n\n    // Before body lines\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n\n    // Draw body lines now\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n\n      lines = bodyItem.lines;\n      // Draw Legend-like boxes if needed\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        // Reset for any lines that don't include colorbox\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n\n      each(bodyItem.after, fillLineOfText);\n    }\n\n    // Reset back to 0 for after body\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n\n    // After body lines\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing; // Remove last body spacing\n  }\n\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n\n      footerFont = toFont(options.footerFont);\n\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n\n    ctx.fill();\n\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n\n  /**\n\t * Update x/y animation targets when _active elements are animating too\n\t * @private\n\t */\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n\n  /**\n   * Determine if the tooltip will draw anything\n   * @returns {boolean} True if the tooltip will render\n   */\n  _willRender() {\n    return !!this.opacity;\n  }\n\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n\n    if (!opacity) {\n      return;\n    }\n\n    this._updateAnimationTarget(options);\n\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n\n    // IE11/Edge does not like very small opacities, so snap to 0\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n\n    const padding = toPadding(options.padding);\n\n    // Truthy/falsey value for empty tooltip\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n\n      // Draw Background\n      this.drawBackground(pt, ctx, tooltipSize, options);\n\n      overrideTextDirection(ctx, options.textDirection);\n\n      pt.y += padding.top;\n\n      // Titles\n      this.drawTitle(pt, ctx, options);\n\n      // Body\n      this.drawBody(pt, ctx, options);\n\n      // Footer\n      this.drawFooter(pt, ctx, options);\n\n      restoreTextDirection(ctx, options.textDirection);\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * Get active elements in the tooltip\n\t * @returns {Array} Array of elements that are active in the tooltip\n\t */\n  getActiveElements() {\n    return this._active || [];\n  }\n\n  /**\n\t * Set active elements in the tooltip\n\t * @param {array} activeElements Array of active datasetIndex/index pairs.\n\t * @param {object} eventPosition Synthetic event position used in positioning\n\t */\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n\n  /**\n\t * Handle an event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {boolean} true if the tooltip changed\n\t */\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n\n    // When there are multiple items shown, but the tooltip position is nearest mode\n    // an update may need to be made because our position may have changed even though\n    // the items are the same as before.\n    const positionChanged = this._positionChanged(active, e);\n\n    // Remember Last Actives\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n    // Only handle target event on tooltip change\n    if (changed) {\n      this._active = active;\n\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n\n        this.update(true, replay);\n      }\n    }\n\n    return changed;\n  }\n\n  /**\n\t * Helper for determining the active elements for event\n\t * @param {ChartEvent} e - The event to handle\n\t * @param {InteractionItem[]} lastActive - Previously active elements\n\t * @param {boolean} [replay] - This is a replayed event (from update)\n\t * @param {boolean} [inChartArea] - The event is inside chartArea\n\t * @returns {InteractionItem[]} - Active elements\n\t * @private\n\t */\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n\n    if (e.type === 'mouseout') {\n      return [];\n    }\n\n    if (!inChartArea) {\n      // Let user control the active elements outside chartArea. Eg. using Legend.\n      return lastActive;\n    }\n\n    // Find Active Elements for tooltips\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n    if (options.reverse) {\n      active.reverse();\n    }\n\n    return active;\n  }\n\n  /**\n\t * Determine if the active elements + event combination changes the\n\t * tooltip position\n\t * @param {array} active - Active elements\n\t * @param {ChartEvent} e - Event that triggered the position change\n\t * @returns {boolean} True if the position has changed\n\t */\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\n\nexport default {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n\n    if (tooltip && tooltip._willRender()) {\n      const args = {\n        tooltip\n      };\n\n      if (chart.notifyPlugins('beforeTooltipDraw', {...args, cancelable: true}) === false) {\n        return;\n      }\n\n      tooltip.draw(chart.ctx);\n\n      chart.notifyPlugins('afterTooltipDraw', args);\n    }\n  },\n\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      // If the event is replayed from `update`, we should evaluate with the final positions.\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        // notify chart about the change, so it will render\n        args.changed = true;\n      }\n    }\n  },\n\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: defaultCallbacks\n  },\n\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n\n  // Resolve additionally from `interaction` options and defaults.\n  additionalOptionScopes: ['interaction']\n};\n","import Scale from '../core/core.scale.js';\nimport {isNullOrUndef, valueOrDefault, _limitValue} from '../helpers/index.js';\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\n\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\n\nfunction _getLabelForValue(value) {\n  const labels = this.getLabels();\n\n  if (value >= 0 && value < labels.length) {\n    return labels[value];\n  }\n  return value;\n}\n\nexport default class CategoryScale extends Scale {\n\n  static id = 'category';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: _getLabelForValue\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n\n    // If we are viewing some subset of labels, slice the original array\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n\n  getLabelForValue(value) {\n    return _getLabelForValue.call(this, value);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    super.configure();\n\n    if (!this.isHorizontal()) {\n      // For backward compatibility, vertical category scale reverse is inverted.\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n\n  // Used to get data value locations. Value can either be an index or a numerical value\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  // Must override base implementation because it calls getPixelForValue\n  // and category scale can have duplicate values\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n\n  getBasePixel() {\n    return this.bottom;\n  }\n}\n","import {isNullOrUndef} from '../helpers/helpers.core.js';\nimport {almostEquals, almostWhole, niceNum, _decimalPlaces, _setMinAndMaxByKey, sign, toRadians} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\n\n/**\n * Generate a set of linear ticks for an axis\n * 1. If generationOptions.min, generationOptions.max, and generationOptions.step are defined:\n *    if (max - min) / step is an integer, ticks are generated as [min, min + step, ..., max]\n *    Note that the generationOptions.maxCount setting is respected in this scenario\n *\n * 2. If generationOptions.min, generationOptions.max, and generationOptions.count is defined\n *    spacing = (max - min) / count\n *    Ticks are generated as [min, min + spacing, ..., max]\n *\n * 3. If generationOptions.count is defined\n *    spacing = (niceMax - niceMin) / count\n *\n * 4. Compute optimal spacing of ticks using niceNum algorithm\n *\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, dataRange) {\n  const ticks = [];\n  // To get a \"nice\" value for the tick spacing, we will use the appropriately named\n  // \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\n  // for details.\n\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n\n  // Beyond MIN_SPACING floating point numbers being to lose precision\n  // such that we can't do the math necessary to generate ticks\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    // If the calculated num of spaces exceeds maxNumSpaces, recalculate it\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    // If the user specified a precision, round to that number of decimal places\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    // Case 1: If min, max and stepSize are set and they make an evenly spaced scale use it.\n    // spacing = step;\n    // numSpaces = (max - min) / spacing;\n    // Note that we round here to handle the case where almostWhole translated an FP error\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    // Cases 2 & 3, we have a count specified. Handle optional user defined edges to the range.\n    // Sometimes these are no-ops, but it makes the code a lot clearer\n    // and when a user defined range is specified, we want the correct ticks\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    // Case 4\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    // If very close to our rounded value, use it.\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  // The spacing will have changed in cases 1, 2, and 3 so the factor cannot be computed\n  // until this point\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n\n      if (niceMin < min) {\n        j++; // Skip niceMin\n      }\n      // If the next nice tick is close to min, skip it\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n    if (maxDefined && tickValue > max) {\n      break;\n    }\n    ticks.push({value: tickValue});\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    // If the previous tick is too close to max, replace it with max, else add max\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nexport default class LinearScaleBase extends Scale {\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    /** @type {number} */\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n\n    return +raw;\n  }\n\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n\n    if (min === max) {\n      let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n\n      setMax(max + offset);\n\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    // eslint-disable-next-line prefer-const\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n\n    return maxTicks;\n  }\n\n  /**\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    // Figure out what the max number of ticks we can support it is based on the size of\n    // the axis area. For now, we say that the minimum tick spacing in pixels must be 40\n    // We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\n    // the graph. Make sure we always have at least 2 ticks\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks(numericGeneratorOptions, dataRange);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n\n    super.configure();\n\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n","import {isFinite} from '../helpers/helpers.core.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {toRadians} from '../helpers/index.js';\n\nexport default class LinearScale extends LinearScaleBase {\n\n  static id = 'linear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.numeric\n    }\n  };\n\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? min : 0;\n    this.max = isFinite(max) ? max : 1;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n \t */\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n\n  // Utils\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\n","import {finiteOrDefault, isFinite} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {_setMinAndMaxByKey, log10} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\n\nconst log10Floor = v => Math.floor(log10(v));\nconst changeExponent = (v, m) => Math.pow(10, log10Floor(v) + m);\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, log10Floor(tickVal)));\n  return remain === 1;\n}\n\nfunction steps(min, max, rangeExp) {\n  const rangeStep = Math.pow(10, rangeExp);\n  const start = Math.floor(min / rangeStep);\n  const end = Math.ceil(max / rangeStep);\n  return end - start;\n}\n\nfunction startExp(min, max) {\n  const range = max - min;\n  let rangeExp = log10Floor(range);\n  while (steps(min, max, rangeExp) > 10) {\n    rangeExp++;\n  }\n  while (steps(min, max, rangeExp) < 10) {\n    rangeExp--;\n  }\n  return Math.min(rangeExp, log10Floor(min));\n}\n\n\n/**\n * Generate a set of logarithmic ticks\n * @param generationOptions the options used to generate the ticks\n * @param dataRange the range of the data\n * @returns {object[]} array of tick objects\n */\nfunction generateTicks(generationOptions, {min, max}) {\n  min = finiteOrDefault(generationOptions.min, min);\n  const ticks = [];\n  const minExp = log10Floor(min);\n  let exp = startExp(min, max);\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  const stepSize = Math.pow(10, exp);\n  const base = minExp > exp ? Math.pow(10, minExp) : 0;\n  const start = Math.round((min - base) * precision) / precision;\n  const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n  let significand = Math.floor((start - offset) / Math.pow(10, exp));\n  let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n  while (value < max) {\n    ticks.push({value, major: isMajor(value), significand});\n    if (significand >= 10) {\n      significand = significand < 15 ? 15 : 20;\n    } else {\n      significand++;\n    }\n    if (significand >= 20) {\n      exp++;\n      significand = 2;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n  }\n  const lastTick = finiteOrDefault(generationOptions.max, value);\n  ticks.push({value: lastTick, major: isMajor(lastTick), significand});\n\n  return ticks;\n}\n\nexport default class LogarithmicScale extends Scale {\n\n  static id = 'logarithmic';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    ticks: {\n      callback: Ticks.formatters.logarithmic,\n      major: {\n        enabled: true\n      }\n    }\n  };\n\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.start = undefined;\n    /** @type {number} */\n    this.end = undefined;\n    /** @type {number} */\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isFinite(value) && value > 0 ? value : null;\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n\n    this.min = isFinite(min) ? Math.max(0, min) : null;\n    this.max = isFinite(max) ? Math.max(0, max) : null;\n\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n\n    // if data has `0` in it or `beginAtZero` is true, min (non zero) value is at bottom\n    // of scale, and it does not equal suggestedMin, lower the min bound by one exp.\n    if (this._zero && this.min !== this._suggestedMin && !isFinite(this._userMin)) {\n      this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n    }\n\n    this.handleTickRangeOptions();\n  }\n\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n\n    if (min === max) {\n      if (min <= 0) { // includes null\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(changeExponent(min, -1));\n        setMax(changeExponent(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(changeExponent(max, -1));\n    }\n    if (max <= 0) {\n\n      setMax(changeExponent(min, +1));\n    }\n\n    this.min = min;\n    this.max = max;\n  }\n\n  buildTicks() {\n    const opts = this.options;\n\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n\n    // At this point, we need to update our max and min given the tick values,\n    // since we probably have expanded the range of the scale\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n\n    if (opts.reverse) {\n      ticks.reverse();\n\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n\n    return ticks;\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n\n  /**\n\t * @protected\n\t */\n  configure() {\n    const start = this.min;\n\n    super.configure();\n\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\n","import defaults from '../core/core.defaults.js';\nimport {_longestText, addRoundedRectPath, renderText, _isPointInArea} from '../helpers/helpers.canvas.js';\nimport {HALF_PI, TAU, toDegrees, toRadians, _normalizeAngle, PI} from '../helpers/helpers.math.js';\nimport LinearScaleBase from './scale.linearbase.js';\nimport Ticks from '../core/core.ticks.js';\nimport {valueOrDefault, isArray, isFinite, callback as callCallback, isNullOrUndef} from '../helpers/helpers.core.js';\nimport {createContext, toFont, toPadding, toTRBLCorners} from '../helpers/helpers.options.js';\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\n/**\n * Helper function to fit a radial linear scale with point labels\n */\nfunction fitWithPointLabels(scale) {\n\n  // Right, this is really confusing and there is a lot of maths going on here\n  // The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n  //\n  // Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n  //\n  // Solution:\n  //\n  // We assume the radius of the polygon is half the size of the canvas at first\n  // at each index we check if the text overlaps.\n  //\n  // Where it does, we store that angle and that index.\n  //\n  // After finding the largest index and angle we calculate how much we need to remove\n  // from the shape radius to move the point inwards by that x.\n  //\n  // We average the left and right distances to get the maximum shape radius that can fit in the box\n  // along with labels.\n  //\n  // Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n  // on each side, removing that from the size, halving it and adding the left x protrusion width.\n  //\n  // This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n  // and position it in the most space efficient manner\n  //\n  // https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\n  // Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n  // Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n\n  // Now that text size is determined, compute the full positions\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\n\nfunction createPointLabelItem(scale, index, itemOpts) {\n  const outerDistance = scale.drawingArea;\n  const {extra, additionalAngle, padding, size} = itemOpts;\n  const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n  const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n  const y = yForAngle(pointLabelPosition.y, size.h, angle);\n  const textAlign = getTextAlignForAngle(angle);\n  const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n  return {\n    // if to draw or overlapped\n    visible: true,\n\n    // Text position\n    x: pointLabelPosition.x,\n    y,\n\n    // Text rendering data\n    textAlign,\n\n    // Bounding box\n    left,\n    top: y,\n    right: left + size.w,\n    bottom: y + size.h\n  };\n}\n\nfunction isNotOverlapped(item, area) {\n  if (!area) {\n    return true;\n  }\n  const {left, top, right, bottom} = item;\n  const apexesInArea = _isPointInArea({x: left, y: top}, area) || _isPointInArea({x: left, y: bottom}, area) ||\n    _isPointInArea({x: right, y: top}, area) || _isPointInArea({x: right, y: bottom}, area);\n  return !apexesInArea;\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const {centerPointLabels, display} = opts.pointLabels;\n  const itemOpts = {\n    extra: getTickBackdropHeight(opts) / 2,\n    additionalAngle: centerPointLabels ? PI / valueCount : 0\n  };\n  let area;\n\n  for (let i = 0; i < valueCount; i++) {\n    itemOpts.padding = padding[i];\n    itemOpts.size = labelSizes[i];\n\n    const item = createPointLabelItem(scale, i, itemOpts);\n    items.push(item);\n    if (display === 'auto') {\n      item.visible = isNotOverlapped(item, area);\n      if (item.visible) {\n        area = item;\n      }\n    }\n  }\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\n\nfunction drawPointLabelBox(ctx, opts, item) {\n  const {left, top, right, bottom} = item;\n  const {backdropColor} = opts;\n\n  if (!isNullOrUndef(backdropColor)) {\n    const borderRadius = toTRBLCorners(opts.borderRadius);\n    const padding = toPadding(opts.backdropPadding);\n    ctx.fillStyle = backdropColor;\n\n    const backdropLeft = left - padding.left;\n    const backdropTop = top - padding.top;\n    const backdropWidth = right - left + padding.width;\n    const backdropHeight = bottom - top + padding.height;\n\n    if (Object.values(borderRadius).some(v => v !== 0)) {\n      ctx.beginPath();\n      addRoundedRectPath(ctx, {\n        x: backdropLeft,\n        y: backdropTop,\n        w: backdropWidth,\n        h: backdropHeight,\n        radius: borderRadius,\n      });\n      ctx.fill();\n    } else {\n      ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n    }\n  }\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const item = scale._pointLabelItems[i];\n    if (!item.visible) {\n      // overlapping\n      continue;\n    }\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    drawPointLabelBox(ctx, optsAtIndex, item);\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign} = item;\n\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    // Draw circular arcs between the points\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    // Draw straight lines connecting each index\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n\n  const {color, lineWidth} = gridLineOpts;\n\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(borderOpts.dash);\n  ctx.lineDashOffset = borderOpts.dashOffset;\n\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\n\nexport default class RadialLinearScale extends LinearScaleBase {\n\n  static id = 'radialLinear';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    display: true,\n\n    // Boolean - Whether to animate scaling the chart from the centre\n    animate: true,\n    position: 'chartArea',\n\n    angleLines: {\n      display: true,\n      lineWidth: 1,\n      borderDash: [],\n      borderDashOffset: 0.0\n    },\n\n    grid: {\n      circular: false\n    },\n\n    startAngle: 0,\n\n    // label settings\n    ticks: {\n      // Boolean - Show a backdrop to the scale label\n      showLabelBackdrop: true,\n\n      callback: Ticks.formatters.numeric\n    },\n\n    pointLabels: {\n      backdropColor: undefined,\n\n      // Number - The backdrop padding above & below the label in pixels\n      backdropPadding: 2,\n\n      // Boolean - if true, show point labels\n      display: true,\n\n      // Number - Point label font size in pixels\n      font: {\n        size: 10\n      },\n\n      // Function - Used to convert point labels\n      callback(label) {\n        return label;\n      },\n\n      // Number - Additionl padding between scale and pointLabel\n      padding: 5,\n\n      // Boolean - if true, center point labels to slices in polar chart\n      centerPointLabels: false\n    }\n  };\n\n  static defaultRoutes = {\n    'angleLines.color': 'borderColor',\n    'pointLabels.color': 'color',\n    'ticks.color': 'color'\n  };\n\n  static descriptors = {\n    angleLines: {\n      _fallback: 'grid'\n    }\n  };\n\n  constructor(cfg) {\n    super(cfg);\n\n    /** @type {number} */\n    this.xCenter = undefined;\n    /** @type {number} */\n    this.yCenter = undefined;\n    /** @type {number} */\n    this.drawingArea = undefined;\n    /** @type {string[]} */\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n\n  setDimensions() {\n    // Set the unconstrained dimension before label rotation\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n\n    this.min = isFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isFinite(max) && !isNaN(max) ? max : 0;\n\n    // Common base implementation to handle min, max, beginAtZero\n    this.handleTickRangeOptions();\n  }\n\n  /**\n\t * Returns the maximum number of ticks based on the scale dimension\n\t * @protected\n\t */\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n\n    // Point labels\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callCallback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n\n  fit() {\n    const opts = this.options;\n\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n\n    // Take into account half font size + the yPadding of the top value\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid, border} = opts;\n    const labelCount = this._pointLabels.length;\n\n    let i, offset, position;\n\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const context = this.getContext(index);\n          const optsAtIndex = grid.setContext(context);\n          const optsAtIndexBorder = border.setContext(context);\n\n          drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n        }\n      });\n    }\n\n    if (angleLines.display) {\n      ctx.save();\n\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n\n        if (!lineWidth || !color) {\n          continue;\n        }\n\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    }\n  }\n\n  /**\n\t * @protected\n\t */\n  drawBorder() {}\n\n  /**\n\t * @protected\n\t */\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n\n    if (!tickOpts.display) {\n      return;\n    }\n\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n\n    ctx.restore();\n  }\n\n  /**\n\t * @protected\n\t */\n  drawTitle() {}\n}\n","import adapters from '../core/core.adapters.js';\nimport {callback as call, isFinite, isNullOrUndef, mergeIf, valueOrDefault} from '../helpers/helpers.core.js';\nimport {toRadians, isNumber, _limitValue} from '../helpers/helpers.math.js';\nimport Scale from '../core/core.scale.js';\nimport {_arrayUnique, _filterBetween, _lookup} from '../helpers/helpers.collection.js';\n\n/**\n * @typedef { import('../core/core.adapters.js').TimeUnit } Unit\n * @typedef {{common: boolean, size: number, steps?: number}} Interval\n * @typedef { import('../core/core.adapters.js').DateAdapter } DateAdapter\n */\n\n/**\n * @type {Object<Unit, Interval>}\n */\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\n\n/**\n * @type {Unit[]}\n */\nconst UNITS = /** @type Unit[] */ /* #__PURE__ */ (Object.keys(INTERVALS));\n\n/**\n * @param {number} a\n * @param {number} b\n */\nfunction sorter(a, b) {\n  return a - b;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {*} input\n * @return {number}\n */\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  // Only parse if its not a timestamp already\n  if (!isFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, /** @type {Unit} */ (parser))\n      : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\n/**\n * Figures out what unit results in an appropriate number of auto-generated ticks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @param {number} capacity\n * @return {object}\n */\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\n/**\n * Figures out what unit to format a set of ticks with\n * @param {TimeScale} scale\n * @param {number} numTicks\n * @param {Unit} minUnit\n * @param {number} min\n * @param {number} max\n * @return {Unit}\n */\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\n/**\n * @param {Unit} unit\n * @return {object}\n */\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\n/**\n * @param {object} ticks\n * @param {number} time\n * @param {number[]} [timestamps] - if defined, snap to these timestamps\n */\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\n/**\n * @param {TimeScale} scale\n * @param {object[]} ticks\n * @param {object} map\n * @param {Unit} majorUnit\n * @return {object[]}\n */\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\n\n/**\n * @param {TimeScale} scale\n * @param {number[]} values\n * @param {Unit|undefined} [majorUnit]\n * @return {object[]}\n */\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  /** @type {Object<number,object>} */\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n\n  // We set the major ticks separately from the above loop because calling startOf for every tick\n  // is expensive when there is a large number of ticks\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nexport default class TimeScale extends Scale {\n\n  static id = 'time';\n\n  /**\n   * @type {any}\n   */\n  static defaults = {\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 2.7.0\n     */\n    bounds: 'data',\n\n    adapters: {},\n    time: {\n      parser: false, // false == a pattern string from or a custom callback that converts its argument to a timestamp\n      unit: false, // false == automatic or override with week, month, year, etc.\n      round: false, // none, or override with week, month, year, etc.\n      isoWeekday: false, // override week start day\n      minUnit: 'millisecond',\n      displayFormats: {}\n    },\n    ticks: {\n      /**\n       * Ticks generation input values:\n       * - 'auto': generates \"optimal\" ticks based on scale size and time options.\n       * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\n       * - 'labels': generates ticks from user given `data.labels` values ONLY.\n       * @see https://github.com/chartjs/Chart.js/pull/4507\n       * @since 2.7.0\n       */\n      source: 'auto',\n\n      callback: false,\n\n      major: {\n        enabled: false\n      }\n    }\n  };\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {{data: number[], labels: number[], all: number[]}} */\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n\n    /** @type {Unit} */\n    this._unit = 'day';\n    /** @type {Unit=} */\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n\n  init(scaleOpts, opts = {}) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    /** @type {DateAdapter} */\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n\n    adapter.init(opts);\n\n    // Backward compatibility: before introducing adapter, `displayFormats` was\n    // supposed to contain *all* unit/string pairs but this can't be resolved\n    // when loading the scale (adapters are loaded afterward), so let's populate\n    // missing formats on update\n    mergeIf(time.displayFormats, adapter.formats());\n\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n\n    super.init(scaleOpts);\n\n    this._normalized = opts.normalized;\n  }\n\n  /**\n\t * @param {*} raw\n\t * @param {number?} [index]\n\t * @return {number}\n\t */\n  parse(raw, index) { // eslint-disable-line no-unused-vars\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    // eslint-disable-next-line prefer-const\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n\n    /**\n\t\t * @param {object} bounds\n\t\t */\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n\n    // If we have user provided `min` and `max` labels / data bounds can be ignored\n    if (!minDefined || !maxDefined) {\n      // Labels are always considered, when user did not force bounds\n      _applyBounds(this._getLabelBounds());\n\n      // If `bounds` is `'ticks'` and `ticks.source` is `'labels'`,\n      // data bounds are ignored (and don't need to be determined)\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n\n    min = isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n\n    // Make sure that max is strictly higher than min (required by the timeseries lookup table)\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n\n  /**\n\t * @private\n\t */\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n\n  /**\n\t * @return {object[]}\n\t */\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n\n    const min = this.min;\n    const max = this.max;\n\n    const ticks = _filterBetween(timestamps, min, max);\n\n    // PRIVATE\n    // determineUnitForFormatting relies on the number of ticks so we don't use it when\n    // autoSkip is enabled because we don't yet know what the final number of ticks will be\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n\n    if (options.reverse) {\n      ticks.reverse();\n    }\n\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n\n  afterAutoSkip() {\n    // Offsets for bar charts need to be handled with the auto skipped\n    // ticks. Once ticks have been skipped, we re-compute the offsets.\n    if (this.options.offsetAfterAutoskip) {\n      this.initOffsets(this.ticks.map(tick => +tick.value));\n    }\n  }\n\n  /**\n\t * Returns the start and end offsets from edges in the form of {start, end}\n\t * where each value is a relative width to the scale and ranges between 0 and 1.\n\t * They add extra margins on the both sides by scaling down the original scale.\n\t * Offsets are added when the `offset` option is true.\n\t * @param {number[]} timestamps\n\t * @protected\n\t */\n  initOffsets(timestamps = []) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n\n  /**\n\t * Generates a maximum of `capacity` timestamps between min and max, rounded to the\n\t * `minor` unit using the given scale time `options`.\n\t * Important: this method can return ticks outside the min and max range, it's the\n\t * responsibility of the calling code to clamp values if needed.\n\t * @private\n\t */\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    // @ts-ignore\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n\n    // For 'week' unit, handle the first day of week option\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n\n    // Align first ticks on unit\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n    // Prevent browser from freezing in case user options request millions of milliseconds\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n\n    // @ts-ignore\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n\n  /**\n\t * @param {number} value\n\t * @return {string}\n\t */\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n\n  /**\n\t * @param {number} value\n\t * @param {string|undefined} format\n\t * @return {string}\n\t */\n  format(value, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const fmt = format || formats[unit];\n    return this._adapter.format(value, fmt);\n  }\n\n  /**\n\t * Function to format an individual tick mark\n\t * @param {number} time\n\t * @param {number} index\n\t * @param {object[]} ticks\n\t * @param {string|undefined} [format]\n\t * @return {string}\n\t * @private\n\t */\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formatter = options.ticks.callback;\n\n    if (formatter) {\n      return call(formatter, [time, index, ticks], this);\n    }\n\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n\n    return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n  }\n\n  /**\n\t * @param {object[]} ticks\n\t */\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n\n  /**\n\t * @param {string} label\n\t * @return {{w:number, h:number}}\n\t * @private\n\t */\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n\n  /**\n\t * @param {number} exampleTime\n\t * @return {number}\n\t * @private\n\t */\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n\n    // pick the longest format (milliseconds) for guesstimation\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    // subtract 1 - if offset then there's one less label than tick\n    // if not offset then one half label padding is added to each end leaving room for one less label\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n\n  /**\n\t * @protected\n\t */\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const metas = this.getMatchingVisibleMetas();\n\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n\n    return (this._cache.data = this.normalize(timestamps));\n  }\n\n  /**\n\t * @protected\n\t */\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n\n  /**\n\t * @param {number[]} values\n\t * @protected\n\t */\n  normalize(values) {\n    // It seems to be somewhat faster to do sorting first\n    return _arrayUnique(values.sort(sorter));\n  }\n}\n","import TimeScale from './scale.time.js';\nimport {_lookupByKey} from '../helpers/helpers.collection.js';\n\n/**\n * Linearly interpolates the given source `val` using the table. If value is out of bounds, values\n * at edges are used for the interpolation.\n * @param {object} table\n * @param {number} val\n * @param {boolean} [reverse] lookup time based on position instead of vice versa\n * @return {object}\n */\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nclass TimeSeriesScale extends TimeScale {\n\n  static id = 'timeseries';\n\n  /**\n   * @type {any}\n   */\n  static defaults = TimeScale.defaults;\n\n  /**\n\t * @param {object} props\n\t */\n  constructor(props) {\n    super(props);\n\n    /** @type {object[]} */\n    this._table = [];\n    /** @type {number} */\n    this._minPos = undefined;\n    /** @type {number} */\n    this._tableRange = undefined;\n  }\n\n  /**\n\t * @protected\n\t */\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n\n  /**\n\t * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\n\t * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\n\t * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\n\t * extremity (left + width or top + height). Note that it would be more optimized to directly\n\t * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\n\t * to create the lookup table. The table ALWAYS contains at least two items: min and max.\n\t * @param {number[]} timestamps\n\t * @return {object[]}\n\t * @protected\n\t */\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n\n    if (items.length < 2) {\n      // In case there is less that 2 timestamps between min and max, the scale is defined by min and max\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n\n      // only add points that breaks the scale linearity\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n\n  /**\n\t * Returns all timestamps\n\t * @return {number[]}\n\t * @private\n\t */\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n\n    if (timestamps.length) {\n      return timestamps;\n    }\n\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      // If combining labels and data (data might not contain all labels),\n      // we need to recheck uniqueness and sort\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n\n    return timestamps;\n  }\n\n  /**\n\t * @param {number} value - Milliseconds since epoch (1 January 1970 00:00:00 UTC)\n\t * @return {number}\n\t */\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n\n  /**\n\t * @param {number} pixel\n\t * @return {number}\n\t */\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\n\nexport default TimeSeriesScale;\n","import type { PropType } from 'vue'\nimport type {\n  ChartType,\n  ChartData,\n  ChartOptions,\n  Plugin,\n  UpdateMode\n} from 'chart.js'\n\nexport const CommonProps = {\n  data: {\n    type: Object as PropType<ChartData>,\n    required: true\n  },\n  options: {\n    type: Object as PropType<ChartOptions>,\n    default: () => ({})\n  },\n  plugins: {\n    type: Array as PropType<Plugin[]>,\n    default: () => []\n  },\n  datasetIdKey: {\n    type: String,\n    default: 'label'\n  },\n  updateMode: {\n    type: String as PropType<UpdateMode>,\n    default: undefined\n  }\n} as const\n\nexport const Props = {\n  type: {\n    type: String as PropType<ChartType>,\n    required: true\n  },\n  ...CommonProps\n} as const\n","import { isProxy, toRaw, version } from 'vue'\nimport type {\n  Chart,\n  ChartType,\n  ChartData,\n  ChartDataset,\n  ChartOptions,\n  DefaultDataPoint\n} from 'chart.js'\n\nexport const compatProps =\n  version[0] === '2'\n    ? <I extends {}, T extends {}>(internals: I, props: T) =>\n        Object.assign(internals, { attrs: props }) as unknown as I & T\n    : <I extends {}, T extends {}>(internals: I, props: T) =>\n        Object.assign(internals, props)\n\nexport function toRawIfProxy<T>(obj: T) {\n  return isProxy(obj) ? toRaw(obj) : obj\n}\n\nexport function cloneProxy<T extends object>(obj: T, src = obj) {\n  return isProxy(src) ? new Proxy(obj, {}) : obj\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  const options = chart.options\n\n  if (options && nextOptions) {\n    Object.assign(options, nextOptions)\n  }\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[],\n  datasetIdKey: string\n) {\n  const addedDatasets: ChartDataset<TType, TData>[] = []\n\n  currentData.datasets = nextDatasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = currentData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      )\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset } as ChartDataset<TType, TData>\n      }\n\n      addedDatasets.push(currentDataset)\n\n      Object.assign(currentDataset, nextDataset)\n\n      return currentDataset\n    }\n  )\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(data: ChartData<TType, TData, TLabel>, datasetIdKey: string) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: []\n  }\n\n  setLabels(nextData, data.labels)\n  setDatasets(nextData, data.datasets, datasetIdKey)\n\n  return nextData\n}\n\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getDatasetAtEvent(chart: Chart, event: MouseEvent) {\n  return chart.getElementsAtEventForMode(\n    event,\n    'dataset',\n    { intersect: true },\n    false\n  )\n}\n\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementAtEvent(chart: Chart, event: MouseEvent) {\n  return chart.getElementsAtEventForMode(\n    event,\n    'nearest',\n    { intersect: true },\n    false\n  )\n}\n\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementsAtEvent(chart: Chart, event: MouseEvent) {\n  return chart.getElementsAtEventForMode(\n    event,\n    'index',\n    { intersect: true },\n    false\n  )\n}\n","import {\n  defineComponent,\n  ref,\n  shallowRef,\n  h,\n  onMounted,\n  onBeforeUnmount,\n  watch,\n  toRaw\n} from 'vue'\nimport { Chart as ChartJS } from 'chart.js'\nimport type { ChartComponent } from './types.js'\nimport { Props } from './props.js'\nimport {\n  cloneData,\n  setLabels,\n  setDatasets,\n  setOptions,\n  toRawIfProxy,\n  cloneProxy\n} from './utils.js'\n\nexport const Chart = defineComponent({\n  props: Props,\n  setup(props, { expose }) {\n    const canvasRef = ref<HTMLCanvasElement | null>(null)\n    const chartRef = shallowRef<ChartJS | null>(null)\n\n    expose({ chart: chartRef })\n\n    const renderChart = () => {\n      if (!canvasRef.value) return\n\n      const { type, data, options, plugins, datasetIdKey } = props\n      const clonedData = cloneData(data, datasetIdKey)\n      const proxiedData = cloneProxy(clonedData, data)\n\n      chartRef.value = new ChartJS(canvasRef.value, {\n        type,\n        data: proxiedData,\n        options: { ...options },\n        plugins\n      })\n    }\n\n    const destroyChart = () => {\n      const chart = toRaw(chartRef.value)\n\n      if (chart) {\n        chart.destroy()\n        chartRef.value = null\n      }\n    }\n\n    const update = (chart: ChartJS) => {\n      chart.update(props.updateMode)\n    }\n\n    onMounted(renderChart)\n\n    onBeforeUnmount(destroyChart)\n\n    watch(\n      [() => props.options, () => props.data],\n      (\n        [nextOptionsProxy, nextDataProxy],\n        [prevOptionsProxy, prevDataProxy]\n      ) => {\n        const chart = toRaw(chartRef.value)\n\n        if (!chart) {\n          return\n        }\n\n        let shouldUpdate = false\n\n        if (nextOptionsProxy) {\n          const nextOptions = toRawIfProxy(nextOptionsProxy)\n          const prevOptions = toRawIfProxy(prevOptionsProxy)\n\n          if (nextOptions && nextOptions !== prevOptions) {\n            setOptions(chart, nextOptions)\n            shouldUpdate = true\n          }\n        }\n\n        if (nextDataProxy) {\n          const nextLabels = toRawIfProxy(nextDataProxy.labels)\n          const prevLabels = toRawIfProxy(prevDataProxy.labels)\n          const nextDatasets = toRawIfProxy(nextDataProxy.datasets)\n          const prevDatasets = toRawIfProxy(prevDataProxy.datasets)\n\n          if (nextLabels !== prevLabels) {\n            setLabels(chart.config.data, nextLabels)\n            shouldUpdate = true\n          }\n\n          if (nextDatasets && nextDatasets !== prevDatasets) {\n            setDatasets(chart.config.data, nextDatasets, props.datasetIdKey)\n            shouldUpdate = true\n          }\n        }\n\n        if (shouldUpdate) {\n          update(chart)\n        }\n      },\n      { deep: true }\n    )\n\n    return () => {\n      return h('canvas', {\n        ref: canvasRef\n      })\n    }\n  }\n}) as ChartComponent\n","import { defineComponent, shallowRef, h } from 'vue'\nimport type { ChartType, ChartComponentLike, DefaultDataPoint } from 'chart.js'\nimport {\n  Chart as ChartJS,\n  BarController,\n  BubbleController,\n  DoughnutController,\n  LineController,\n  PieController,\n  PolarAreaController,\n  RadarController,\n  ScatterController\n} from 'chart.js'\nimport type { TypedChartComponent, ChartComponentRef } from './types.js'\nimport { CommonProps } from './props.js'\nimport { Chart } from './chart.js'\nimport { compatProps } from './utils.js'\n\nexport function createTypedChart<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown\n>(\n  type: TType,\n  registerables: ChartComponentLike\n): TypedChartComponent<TType, TData, TLabel> {\n  ChartJS.register(registerables)\n\n  return defineComponent({\n    props: CommonProps,\n    setup(props, { expose }) {\n      const ref = shallowRef<ChartJS | null>(null)\n      const reforwardRef = (chartRef: ChartComponentRef) => {\n        ref.value = chartRef?.chart\n      }\n\n      expose({ chart: ref })\n\n      return () => {\n        return h(\n          Chart,\n          compatProps(\n            {\n              ref: reforwardRef as any\n            },\n            {\n              type,\n              ...props\n            }\n          )\n        )\n      }\n    }\n  }) as any\n}\n\nexport const Bar = /* #__PURE__ */ createTypedChart('bar', BarController)\n\nexport const Doughnut = /* #__PURE__ */ createTypedChart(\n  'doughnut',\n  DoughnutController\n)\n\nexport const Line = /* #__PURE__ */ createTypedChart('line', LineController)\n\nexport const Pie = /* #__PURE__ */ createTypedChart('pie', PieController)\n\nexport const PolarArea = /* #__PURE__ */ createTypedChart(\n  'polarArea',\n  PolarAreaController\n)\n\nexport const Radar = /* #__PURE__ */ createTypedChart('radar', RadarController)\n\nexport const Bubble = /* #__PURE__ */ createTypedChart(\n  'bubble',\n  BubbleController\n)\n\nexport const Scatter = /* #__PURE__ */ createTypedChart(\n  'scatter',\n  ScatterController\n)\n"],"names":["anObject","module","exports","that","this","result","hasIndices","global","ignoreCase","multiline","dotAll","unicode","unicodeSets","sticky","DESCRIPTORS","defineBuiltInAccessor","regExpFlags","fails","RegExp","RegExpPrototype","prototype","FORCED","INDICES_SUPPORT","error","O","calls","expected","addGetter","key","chr","Object","defineProperty","get","pairs","getOwnPropertyDescriptor","call","configurable","value","ReCaptchaInstance","getInstance","load","ReCaptchaLoader_1","require","enumerable","ReCaptchaInstance_1","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","pop","length","push","siteKey","recaptchaID","recaptcha","styleContainer","execute","action","_a","enterprise","getSiteKey","hideBadge","document","createElement","innerHTML","head","appendChild","showBadge","removeChild","ELoadingState","ReCaptchaLoader","options","Error","getLoadingState","LOADED","instance","LOADING","instanceSiteKey","successfulLoadingConsumers","errorLoadingRunnable","reason","setLoadingState","loader","loadScript","useRecaptchaNet","useEnterprise","renderParameters","customUrl","widgetID","doExplicitRender","grecaptcha","explicitRenderParameters","forEach","autoHideBadge","catch","state","loadingState","NOT_LOADED","_this","scriptElement","setAttribute","scriptBase","render","undefined","parametersQuery","buildQueryString","src","addEventListener","waitForScriptToLoad","onerror","parameters","parameterKeys","keys","filter","parameterKey","map","join","callback","window","setTimeout","SCRIPT_LOAD_DELAY","ready","isEnterprise","augmentedParameters","sitekey","badge","size","tabindex","container","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","BarElement","ArcElement","Title","Tooltip","Legend","name","components","dashboard","Line","Bar","Doughnut","data","planetChartData","chartUser","chartProduct","date","Date","computed","mapGetters","beforeRouteEnter","to","from","store","useReCaptcha","VueReCaptcha","recaptcha_v3_1","vue_1","VueReCaptchaInjectKey","globalConfig","loadedWaiters","inject","initializeReCaptcha","loaderOptions","recaptchaLoaded","isLoaded","_b","install","app","ref","config","globalProperties","$recaptchaLoaded","wrapper","$recaptcha","$recaptchaInstance","provide","executeRecaptcha","compile","i11","i12","i13","i14","ss","product_res","fetch","API_PRODUCT","data_product","json","element","description","includes","type","chartData","labels","datasets","backgroundColor","responsive","lineTension","maintainAspectRatio","scales","x","ticks","beginAtZero","padding","min","max","stepSize","borderColor","borderWidth","animations","tension","duration","easing","loop","title","display","text","Width","admin","user","url","API_USER","response","role","BASE_URL","API_LOGIN","API_FORGOT_PASS","class","_createElementBlock","_hoisted_1","_createVNode","_component_dashboard","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","countries","country","index","href","maps","googleMaps","flags","png","alt","style","_hoisted_5","_toDisplayString","common","_hoisted_6","capital","_hoisted_7","population","_hoisted_8","region","_hoisted_9","timezones","methods","async","res","status","created","getAllCountry","__exports__","_imports_0","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","$event","$options","handeEmail","email","placeholder","errors","password","validate","isValid","price","image","$request","post","$router","params","id","console","log","err","alert","checkLogin","minlength","_hoisted_10","_hoisted_12","_hoisted_13","_component_router_link","_hoisted_14","_component_vue_recaptcha","onVerify","handleRecaptchaVerify","VueRecaptcha","recaptchaSiteKey","recaptchaResponse","mapActions","$swal","fire","icon","isConfirmed","success","$store","commit","_hoisted_11","getUser","userId","$route","_ctx","_createBlock","onClick","logout","_component_font_awesome_icon","fade","mounted","setup","$","mCustomScrollbar","theme","on","toggleClass","attr","save","handePassword","Userid","put","justify","_component_el_form","inline","_component_el_form_item","_component_el_input","searchCountry","_component_el_select","searchOption","_component_el_option","_component_el_button","getWeather","weather","location","tz_id","current","last_updated","condition","temp_c","_hoisted_15","temp_f","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","wind_mph","wind_kph","wind_degree","gust_mph","gust_kph","_hoisted_20","uv","pressure_mb","pressure_in","precip_in","_hoisted_21","_hoisted_22","isLoading","_component_Bar","weatherChart","_hoisted_23","_hoisted_24","_component_el_carousel","interval","height","forecastday","item","_component_el_carousel_item","day","_hoisted_26","_hoisted_27","mintemp_c","maxtemp_c","_hoisted_28","avgvis_km","_hoisted_29","defineComponent","hours","temp_c_values","temp_f_values","hourArray","API_PERSON_KEY","API_WEATHER","forecast","hour","time_values","time","getHours","for","_normalizeClass","product","onBlur","vadilate","cols","rows","cancel","productId","getProduct","isNumber","number","isNaN","parseFloat","isFinite","Productid","width","scope","products","onDelete","getAllProduct","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","delete","disabled","required","_hoisted_25","users","getAllUser","_component_Line","_component_el_calendar","_typeof","obj","constructor","_toPrimitive","input","hint","prim","toPrimitive","String","Number","_toPropertyKey","arg","_defineProperty","toPropertyKey","writable","round","lim","l","h","Math","p2b","n2b","b2n","n2p","map$1","A","B","C","D","E","F","a","b","c","d","hex","h1","h2","eq","isShort","r","hexParse","str","ret","len","alpha","hexString","HUE_RE","hsl2rgbn","s","k","hsv2rgbn","hwb2rgbn","w","rgb","i","hueValue","rgb2hsl","range","calln","Array","isArray","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","m","exec","p1","p2","rotate","deg","hslString","Z","Y","X","W","V","U","T","S","R","Q","N","M","L","K","G","H","I","J","names$1","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","unpack","unpacked","tkeys","j","ok","nk","replace","parseInt","names","nameParse","transparent","toLowerCase","RGB_RE","rgbParse","rgbString","pow","interpolate","rgb1","rgb2","modHSL","ratio","tmp","clone","proto","assign","fromObject","functionParse","charAt","Color","_rgb","_valid","valid","mix","color","weight","c1","c2","w2","p","w1","clearer","greyscale","val","opaquer","negate","lighten","darken","saturate","desaturate","noop","uid","isNullOrUndef","toString","slice","isObject","isNumberFinite","finiteOrDefault","defaultValue","valueOrDefault","toPercentage","dimension","endsWith","toDimension","fn","args","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","source","target","create","klen","isValidKey","indexOf","_merger","tval","sval","merge","sources","merger","mergeIf","_mergerIf","hasOwnProperty","keyResolvers","o","_splitKey","parts","split","part","_getKeyResolver","resolveObjectKey","resolver","_capitalize","toUpperCase","defined","isFunction","setsEqual","has","_isClickEvent","PI","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","abs","niceNum","roundedRange","niceRange","floor","fraction","niceFraction","_factorize","sqrt","sort","almostWhole","rounded","_setMinAndMaxByKey","array","property","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","start","end","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","_lookup","table","cmp","mid","hi","lo","_lookupByKey","last","ti","_rlookupByKey","_filterBetween","values","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","method","base","object","unlistenArrayEvents","stub","splice","_arrayUnique","items","set","Set","requestAnimFrame","requestAnimationFrame","throttled","argsToUse","ticking","debounce","delay","timeout","clearTimeout","_toLeftRightCenter","align","_alignStartEnd","_textX","left","right","rtl","check","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","isPatternOrGradient","getHoverColor","numbers","colors","applyAnimationsDefaults","defaults","describe","_fallback","_indexable","_scriptable","properties","active","animation","resize","show","visible","hide","applyLayoutsDefaults","autoPadding","top","bottom","intlCache","Map","getNumberFormat","locale","cacheKey","JSON","stringify","formatter","Intl","NumberFormat","formatNumber","num","format","formatters","numeric","tickValue","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","Ticks","applyScaleDefaults","offset","bounds","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","tickColor","border","dash","dashOffset","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","startsWith","overrides","descriptors","getScope$1","node","root","Defaults","_descriptors","_appliers","devicePixelRatio","context","platform","getDevicePixelRatio","elements","events","font","family","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","onHover","parsing","plugins","scale","showLine","drawActiveElementsOnTop","override","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","local","appliers","toFontString","_measureText","gc","longest","string","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","stroke","_isPointInArea","point","area","margin","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","setRenderOpts","opts","translation","fillStyle","textAlign","textBaseline","decorateText","line","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","match","numberOrZero","_readValueToProps","props","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","warn","inputs","info","cacheable","_addGrace","minmax","change","keepZero","add","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_resolve","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","_resolveWithPrefixes","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","isScriptable","isIndexable","readKey","prefix","needsSubResolver","_resolveScriptable","_resolveArray","getValue","createSubResolver","arr","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","parsed","parse","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","pointBefore","iPixel","vPixel","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","prev","_isDomSupported","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","ownerDocument","defaultView","getStyle","el","getPropertyValue","positions","getPositionedStyle","styles","suffix","pos","useOffsetPos","shadowRoot","getCanvasPosition","touches","offsetX","offsetY","box","getBoundingClientRect","clientX","clientY","getRelativePosition","event","borderBox","boxSizing","paddings","borders","getContainerSize","maxHeight","containerStyle","containerBorder","containerPadding","clientWidth","clientHeight","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","maintainHeight","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","removeEventListener","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRightToLeftAdapter","rectX","setWidth","xPlus","leftForLtr","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","getSegment","segment","startBound","endBound","_boundSegment","prevValue","inside","subStart","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","cur","stop","_computeSegments","segmentOptions","_loop","splitByStyles","completeLoop","_fullLoop","doSplitByStyles","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer","Animator","_request","_charts","_running","_lastDate","_notify","anims","callbacks","numSteps","initial","currentStep","_refresh","_update","now","remaining","running","draw","_active","_total","tick","_getAnims","charts","complete","progress","listen","cb","reduce","acc","_duration","remove","animator","interpolators","boolean","factor","c0","Animation","cfg","currentValue","_fn","_easing","_start","_target","_prop","_from","_to","_promises","update","elapsed","wait","promises","rej","resolved","Animations","_properties","configure","animationOptions","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","resolveTargetOptions","_createAnimations","$shared","awaitAll","$animations","anim","all","scaleClip","allowedOverflow","defaultClip","toClip","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","convertObjectDataToArray","adata","isStacked","stacked","getStackKey","indexScale","valueScale","NEGATIVE_INFINITY","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","_cachedMeta","_stacks","iAxis","vAxis","itemStacks","_top","_bottom","visualValues","_visualValues","getFirstScaleId","shift","createDatasetContext","dataset","createDataContext","dataIndex","raw","clearStacks","isDirectUpdateMode","cloneIfNotShared","cached","shared","createStack","canStack","hidden","_stacked","DatasetController","_cachedDataOpts","getMeta","_type","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","supportsDecimation","$context","_syncList","datasetElementType","dataElementType","initialize","linkScales","addElements","isPluginEnabled","updateIndex","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","getScaleForId","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","isExtensible","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","otherScale","otherMin","otherMax","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","getLabelForValue","_clip","chartArea","resolveDatasetElementOptions","resolveDataElementOptions","_resolveElementOptions","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","_getSharedOptions","firstOpts","previouslySharedOptions","updateSharedOptions","updateElement","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","arguments","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","getAllScaleValues","$bar","visibleMetas","concat","computeMinSampleSize","curr","_length","updateMinAndPrev","getPixelForTick","computeFitCategoryTraits","ruler","stackCount","thickness","barThickness","categoryPercentage","barPercentage","chunk","pixels","computeFlexCategoryTraits","percent","parseFloatBar","entry","startValue","endValue","barStart","barEnd","_custom","parseValue","parseArrayOrPrimitive","isFloatBar","custom","barSign","actualBase","isHorizontal","borderProps","horizontal","setBorderSkipped","edge","borderSkipped","enableBorderRadius","parseEdge","swap","startEnd","orig","v2","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","super","bars","getBasePixel","_getRuler","vpixels","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","grouped","skipNull","_getStackCount","_getStackIndex","_startPixel","_endPixel","baseValue","minBarLength","floating","getDataVisibility","startPixel","getPixelForDecimal","endPixel","getValueForPixel","halfGrid","getLineWidthForValue","maxBarThickness","Infinity","stackIndex","rects","_index_","_value_","BubbleController","getRatioAndOffset","circumference","cutout","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","DoughnutController","innerRadius","outerRadius","getter","_getRotation","_getCircumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","chartWeight","_getRingWeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","legend","generateLabels","fontColor","legendItem","toggleDataVisibility","LineController","_dataset","_decimated","animated","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","lastPoint","updateControlPoints","PolarAreaController","bind","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","circular","pointLabels","PieController","RadarController","pointPosition","getPointPositionForValue","ScatterController","registry","getElement","abstract","DateAdapterBase","static","members","init","formats","diff","startOf","endOf","adapters","_date","binarySearch","metaset","lookupMethod","_reversePixels","getRange","evaluateInteractionItems","position","handler","getSortedVisibleDatasetMetas","getDistanceMetricForAxis","useX","useY","deltaX","deltaY","getIntersectItems","useFinalPosition","isPointInArea","evaluationFunc","inRange","getNearestRadialItems","getProps","getNearestCartesianItems","distanceMetric","minDistance","getCenterPoint","pointInArea","getNearestItems","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","stackWeight","buildStacks","layouts","wrap","placed","setLayoutDims","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","availableWidth","availableHeight","buildLayoutBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","handleMaxPadding","updatePos","getMargins","marginForPositions","fitBoxes","refitBoxes","refit","setBoxDims","placeBoxes","userPadding","addBox","_layers","z","removeBox","layoutItem","minPadding","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","BasePlatform","acquireContext","releaseContext","isAttached","updateConfig","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","initCanvas","renderHeight","getAttribute","renderWidth","displayWidth","displayHeight","eventListenerOptions","addListener","removeListener","fromNativeEvent","native","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","ResizeObserver","contentRect","releaseObserver","disconnect","createProxyAndListen","DomPlatform","removeAttribute","proxies","$proxies","handlers","attach","detach","isConnected","_detectPlatform","OffscreenCanvas","Element","tooltipPosition","hasValue","final","tickOpts","determinedMaxTicks","determineMaxTicks","ticksLimit","maxTicksLimit","majorIndices","enabled","getMajorIndices","numMajorIndices","first","newTicks","skipMajors","calculateSpacing","avgMajorSpacing","_tickSize","maxScale","maxChart","_maxLength","evenMajorSpacing","getEvenSpacing","factors","ceil","majorStart","majorEnd","reverseAlign","offsetFromEdge","getTicksLimit","ticksLength","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","caches","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","titleAlign","titleArgs","titleX","titleY","positionAxisID","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","getLabelItems","_computeLabelItems","beforeUpdate","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","afterAutoSkip","beforeFit","fit","afterFit","afterUpdate","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","idx","decimal","getDecimalForPixel","getBaseValue","optionTicks","rot","_computeGridLineItems","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","limit","optsAtIndex","optsAtIndexBorder","lineColor","tickBorderDash","tickBorderDashOffset","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","tickTextAlign","labelPadding","_computeLabelArea","drawBackground","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","drawBorder","lastLineWidth","drawLabels","renderTextOptions","drawTitle","tz","gz","bz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","isIChartComponent","registerDefaults","unregister","itemDefaults","defaultRoutes","routeDefaults","routes","propertyParts","sourceName","sourceScope","Registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","reg","_getRegistryForType","_exec","itemReg","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","allPlugins","createDescriptors","previousDescriptors","some","localIds","getOpts","pluginOpts","pluginScopeKeys","getIndexAxis","datasetDefaults","datasetOptions","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","idMatchesAxis","axisFromPosition","determineAxis","scaleOptions","getAxisFromDataset","retrieveAxisFromDatasets","boundDs","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","needContext","subResolver","resolverCache","hasFunction","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","determineLastEvent","lastEvent","inChartArea","isClick","getDatasetArea","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","ensureScalesHaveIDs","scalesOptions","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","scaleClass","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_minPadding","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","destroy","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","eventFilter","_handleEvent","_getActiveElements","clipArc","pixelMargin","angleMargin","toRadiusCorners","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","spacingOffset","noSpacingInnerRadius","noSpacingOuterRadius","avNogSpacingRadius","adjustedAngle","beta","angleOffset","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","outerMidAdjustedAngle","pCenter","p4","innerMidAdjustedAngle","p8","outerStartX","outerStartY","outerEndX","outerEndY","drawArc","fullCircles","inner","lineJoin","version","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","fix","radiusOffset","setStyle","lineCap","getLineMethod","stepped","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","useFastPath","_getInterpolationMethod","strokePathWithCache","path","_path","Path2D","strokePathDirect","segmentMethod","usePath2D","_points","_segments","_pointsUpdated","_interpolate","interpolated","inRange$1","hitRadius","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","skipOrLimit","parseBorderWidth","maxW","maxH","parseBorderRadius","maxR","enableBorder","boundingRects","outer","skipX","skipY","skipBoth","hasRadius","addNormalRectPath","inflateRect","amount","refRect","addRectPath","getBoxSize","labelOpts","boxHeight","boxWidth","usePointStyle","pointStyleWidth","itemHeight","itemsEqual","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","labelFont","_computeTitleHeight","_fitRows","_fitCols","hitboxes","totalHeight","row","_itemHeight","heightLimit","totalWidth","currentColWidth","currentColHeight","col","calculateItemSize","adjustHitBoxes","rtlHelper","hitbox","_draw","defaultColor","halfFontSize","cursor","drawLegendBox","lineDash","drawOptions","SQRT2","yBoxTop","xBoxLeft","textDirection","realX","fontLineHeight","calculateLegendItemHeight","titleFont","titlePadding","topPaddingPlusHalfFontSize","_getLegendItemAt","hitBox","lh","handleEvent","isListened","hoveredItem","sameItem","onLeave","calculateItemWidth","calculateItemHeight","legendItemText","plugin_legend","_element","_args","afterEvent","ci","useBorderRadius","_padding","textSize","_drawArgs","fontOpts","createTitle","titleBlock","plugin_title","WeakMap","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","formattedValue","getTooltipSize","tooltip","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","bodyLineHeight","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","caretSize","caretPadding","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","defaultCallbacks","beforeTitle","labelCount","afterTitle","beforeLabel","tooltipItem","labelColor","labelTextColor","bodyColor","labelPointStyle","afterLabel","beforeFooter","afterFooter","invokeCallbackWithFallback","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","getTitle","getBeforeBody","getBody","bodyItems","scoped","getAfterBody","getFooter","_createItems","itemSort","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","_willRender","hasTooltipContent","globalAlpha","positionChanged","_positionChanged","_ignoreReplayEvents","plugin_tooltip","afterInit","afterDraw","addIfString","addedLabels","unshift","findOrAddLabel","lastIndexOf","_getLabelForValue","_startValue","_valueRange","_addedLabels","added","generateTicks$1","generationOptions","dataRange","MIN_SPACING","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","decimalPlaces","relativeLabelSize","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","getTickLimit","computeTickLimit","numericGeneratorOptions","log10Floor","changeExponent","isMajor","tickVal","steps","rangeExp","rangeStep","startExp","generateTicks","minExp","exp","lastTick","LogarithmicScale","_zero","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","limits","valueCount","_pointLabels","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","getPointPosition","drawingArea","plFont","hLimits","vLimits","updateLimits","setCenterPoint","_pointLabelItems","buildPointLabelItems","createPointLabelItem","itemOpts","outerDistance","extra","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","isNotOverlapped","apexesInArea","drawPointLabelBox","backdropLeft","backdropTop","backdropWidth","backdropHeight","drawPointLabels","pathRadiusLine","drawRadiusLine","gridLineOpts","createPointLabelContext","RadialLinearScale","leftMovement","rightMovement","topMovement","bottomMovement","angleMultiplier","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","distanceFromCenter","getBasePosition","getPointLabelPosition","animate","INTERVALS","millisecond","second","minute","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","MAX_SAFE_INTEGER","determineUnitForFormatting","determineMajorUnit","addTick","timestamps","timestamp","setMajorTicks","majorUnit","ticksFromTimestamps","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","initOffsets","offsetAfterAutoskip","getDecimalForValue","weekday","hasWeekday","getDataTimestamps","tooltipFormat","datetime","fmt","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","CommonProps","default","datasetIdKey","updateMode","Props","compatProps","internals","attrs","toRawIfProxy","isProxy","toRaw","cloneProxy","setOptions","nextOptions","setLabels","currentData","nextLabels","setDatasets","nextDatasets","addedDatasets","nextDataset","currentDataset","find","cloneData","nextData","param","expose","canvasRef","chartRef","shallowRef","renderChart","clonedData","proxiedData","Chart$1","destroyChart","onMounted","onBeforeUnmount","watch","param1","nextOptionsProxy","nextDataProxy","prevOptionsProxy","prevDataProxy","shouldUpdate","prevOptions","prevLabels","prevDatasets","deep","createTypedChart","registerables","reforwardRef"],"sourceRoot":""}