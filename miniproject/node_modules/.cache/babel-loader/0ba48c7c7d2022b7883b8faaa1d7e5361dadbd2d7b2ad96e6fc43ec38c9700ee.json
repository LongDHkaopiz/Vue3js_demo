{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6a1e99b4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"d-flex\"\n};\nconst _hoisted_2 = {\n  class: \"container\",\n  style: {\n    \"position\": \"relative\"\n  }\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"text-gray-500\"\n}, \"-\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"main-content\",\n  style: {\n    \"padding-top\": \"20px\"\n  }\n};\nconst _hoisted_5 = {\n  class: \"news-item\"\n};\nconst _hoisted_6 = {\n  class: \"image\"\n};\nconst _hoisted_7 = [\"src\", \"alt\"];\nconst _hoisted_8 = {\n  class: \"item-content\"\n};\nconst _hoisted_9 = {\n  class: \"title\"\n};\nconst _hoisted_10 = [\"href\"];\nconst _hoisted_11 = {\n  class: \"published_date\"\n};\nconst _hoisted_12 = {\n  class: \"footer-pagination\",\n  style: {\n    \"margin\": \"50px 0 20px 0\",\n    \"position\": \"absolute\",\n    \"left\": \"29%\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_dashboard = _resolveComponent(\"dashboard\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_dashboard), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_form, {\n    model: _ctx.form,\n    \"label-width\": \"120px\",\n    rules: $data.rules\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"Search By\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.search,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search = $event)\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"Activity time\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_col, {\n        span: 11\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n          type: \"date\",\n          placeholder: \"From date\",\n          style: {\n            \"width\": \"100%\"\n          },\n          modelValue: $data.date_from,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.date_from = $event)\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_col, {\n        span: 2,\n        class: \"text-center\"\n      }, {\n        default: _withCtx(() => [_hoisted_3]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_col, {\n        span: 11\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n          placeholder: \"To date\",\n          style: {\n            \"width\": \"100%\"\n          },\n          modelValue: $data.date_to,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.date_to = $event)\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.getAllNews\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Search\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\", \"rules\"]), _createVNode(_component_el_form_item, {\n    label: \"Sort By\",\n    style: {\n      \"right\": \"2%\",\n      \"position\": \"absolute\",\n      \"width\": \"160px\"\n    },\n    id: \"select-option\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_select, {\n      modelValue: $data.sort_by,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.sort_by = $event),\n      filterable: \"\",\n      placeholder: \"Sort\",\n      onChange: $options.getAllNews\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_option, {\n        label: \"Default\",\n        value: \"relevancy\"\n      }), _createVNode(_component_el_option, {\n        label: \"Date\",\n        value: \"date\"\n      }), _createVNode(_component_el_option, {\n        label: \"Rank\",\n        value: \"rank\"\n      }), _createCommentVNode(\" Thêm các tùy chọn khác tại đây \")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"onChange\"])]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.news, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"row\",\n      key: index,\n      style: {\n        \"position\": \"relative\"\n      }\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"img\", {\n      src: item.media,\n      alt: item.excerpt\n    }, null, 8 /* PROPS */, _hoisted_7)]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h3\", _hoisted_9, [_createElementVNode(\"a\", {\n      href: item.link\n    }, _toDisplayString(item.title), 9 /* TEXT, PROPS */, _hoisted_10)]), _createCommentVNode(\" <p class=\\\"summary\\\">{{ item.summary }}</p> \"), _createElementVNode(\"span\", _hoisted_11, _toDisplayString(item.published_date), 1 /* TEXT */)])])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_el_pagination, {\n    background: \"\",\n    layout: \"prev, pager, next\",\n    total: 100,\n    \"current-page\": $data.currentPage,\n    onCurrentChange: $options.handlePaginationChange\n  }, null, 8 /* PROPS */, [\"current-page\", \"onCurrentChange\"])]), _createCommentVNode(\" totalPages \")])]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_dashboard","_hoisted_2","_component_el_form","model","_ctx","form","rules","$data","_component_el_form_item","label","required","_component_el_input","search","$event","_component_el_col","span","_component_el_date_picker","type","placeholder","date_from","_hoisted_3","date_to","_component_el_button","onClick","$options","getAllNews","id","_component_el_select","sort_by","filterable","onChange","_component_el_option","value","_createCommentVNode","_hoisted_4","_Fragment","_renderList","news","item","index","key","_hoisted_5","_hoisted_6","src","media","alt","excerpt","_hoisted_8","_hoisted_9","href","link","title","_hoisted_10","_hoisted_11","_toDisplayString","published_date","_hoisted_12","_component_el_pagination","background","layout","total","currentPage","onCurrentChange","handlePaginationChange"],"sources":["/home/longdh@kaopiz.local/Music/vueMiniProject/miniproject/src/views/admin/authors/News.vue"],"sourcesContent":["<template>\n    <div class=\"d-flex\">\n        <dashboard></dashboard>\n        <div class=\"container\" style=\"position: relative;\">\n            <el-form :model=\"form\" label-width=\"120px\" :rules=\"rules\">\n                <el-form-item label=\"Search By\" required>\n                    <el-input v-model=\"search\" />\n                </el-form-item>\n\n                <el-form-item label=\"Activity time\" required>\n                    <el-col :span=\"11\">\n                        <el-date-picker type=\"date\" placeholder=\"From date\" style=\"width: 100%\" v-model=\"date_from\" />\n                    </el-col>\n                    <el-col :span=\"2\" class=\"text-center\">\n                        <span class=\"text-gray-500\">-</span>\n                    </el-col>\n                    <el-col :span=\"11\">\n                        <el-date-picker placeholder=\"To date\" style=\"width: 100%\" v-model=\"date_to\" />\n                    </el-col>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"getAllNews\">Search</el-button>\n                </el-form-item>\n            </el-form>\n            <el-form-item label=\"Sort By\" style=\"right: 2%;position: absolute; width: 160px;\" id=\"select-option\">\n                <el-select v-model=\"sort_by\" filterable placeholder=\"Sort\" @change=\"getAllNews\">\n                    <el-option label=\"Default\" value=\"relevancy\"></el-option>\n                    <el-option label=\"Date\" value=\"date\"></el-option>\n                    <el-option label=\"Rank\" value=\"rank\"></el-option>\n                    <!-- Thêm các tùy chọn khác tại đây -->\n                </el-select>\n            </el-form-item>\n\n            <div class=\"main-content\" style=\"padding-top: 20px;\">\n\n                <div class=\"row\" :key=\"index\" v-for=\"(item, index) in news\" style=\"position: relative;\">\n                    <div class=\"news-item\">\n                        <div class=\"image\">\n                            <img :src=\"item.media\" :alt=\"item.excerpt\">\n                        </div>\n                        <div class=\"item-content\">\n                            <h3 class=\"title\"><a :href=\"item.link\">{{ item.title }}</a></h3>\n                            <!-- <p class=\"summary\">{{ item.summary }}</p> -->\n                            <span class=\"published_date\">{{ item.published_date }}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"footer-pagination\" style=\"margin: 50px 0 20px 0;position: absolute;left: 29%;\">\n                <el-pagination background layout=\"prev, pager, next\" :total=\"100\" :current-page.sync=\"currentPage\"\n                    @current-change=\"handlePaginationChange\" />\n            </div>\n\n            <!-- totalPages -->\n        </div>\n    </div>\n</template>\n<script >\nimport { API_NEWS, API_NEWS_KEY } from '../common/contants'\nimport dashboard from './Sidebar.vue'\nexport default {\n    name: 'admin.news',\n    components: {\n        dashboard,\n    },\n    data() {\n        return {\n            news: [],\n            search: '',\n            date_from: '',\n            date_to: '',\n            new_date_from: '',\n            new_date_to: '',\n            page: '',\n            sort_by: 'relevancy',\n            currentPage: 1,\n            totalPages: '',\n            rules: []\n        }\n    },\n    methods: {\n        async getAllNews() {\n\n            this.new_date_from = this.convertDateTime(this.date_from)\n            this.new_date_to = this.convertDateTime(this.date_to)\n            const url = API_NEWS + `search?q=${this.search}&from=${this.new_date_from}&to=${this.new_date_to}&lang=en&topic=all&sort_by=${this.sort_by}&page_size=9&page=${this.currentPage}`;\n            const options = {\n                method: 'GET',\n                headers: {\n                    'x-api-key': API_NEWS_KEY,\n                }\n            };\n            try {\n                const response = await fetch(url, options);\n                const rest = await response.json();\n                this.news = rest.articles\n                this.totalPages = Math.ceil(rest.total_pages / 9);\n            } catch (error) {\n                console.error(error);\n\n            }\n            console.log(this.currentPage);\n        },\n        convertDateTime(value) {\n            let dateObj = new Date(value);\n            let year = dateObj.getFullYear();\n            let month = (\"0\" + (dateObj.getMonth() + 1)).slice(-2);\n            let day = (\"0\" + dateObj.getDate()).slice(-2);\n            let formattedDate = `${year}/${month}/${day}`;\n            return formattedDate;\n        },\n        handlePaginationChange(newPage) {\n            this.currentPage = newPage;\n            this.getAllNews();\n        },\n    },\n    created() {\n        const rules = reactive < FormRules < RuleForm >> ({\n            name: [\n                { required: true, message: 'Please input Activity name', trigger: 'blur' },\n                { min: 3, max: 5, message: 'Length should be 3 to 5', trigger: 'blur' },\n            ],\n            region: [\n                {\n                    required: true,\n                    message: 'Please select Activity zone',\n                    trigger: 'change',\n                },\n            ],\n            count: [\n                {\n                    required: true,\n                    message: 'Please select Activity count',\n                    trigger: 'change',\n                },\n            ],\n            date1: [\n                {\n                    type: 'date',\n                    required: true,\n                    message: 'Please pick a date',\n                    trigger: 'change',\n                },\n            ],\n            date2: [\n                {\n                    type: 'date',\n                    required: true,\n                    message: 'Please pick a time',\n                    trigger: 'change',\n                },\n            ],\n            type: [\n                {\n                    type: 'array',\n                    required: true,\n                    message: 'Please select at least one activity type',\n                    trigger: 'change',\n                },\n            ],\n            resource: [\n                {\n                    required: true,\n                    message: 'Please select activity resource',\n                    trigger: 'change',\n                },\n            ],\n            desc: [\n                { required: true, message: 'Please input activity form', trigger: 'blur' },\n            ],\n        })\n    },\n}\n</script>\n<style scoped>\n.main-content {\n    display: flex;\n    width: 100%;\n    align-items: center;\n    flex-wrap: wrap;\n    justify-content: space-around;\n    gap: 10px;\n}\n\n.row {\n\n    width: 30%;\n}\n\n.news-item {\n    width: 100%;\n}\n\nimg {\n    width: 100%;\n    height: 200px;\n    cursor: pointer;\n}\n\n.title {\n    height: 60px;\n}\n\n.title a {\n    color: #000;\n    text-decoration: none;\n    background-color: transparent;\n    font-family: 'Times New Roman', Times, serif;\n}\n\n.published_date {\n    font-family: Georgia, 'Times New Roman', Times, serif;\n    font-size: 11px;\n    font-weight: 600;\n    color: white;\n    position: absolute;\n    right: 2.1%;\n    top: 68%;\n}\n\n.el-form-item {\n    display: flex;\n    --font-size: 14px;\n    margin-bottom: 18px;\n    /* float: left; */\n    align-items: baseline;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}